(self.webpackChunkapp=self.webpackChunkapp||[]).push([[77],{77:(Tn,gn,jt)=>{"use strict";jt.r(gn),jt.d(gn,{HomePageModule:()=>qs});var dn=jt(9808),v=jt(5649),cr=jt(3075),tn=jt(6114),fr=jt(655),Jt=jt(1397);function hr(n,i){return null==n||null==i?NaN:n<i?-1:n>i?1:n>=i?0:NaN}function Or(n,i){return null==n||null==i?NaN:i<n?-1:i>n?1:i>=n?0:NaN}function Fe(n){let i,s,a;function l(g,_,w=0,m=g.length){if(w<m){if(0!==i(_,_))return m;do{const b=w+m>>>1;s(g[b],_)<0?w=b+1:m=b}while(w<m)}return w}return 2!==n.length?(i=hr,s=(g,_)=>hr(n(g),_),a=(g,_)=>n(g)-_):(i=n===hr||n===Or?n:_n,s=n,a=n),{left:l,center:function h(g,_,w=0,m=g.length){const b=l(g,_,w,m-1);return b>w&&a(g[b-1],_)>-a(g[b],_)?b-1:b},right:function f(g,_,w=0,m=g.length){if(w<m){if(0!==i(_,_))return m;do{const b=w+m>>>1;s(g[b],_)<=0?w=b+1:m=b}while(w<m)}return w}}}function _n(){return 0}function te(n){return n}function xt(n){return"translate("+n+",0)"}function ee(n){return"translate(0,"+n+")"}function Wt(n){return i=>+n(i)}function ae(n,i){return i=Math.max(0,n.bandwidth()-2*i)/2,n.round()&&(i=Math.round(i)),s=>+n(s)+i}function $t(){return!this.__axis}function Te(n,i){var s=[],a=null,l=null,f=6,h=6,g=3,_="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,w=1===n||4===n?-1:1,m=4===n||2===n?"x":"y",b=1===n||3===n?xt:ee;function T(O){var H=null==a?i.ticks?i.ticks.apply(i,s):i.domain():a,G=null==l?i.tickFormat?i.tickFormat.apply(i,s):te:l,S=Math.max(f,0)+g,P=i.range(),D=+P[0]+_,R=+P[P.length-1]+_,X=(i.bandwidth?ae:Wt)(i.copy(),_),$=O.selection?O.selection():O,Q=$.selectAll(".domain").data([null]),K=$.selectAll(".tick").data(H,i).order(),ht=K.exit(),Mt=K.enter().append("g").attr("class","tick"),ft=K.select("line"),W=K.select("text");Q=Q.merge(Q.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),K=K.merge(Mt),ft=ft.merge(Mt.append("line").attr("stroke","currentColor").attr(m+"2",w*f)),W=W.merge(Mt.append("text").attr("fill","currentColor").attr(m,w*S).attr("dy",1===n?"0em":3===n?"0.71em":"0.32em")),O!==$&&(Q=Q.transition(O),K=K.transition(O),ft=ft.transition(O),W=W.transition(O),ht=ht.transition(O).attr("opacity",1e-6).attr("transform",function(Tt){return isFinite(Tt=X(Tt))?b(Tt+_):this.getAttribute("transform")}),Mt.attr("opacity",1e-6).attr("transform",function(Tt){var vt=this.parentNode.__axis;return b((vt&&isFinite(vt=vt(Tt))?vt:X(Tt))+_)})),ht.remove(),Q.attr("d",4===n||2===n?h?"M"+w*h+","+D+"H"+_+"V"+R+"H"+w*h:"M"+_+","+D+"V"+R:h?"M"+D+","+w*h+"V"+_+"H"+R+"V"+w*h:"M"+D+","+_+"H"+R),K.attr("opacity",1).attr("transform",function(Tt){return b(X(Tt)+_)}),ft.attr(m+"2",w*f),W.attr(m,w*S).text(G),$.filter($t).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===n?"start":4===n?"end":"middle"),$.each(function(){this.__axis=X})}return T.scale=function(O){return arguments.length?(i=O,T):i},T.ticks=function(){return s=Array.from(arguments),T},T.tickArguments=function(O){return arguments.length?(s=null==O?[]:Array.from(O),T):s.slice()},T.tickValues=function(O){return arguments.length?(a=null==O?null:Array.from(O),T):a&&a.slice()},T.tickFormat=function(O){return arguments.length?(l=O,T):l},T.tickSize=function(O){return arguments.length?(f=h=+O,T):f},T.tickSizeInner=function(O){return arguments.length?(f=+O,T):f},T.tickSizeOuter=function(O){return arguments.length?(h=+O,T):h},T.tickPadding=function(O){return arguments.length?(g=+O,T):g},T.offset=function(O){return arguments.length?(_=+O,T):_},T}function Zn(n){return Te(3,n)}function Pr(n){return Te(4,n)}function pr(){}function Bn(n){return null==n?pr:function(){return this.querySelector(n)}}function gi(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}function vo(){return[]}function di(n){return null==n?vo:function(){return this.querySelectorAll(n)}}function Er(n){return function(){return this.matches(n)}}function On(n){return function(i){return i.matches(n)}}var ke=Array.prototype.find;function yo(){return this.firstElementChild}var Pn=Array.prototype.filter;function En(){return Array.from(this.children)}function Zt(n){return new Array(n.length)}function Ft(n,i){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=i}function Je(n){return function(){return n}}function ne(n,i,s,a,l,f){for(var g,h=0,_=i.length,w=f.length;h<w;++h)(g=i[h])?(g.__data__=f[h],a[h]=g):s[h]=new Ft(n,f[h]);for(;h<_;++h)(g=i[h])&&(l[h]=g)}function We(n,i,s,a,l,f,h){var g,_,O,w=new Map,m=i.length,b=f.length,T=new Array(m);for(g=0;g<m;++g)(_=i[g])&&(T[g]=O=h.call(_,_.__data__,g,i)+"",w.has(O)?l[g]=_:w.set(O,_));for(g=0;g<b;++g)O=h.call(n,f[g],g,f)+"",(_=w.get(O))?(a[g]=_,_.__data__=f[g],w.delete(O)):s[g]=new Ft(n,f[g]);for(g=0;g<m;++g)(_=i[g])&&w.get(T[g])===_&&(l[g]=_)}function vn(n){return n.__data__}function Sn(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function Ou(n,i){return n<i?-1:n>i?1:n>=i?0:NaN}Ft.prototype={constructor:Ft,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,i){return this._parent.insertBefore(n,i)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var Ir="http://www.w3.org/1999/xhtml";const vi={svg:"http://www.w3.org/2000/svg",xhtml:Ir,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dr(n){var i=n+="",s=i.indexOf(":");return s>=0&&"xmlns"!==(i=n.slice(0,s))&&(n=n.slice(s+1)),vi.hasOwnProperty(i)?{space:vi[i],local:n}:n}function Ao(n){return function(){this.removeAttribute(n)}}function Mo(n){return function(){this.removeAttributeNS(n.space,n.local)}}function To(n,i){return function(){this.setAttribute(n,i)}}function Co(n,i){return function(){this.setAttributeNS(n.space,n.local,i)}}function Eu(n,i){return function(){var s=i.apply(this,arguments);null==s?this.removeAttribute(n):this.setAttribute(n,s)}}function Su(n,i){return function(){var s=i.apply(this,arguments);null==s?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,s)}}function Zo(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Ns(n){return function(){this.style.removeProperty(n)}}function Lu(n,i,s){return function(){this.style.setProperty(n,i,s)}}function Uu(n,i,s){return function(){var a=i.apply(this,arguments);null==a?this.style.removeProperty(n):this.style.setProperty(n,a,s)}}function _r(n,i){return n.style.getPropertyValue(i)||Zo(n).getComputedStyle(n,null).getPropertyValue(i)}function Hs(n){return function(){delete this[n]}}function Ru(n,i){return function(){this[n]=i}}function zu(n,i){return function(){var s=i.apply(this,arguments);null==s?delete this[n]:this[n]=s}}function yi(n){return n.trim().split(/^|\s+/)}function Oo(n){return n.classList||new wi(n)}function wi(n){this._node=n,this._names=yi(n.getAttribute("class")||"")}function Bs(n,i){for(var s=Oo(n),a=-1,l=i.length;++a<l;)s.add(i[a])}function Js(n,i){for(var s=Oo(n),a=-1,l=i.length;++a<l;)s.remove(i[a])}function qu(n){return function(){Bs(this,n)}}function Fu(n){return function(){Js(this,n)}}function Nu(n,i){return function(){(i.apply(this,arguments)?Bs:Js)(this,n)}}function Bu(){this.textContent=""}function Ju(n){return function(){this.textContent=n}}function Ws(n){return function(){var i=n.apply(this,arguments);this.textContent=null==i?"":i}}function $u(){this.innerHTML=""}function Gu(n){return function(){this.innerHTML=n}}function Yu(n){return function(){var i=n.apply(this,arguments);this.innerHTML=null==i?"":i}}function Xu(){this.nextSibling&&this.parentNode.appendChild(this)}function Ku(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Vu(n){return function(){var i=this.ownerDocument,s=this.namespaceURI;return s===Ir&&i.documentElement.namespaceURI===Ir?i.createElement(n):i.createElementNS(s,n)}}function ju(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function $s(n){var i=dr(n);return(i.local?ju:Vu)(i)}function Ys(){return null}function tl(){var n=this.parentNode;n&&n.removeChild(this)}function nl(){var n=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function rl(){var n=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function Po(n){return n.trim().split(/^|\s+/).map(function(i){var s="",a=i.indexOf(".");return a>=0&&(s=i.slice(a+1),i=i.slice(0,a)),{type:i,name:s}})}function il(n){return function(){var i=this.__on;if(i){for(var f,s=0,a=-1,l=i.length;s<l;++s)f=i[s],n.type&&f.type!==n.type||f.name!==n.name?i[++a]=f:this.removeEventListener(f.type,f.listener,f.options);++a?i.length=a:delete this.__on}}}function js(n,i,s){return function(){var l,a=this.__on,f=function Vs(n){return function(i){n.call(this,i,this.__data__)}}(i);if(a)for(var h=0,g=a.length;h<g;++h)if((l=a[h]).type===n.type&&l.name===n.name)return this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=f,l.options=s),void(l.value=i);this.addEventListener(n.type,f,s),l={type:n.type,name:n.name,value:i,listener:f,options:s},a?a.push(l):this.__on=[l]}}function Eo(n,i,s){var a=Zo(n),l=a.CustomEvent;"function"==typeof l?l=new l(i,s):(l=a.document.createEvent("Event"),s?(l.initEvent(i,s.bubbles,s.cancelable),l.detail=s.detail):l.initEvent(i,!1,!1)),n.dispatchEvent(l)}function ol(n,i){return function(){return Eo(this,n,i)}}function ta(n,i){return function(){return Eo(this,n,i.apply(this,arguments))}}wi.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var i=this._names.indexOf(n);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var na=[null];function ve(n,i){this._groups=n,this._parents=i}function Mi(){return new ve([[document.documentElement]],na)}ve.prototype=Mi.prototype={constructor:ve,select:function mo(n){"function"!=typeof n&&(n=Bn(n));for(var i=this._groups,s=i.length,a=new Array(s),l=0;l<s;++l)for(var _,w,f=i[l],h=f.length,g=a[l]=new Array(h),m=0;m<h;++m)(_=f[m])&&(w=n.call(_,_.__data__,m,f))&&("__data__"in _&&(w.__data__=_.__data__),g[m]=w);return new ve(a,this._parents)},selectAll:function Be(n){n="function"==typeof n?function mn(n){return function(){return gi(n.apply(this,arguments))}}(n):di(n);for(var i=this._groups,s=i.length,a=[],l=[],f=0;f<s;++f)for(var _,h=i[f],g=h.length,w=0;w<g;++w)(_=h[w])&&(a.push(n.call(_,_.__data__,w,h)),l.push(_));return new ve(a,l)},selectChild:function wo(n){return this.select(null==n?yo:function _i(n){return function(){return ke.call(this.children,n)}}("function"==typeof n?n:On(n)))},selectChildren:function Y(n){return this.selectAll(null==n?En:function Nt(n){return function(){return Pn.call(this.children,n)}}("function"==typeof n?n:On(n)))},filter:function Pt(n){"function"!=typeof n&&(n=Er(n));for(var i=this._groups,s=i.length,a=new Array(s),l=0;l<s;++l)for(var _,f=i[l],h=f.length,g=a[l]=[],w=0;w<h;++w)(_=f[w])&&n.call(_,_.__data__,w,f)&&g.push(_);return new ve(a,this._parents)},data:function ge(n,i){if(!arguments.length)return Array.from(this,vn);var s=i?We:ne,a=this._parents,l=this._groups;"function"!=typeof n&&(n=Je(n));for(var f=l.length,h=new Array(f),g=new Array(f),_=new Array(f),w=0;w<f;++w){var m=a[w],b=l[w],T=b.length,O=Sn(n.call(m,m&&m.__data__,w,a)),H=O.length,G=g[w]=new Array(H),S=h[w]=new Array(H),P=_[w]=new Array(T);s(m,b,G,S,P,O,i);for(var X,$,D=0,R=0;D<H;++D)if(X=G[D]){for(D>=R&&(R=D+1);!($=S[R])&&++R<H;);X._next=$||null}}return(h=new ve(h,a))._enter=g,h._exit=_,h},enter:function Lt(){return new ve(this._enter||this._groups.map(Zt),this._parents)},exit:function Zu(){return new ve(this._exit||this._groups.map(Zt),this._parents)},join:function Sr(n,i,s){var a=this.enter(),l=this,f=this.exit();return"function"==typeof n?(a=n(a))&&(a=a.selection()):a=a.append(n+""),null!=i&&(l=i(l))&&(l=l.selection()),null==s?f.remove():s(f),a&&l?a.merge(l).order():l},merge:function $e(n){for(var i=n.selection?n.selection():n,s=this._groups,a=i._groups,l=s.length,h=Math.min(l,a.length),g=new Array(l),_=0;_<h;++_)for(var O,w=s[_],m=a[_],b=w.length,T=g[_]=new Array(b),H=0;H<b;++H)(O=w[H]||m[H])&&(T[H]=O);for(;_<l;++_)g[_]=s[_];return new ve(g,this._parents)},selection:function ko(){return this},order:function kr(){for(var n=this._groups,i=-1,s=n.length;++i<s;)for(var h,a=n[i],l=a.length-1,f=a[l];--l>=0;)(h=a[l])&&(f&&4^h.compareDocumentPosition(f)&&f.parentNode.insertBefore(h,f),f=h);return this},sort:function mi(n){function i(b,T){return b&&T?n(b.__data__,T.__data__):!b-!T}n||(n=Ou);for(var s=this._groups,a=s.length,l=new Array(a),f=0;f<a;++f){for(var w,h=s[f],g=h.length,_=l[f]=new Array(g),m=0;m<g;++m)(w=h[m])&&(_[m]=w);_.sort(i)}return new ve(l,this._parents).order()},call:function Lr(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function Pu(){return Array.from(this)},node:function Ur(){for(var n=this._groups,i=0,s=n.length;i<s;++i)for(var a=n[i],l=0,f=a.length;l<f;++l){var h=a[l];if(h)return h}return null},size:function gr(){let n=0;for(const i of this)++n;return n},empty:function xo(){return!this.node()},each:function bo(n){for(var i=this._groups,s=0,a=i.length;s<a;++s)for(var g,l=i[s],f=0,h=l.length;f<h;++f)(g=l[f])&&n.call(g,g.__data__,f,l);return this},attr:function ku(n,i){var s=dr(n);if(arguments.length<2){var a=this.node();return s.local?a.getAttributeNS(s.space,s.local):a.getAttribute(s)}return this.each((null==i?s.local?Mo:Ao:"function"==typeof i?s.local?Su:Eu:s.local?Co:To)(s,i))},style:function Iu(n,i,s){return arguments.length>1?this.each((null==i?Ns:"function"==typeof i?Uu:Lu)(n,i,null==s?"":s)):_r(this.node(),n)},property:function Du(n,i){return arguments.length>1?this.each((null==i?Hs:"function"==typeof i?zu:Ru)(n,i)):this.node()[n]},classed:function Hu(n,i){var s=yi(n+"");if(arguments.length<2){for(var a=Oo(this.node()),l=-1,f=s.length;++l<f;)if(!a.contains(s[l]))return!1;return!0}return this.each(("function"==typeof i?Nu:i?qu:Fu)(s,i))},text:function Wu(n){return arguments.length?this.each(null==n?Bu:("function"==typeof n?Ws:Ju)(n)):this.node().textContent},html:function Qu(n){return arguments.length?this.each(null==n?$u:("function"==typeof n?Yu:Gu)(n)):this.node().innerHTML},raise:function xi(){return this.each(Xu)},lower:function bi(){return this.each(Ku)},append:function Gs(n){var i="function"==typeof n?n:$s(n);return this.select(function(){return this.appendChild(i.apply(this,arguments))})},insert:function Qs(n,i){var s="function"==typeof n?n:$s(n),a=null==i?Ys:"function"==typeof i?i:Bn(i);return this.select(function(){return this.insertBefore(s.apply(this,arguments),a.apply(this,arguments)||null)})},remove:function el(){return this.each(tl)},clone:function Xs(n){return this.select(n?rl:nl)},datum:function Ks(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function Ai(n,i,s){var l,h,a=Po(n+""),f=a.length;if(!(arguments.length<2)){for(g=i?js:il,l=0;l<f;++l)this.each(g(a[l],i,s));return this}var g=this.node().__on;if(g)for(var m,_=0,w=g.length;_<w;++_)for(l=0,m=g[_];l<f;++l)if((h=a[l]).type===m.type&&h.name===m.name)return m.value},dispatch:function ea(n,i){return this.each(("function"==typeof i?ta:ol)(n,i))},[Symbol.iterator]:function*So(){for(var n=this._groups,i=0,s=n.length;i<s;++i)for(var h,a=n[i],l=0,f=a.length;l<f;++l)(h=a[l])&&(yield h)}};const nn=Mi;var ra={value:()=>{}};function Lo(){for(var a,n=0,i=arguments.length,s={};n<i;++n){if(!(a=arguments[n]+"")||a in s||/[\s.]/.test(a))throw new Error("illegal type: "+a);s[a]=[]}return new Ti(s)}function Ti(n){this._=n}function ia(n,i){return n.trim().split(/^|\s+/).map(function(s){var a="",l=s.indexOf(".");if(l>=0&&(a=s.slice(l+1),s=s.slice(0,l)),s&&!i.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:a}})}function oa(n,i){for(var l,s=0,a=n.length;s<a;++s)if((l=n[s]).name===i)return l.value}function Uo(n,i,s){for(var a=0,l=n.length;a<l;++a)if(n[a].name===i){n[a]=ra,n=n.slice(0,a).concat(n.slice(a+1));break}return null!=s&&n.push({name:i,value:s}),n}Ti.prototype=Lo.prototype={constructor:Ti,on:function(n,i){var l,s=this._,a=ia(n+"",s),f=-1,h=a.length;if(!(arguments.length<2)){if(null!=i&&"function"!=typeof i)throw new Error("invalid callback: "+i);for(;++f<h;)if(l=(n=a[f]).type)s[l]=Uo(s[l],n.name,i);else if(null==i)for(l in s)s[l]=Uo(s[l],n.name,null);return this}for(;++f<h;)if((l=(n=a[f]).type)&&(l=oa(s[l],n.name)))return l},copy:function(){var n={},i=this._;for(var s in i)n[s]=i[s].slice();return new Ti(n)},call:function(n,i){if((l=arguments.length-2)>0)for(var l,f,s=new Array(l),a=0;a<l;++a)s[a]=arguments[a+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(a=0,l=(f=this._[n]).length;a<l;++a)f[a].value.apply(i,s)},apply:function(n,i,s){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var a=this._[n],l=0,f=a.length;l<f;++l)a[l].value.apply(i,s)}};const sa=Lo;var Ci,Dr,mr=0,Rr=0,zr=0,Zi=0,Jn=0,vr=0,qr="object"==typeof performance&&performance.now?performance:Date,aa="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Ro(){return Jn||(aa(sl),Jn=qr.now()+vr)}function sl(){Jn=0}function Oi(){this._call=this._time=this._next=null}function Ut(n,i,s){var a=new Oi;return a.restart(n,i,s),a}function ua(){Jn=(Zi=qr.now())+vr,mr=Rr=0;try{!function It(){Ro(),++mr;for(var i,n=Ci;n;)(i=Jn-n._time)>=0&&n._call.call(void 0,i),n=n._next;--mr}()}finally{mr=0,function ul(){for(var n,s,i=Ci,a=1/0;i;)i._call?(a>i._time&&(a=i._time),n=i,i=i._next):(s=i._next,i._next=null,i=n?n._next=s:Ci=s);Dr=n,zo(a)}(),Jn=0}}function al(){var n=qr.now(),i=n-Zi;i>1e3&&(vr-=i,Zi=n)}function zo(n){mr||(Rr&&(Rr=clearTimeout(Rr)),n-Jn>24?(n<1/0&&(Rr=setTimeout(ua,n-qr.now()-vr)),zr&&(zr=clearInterval(zr))):(zr||(Zi=qr.now(),zr=setInterval(al,1e3)),mr=1,aa(ua)))}function la(n,i,s){var a=new Oi;return a.restart(l=>{a.stop(),n(l+i)},i=null==i?0:+i,s),a}Oi.prototype=Ut.prototype={constructor:Oi,restart:function(n,i,s){if("function"!=typeof n)throw new TypeError("callback is not a function");s=(null==s?Ro():+s)+(null==i?0:+i),!this._next&&Dr!==this&&(Dr?Dr._next=this:Ci=this,Dr=this),this._call=n,this._time=s,zo()},stop:function(){this._call&&(this._call=null,this._time=1/0,zo())}};var ll=sa("start","end","cancel","interrupt"),ca=[];function Nr(n,i,s,a,l,f){var h=n.__transition;if(h){if(s in h)return}else n.__transition={};!function ha(n,i,s){var l,a=n.__transition;function h(w){var m,b,T,O;if(1!==s.state)return _();for(m in a)if((O=a[m]).name===s.name){if(3===O.state)return la(h);4===O.state?(O.state=6,O.timer.stop(),O.on.call("interrupt",n,n.__data__,O.index,O.group),delete a[m]):+m<i&&(O.state=6,O.timer.stop(),O.on.call("cancel",n,n.__data__,O.index,O.group),delete a[m])}if(la(function(){3===s.state&&(s.state=4,s.timer.restart(g,s.delay,s.time),g(w))}),s.state=2,s.on.call("start",n,n.__data__,s.index,s.group),2===s.state){for(s.state=3,l=new Array(T=s.tween.length),m=0,b=-1;m<T;++m)(O=s.tween[m].value.call(n,n.__data__,s.index,s.group))&&(l[++b]=O);l.length=b+1}}function g(w){for(var m=w<s.duration?s.ease.call(null,w/s.duration):(s.timer.restart(_),s.state=5,1),b=-1,T=l.length;++b<T;)l[b].call(n,m);5===s.state&&(s.on.call("end",n,n.__data__,s.index,s.group),_())}function _(){for(var w in s.state=6,s.timer.stop(),delete a[i],a)return;delete n.__transition}a[i]=s,s.timer=Ut(function f(w){s.state=1,s.timer.restart(h,s.delay,s.time),s.delay<=w&&h(w-s.delay)},0,s.time)}(n,s,{name:i,index:a,group:l,on:ll,tween:ca,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:0})}function Ei(n,i){var s=Le(n,i);if(s.state>0)throw new Error("too late; already scheduled");return s}function Ge(n,i){var s=Le(n,i);if(s.state>3)throw new Error("too late; already running");return s}function Le(n,i){var s=n.__transition;if(!s||!(s=s[i]))throw new Error("transition not found");return s}function Ye(n,i){return n=+n,i=+i,function(s){return n*(1-s)+i*s}}var Qe,Ze=180/Math.PI,qo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fo(n,i,s,a,l,f){var h,g,_;return(h=Math.sqrt(n*n+i*i))&&(n/=h,i/=h),(_=n*s+i*a)&&(s-=n*_,a-=i*_),(g=Math.sqrt(s*s+a*a))&&(s/=g,a/=g,_/=g),n*a<i*s&&(n=-n,i=-i,_=-_,h=-h),{translateX:l,translateY:f,rotate:Math.atan2(i,n)*Ze,skewX:Math.atan(_)*Ze,scaleX:h,scaleY:g}}function zt(n,i,s,a){function l(w){return w.length?w.pop()+" ":""}return function(w,m){var b=[],T=[];return w=n(w),m=n(m),function f(w,m,b,T,O,H){if(w!==b||m!==T){var G=O.push("translate(",null,i,null,s);H.push({i:G-4,x:Ye(w,b)},{i:G-2,x:Ye(m,T)})}else(b||T)&&O.push("translate("+b+i+T+s)}(w.translateX,w.translateY,m.translateX,m.translateY,b,T),function h(w,m,b,T){w!==m?(w-m>180?m+=360:m-w>180&&(w+=360),T.push({i:b.push(l(b)+"rotate(",null,a)-2,x:Ye(w,m)})):m&&b.push(l(b)+"rotate("+m+a)}(w.rotate,m.rotate,b,T),function g(w,m,b,T){w!==m?T.push({i:b.push(l(b)+"skewX(",null,a)-2,x:Ye(w,m)}):m&&b.push(l(b)+"skewX("+m+a)}(w.skewX,m.skewX,b,T),function _(w,m,b,T,O,H){if(w!==b||m!==T){var G=O.push(l(O)+"scale(",null,",",null,")");H.push({i:G-4,x:Ye(w,b)},{i:G-2,x:Ye(m,T)})}else(1!==b||1!==T)&&O.push(l(O)+"scale("+b+","+T+")")}(w.scaleX,w.scaleY,m.scaleX,m.scaleY,b,T),w=m=null,function(O){for(var S,H=-1,G=T.length;++H<G;)b[(S=T[H]).i]=S.x(O);return b.join("")}}}var Ln=zt(function Si(n){const i=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return i.isIdentity?qo:Fo(i.a,i.b,i.c,i.d,i.e,i.f)},"px, ","px)","deg)"),Ho=zt(function No(n){return null!=n&&(Qe||(Qe=document.createElementNS("http://www.w3.org/2000/svg","g")),Qe.setAttribute("transform",n),n=Qe.transform.baseVal.consolidate())?Fo((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):qo},", ",")",")");function cl(n,i){var s,a;return function(){var l=Ge(this,n),f=l.tween;if(f!==s)for(var h=0,g=(a=s=f).length;h<g;++h)if(a[h].name===i){(a=a.slice()).splice(h,1);break}l.tween=a}}function Bo(n,i,s){var a,l;if("function"!=typeof s)throw new Error;return function(){var f=Ge(this,n),h=f.tween;if(h!==a){l=(a=h).slice();for(var g={name:i,value:s},_=0,w=l.length;_<w;++_)if(l[_].name===i){l[_]=g;break}_===w&&l.push(g)}f.tween=l}}function Jo(n,i,s){var a=n._id;return n.each(function(){var l=Ge(this,a);(l.value||(l.value={}))[i]=s.apply(this,arguments)}),function(l){return Le(l,a).value[i]}}function Wo(n,i,s){n.prototype=i.prototype=s,s.constructor=n}function $o(n,i){var s=Object.create(n.prototype);for(var a in i)s[a]=i[a];return s}function Un(){}var ki=1/.7,Wn="\\s*([+-]?\\d+)\\s*",yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Go=/^#([0-9a-f]{3,8})$/,ga=new RegExp(`^rgb\\(${Wn},${Wn},${Wn}\\)$`),hl=new RegExp(`^rgb\\(${Ue},${Ue},${Ue}\\)$`),Yo=new RegExp(`^rgba\\(${Wn},${Wn},${Wn},${yr}\\)$`),Qo=new RegExp(`^rgba\\(${Ue},${Ue},${Ue},${yr}\\)$`),pl=new RegExp(`^hsl\\(${yr},${Ue},${Ue}\\)$`),da=new RegExp(`^hsla\\(${yr},${Ue},${Ue},${yr}\\)$`),ye={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Li(){return this.rgb().formatHex()}function Xo(){return this.rgb().formatRgb()}function $n(n){var i,s;return n=(n+"").trim().toLowerCase(),(i=Go.exec(n))?(s=i[1].length,i=parseInt(i[1],16),6===s?ma(i):3===s?new Yt(i>>8&15|i>>4&240,i>>4&15|240&i,(15&i)<<4|15&i,1):8===s?Ui(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):4===s?Ui(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|240&i,((15&i)<<4|15&i)/255):null):(i=ga.exec(n))?new Yt(i[1],i[2],i[3],1):(i=hl.exec(n))?new Yt(255*i[1]/100,255*i[2]/100,255*i[3]/100,1):(i=Yo.exec(n))?Ui(i[1],i[2],i[3],i[4]):(i=Qo.exec(n))?Ui(255*i[1]/100,255*i[2]/100,255*i[3]/100,i[4]):(i=pl.exec(n))?ya(i[1],i[2]/100,i[3]/100,1):(i=da.exec(n))?ya(i[1],i[2]/100,i[3]/100,i[4]):ye.hasOwnProperty(n)?ma(ye[n]):"transparent"===n?new Yt(NaN,NaN,NaN,0):null}function ma(n){return new Yt(n>>16&255,n>>8&255,255&n,1)}function Ui(n,i,s,a){return a<=0&&(n=i=s=NaN),new Yt(n,i,s,a)}function gl(n){return n instanceof Un||(n=$n(n)),n?new Yt((n=n.rgb()).r,n.g,n.b,n.opacity):new Yt}function Ii(n,i,s,a){return 1===arguments.length?gl(n):new Yt(n,i,s,null==a?1:a)}function Yt(n,i,s,a){this.r=+n,this.g=+i,this.b=+s,this.opacity=+a}function va(){return`#${on(this.r)}${on(this.g)}${on(this.b)}`}function Ri(){const n=Br(this.opacity);return`${1===n?"rgb(":"rgba("}${we(this.r)}, ${we(this.g)}, ${we(this.b)}${1===n?")":`, ${n})`}`}function Br(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function we(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function on(n){return((n=we(n))<16?"0":"")+n.toString(16)}function ya(n,i,s,a){return a<=0?n=i=s=NaN:s<=0||s>=1?n=i=NaN:i<=0&&(n=NaN),new ue(n,i,s,a)}function wa(n){if(n instanceof ue)return new ue(n.h,n.s,n.l,n.opacity);if(n instanceof Un||(n=$n(n)),!n)return new ue;if(n instanceof ue)return n;var i=(n=n.rgb()).r/255,s=n.g/255,a=n.b/255,l=Math.min(i,s,a),f=Math.max(i,s,a),h=NaN,g=f-l,_=(f+l)/2;return g?(h=i===f?(s-a)/g+6*(s<a):s===f?(a-i)/g+2:(i-s)/g+4,g/=_<.5?f+l:2-f-l,h*=60):g=_>0&&_<1?0:h,new ue(h,g,_,n.opacity)}function ue(n,i,s,a){this.h=+n,this.s=+i,this.l=+s,this.opacity=+a}function Ie(n){return(n=(n||0)%360)<0?n+360:n}function Jr(n){return Math.max(0,Math.min(1,n||0))}function Ko(n,i,s){return 255*(n<60?i+(s-i)*n/60:n<180?s:n<240?i+(s-i)*(240-n)/60:i)}function xa(n,i,s,a,l){var f=n*n,h=f*n;return((1-3*n+3*f-h)*i+(4-6*f+3*h)*s+(1+3*n+3*f-3*h)*a+h*l)/6}Wo(Un,$n,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Li,formatHex:Li,formatHex8:function Hr(){return this.rgb().formatHex8()},formatHsl:function _a(){return wa(this).formatHsl()},formatRgb:Xo,toString:Xo}),Wo(Yt,Ii,$o(Un,{brighter(n){return n=null==n?ki:Math.pow(ki,n),new Yt(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Yt(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Yt(we(this.r),we(this.g),we(this.b),Br(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:va,formatHex:va,formatHex8:function dl(){return`#${on(this.r)}${on(this.g)}${on(this.b)}${on(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ri,toString:Ri})),Wo(ue,function _l(n,i,s,a){return 1===arguments.length?wa(n):new ue(n,i,s,null==a?1:a)},$o(Un,{brighter(n){return n=null==n?ki:Math.pow(ki,n),new ue(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new ue(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),i=isNaN(n)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*i,l=2*s-a;return new Yt(Ko(n>=240?n-240:n+120,l,a),Ko(n,l,a),Ko(n<120?n+240:n-120,l,a),this.opacity)},clamp(){return new ue(Ie(this.h),Jr(this.s),Jr(this.l),Br(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Br(this.opacity);return`${1===n?"hsl(":"hsla("}${Ie(this.h)}, ${100*Jr(this.s)}%, ${100*Jr(this.l)}%${1===n?")":`, ${n})`}`}}));const Vo=n=>()=>n;function J(n,i){var s=i-n;return s?function Wr(n,i){return function(s){return n+s*i}}(n,s):Vo(isNaN(n)?i:n)}const lt=function n(i){var s=function Z(n){return 1==(n=+n)?J:function(i,s){return s-i?function A(n,i,s){return n=Math.pow(n,s),i=Math.pow(i,s)-n,s=1/s,function(a){return Math.pow(n+a*i,s)}}(i,s,n):Vo(isNaN(i)?s:i)}}(i);function a(l,f){var h=s((l=Ii(l)).r,(f=Ii(f)).r),g=s(l.g,f.g),_=s(l.b,f.b),w=J(l.opacity,f.opacity);return function(m){return l.r=h(m),l.g=g(m),l.b=_(m),l.opacity=w(m),l+""}}return a.gamma=n,a}(1);function Ot(n){return function(i){var h,g,s=i.length,a=new Array(s),l=new Array(s),f=new Array(s);for(h=0;h<s;++h)g=Ii(i[h]),a[h]=g.r||0,l[h]=g.g||0,f[h]=g.b||0;return a=n(a),l=n(l),f=n(f),g.opacity=1,function(_){return g.r=a(_),g.g=l(_),g.b=f(_),g+""}}}Ot(function ml(n){var i=n.length-1;return function(s){var a=s<=0?s=0:s>=1?(s=1,i-1):Math.floor(s*i),l=n[a],f=n[a+1];return xa((s-a/i)*i,a>0?n[a-1]:2*l-f,l,f,a<i-1?n[a+2]:2*f-l)}}),Ot(function vl(n){var i=n.length;return function(s){var a=Math.floor(((s%=1)<0?++s:s)*i);return xa((s-a/i)*i,n[(a+i-1)%i],n[a%i],n[(a+1)%i],n[(a+2)%i])}});var $r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jo=new RegExp($r.source,"g");function ba(n,i){var a,l,f,s=$r.lastIndex=jo.lastIndex=0,h=-1,g=[],_=[];for(n+="",i+="";(a=$r.exec(n))&&(l=jo.exec(i));)(f=l.index)>s&&(f=i.slice(s,f),g[h]?g[h]+=f:g[++h]=f),(a=a[0])===(l=l[0])?g[h]?g[h]+=l:g[++h]=l:(g[++h]=null,_.push({i:h,x:Ye(a,l)})),s=jo.lastIndex;return s<i.length&&(f=i.slice(s),g[h]?g[h]+=f:g[++h]=f),g.length<2?_[0]?function zi(n){return function(i){return n(i)+""}}(_[0].x):function Re(n){return function(){return n}}(i):(i=_.length,function(w){for(var b,m=0;m<i;++m)g[(b=_[m]).i]=b.x(w);return g.join("")})}function Gn(n,i){var s;return("number"==typeof i?Ye:i instanceof $n?lt:(s=$n(i))?(i=s,lt):ba)(n,i)}function Di(n){return function(){this.removeAttribute(n)}}function qi(n){return function(){this.removeAttributeNS(n.space,n.local)}}function St(n,i,s){var a,f,l=s+"";return function(){var h=this.getAttribute(n);return h===l?null:h===a?f:f=i(a=h,s)}}function yl(n,i,s){var a,f,l=s+"";return function(){var h=this.getAttributeNS(n.space,n.local);return h===l?null:h===a?f:f=i(a=h,s)}}function Aa(n,i,s){var a,l,f;return function(){var h,_,g=s(this);return null==g?void this.removeAttribute(n):(h=this.getAttribute(n))===(_=g+"")?null:h===a&&_===l?f:(l=_,f=i(a=h,g))}}function Fi(n,i,s){var a,l,f;return function(){var h,_,g=s(this);return null==g?void this.removeAttributeNS(n.space,n.local):(h=this.getAttributeNS(n.space,n.local))===(_=g+"")?null:h===a&&_===l?f:(l=_,f=i(a=h,g))}}function xl(n,i){return function(s){this.setAttribute(n,i.call(this,s))}}function bl(n,i){return function(s){this.setAttributeNS(n.space,n.local,i.call(this,s))}}function Ni(n,i){var s,a;function l(){var f=i.apply(this,arguments);return f!==a&&(s=(a=f)&&bl(n,f)),s}return l._value=i,l}function In(n,i){var s,a;function l(){var f=i.apply(this,arguments);return f!==a&&(s=(a=f)&&xl(n,f)),s}return l._value=i,l}function Ma(n,i){return function(){Ei(this,n).delay=+i.apply(this,arguments)}}function Bi(n,i){return i=+i,function(){Ei(this,n).delay=i}}function Ca(n,i){return function(){Ge(this,n).duration=+i.apply(this,arguments)}}function Ji(n,i){return i=+i,function(){Ge(this,n).duration=i}}function Gr(n,i){if("function"!=typeof i)throw new Error;return function(){Ge(this,n).ease=i}}function Gi(n,i,s){var a,l,f=function $i(n){return(n+"").trim().split(/^|\s+/).every(function(i){var s=i.indexOf(".");return s>=0&&(i=i.slice(0,s)),!i||"start"===i})}(i)?Ei:Ge;return function(){var h=f(this,n),g=h.on;g!==a&&(l=(a=g).copy()).on(i,s),h.on=l}}var Qt=nn.prototype.constructor;function Pa(n){return function(){this.style.removeProperty(n)}}function ns(n,i,s){return function(a){this.style.setProperty(n,i.call(this,a),s)}}function wr(n,i,s){var a,l;function f(){var h=i.apply(this,arguments);return h!==l&&(a=(l=h)&&ns(n,h,s)),a}return f._value=i,f}function Sl(n){return function(i){this.textContent=n.call(this,i)}}function kl(n){var i,s;function a(){var l=n.apply(this,arguments);return l!==s&&(i=(s=l)&&Sl(l)),i}return a._value=n,a}var Qi=0;function Oe(n,i,s,a){this._groups=n,this._parents=i,this._name=s,this._id=a}function p(){return++Qi}var xe=nn.prototype;Oe.prototype=function Sa(n){return nn().transition(n)}.prototype={constructor:Oe,select:function Zl(n){var i=this._name,s=this._id;"function"!=typeof n&&(n=Bn(n));for(var a=this._groups,l=a.length,f=new Array(l),h=0;h<l;++h)for(var m,b,g=a[h],_=g.length,w=f[h]=new Array(_),T=0;T<_;++T)(m=g[T])&&(b=n.call(m,m.__data__,T,g))&&("__data__"in m&&(b.__data__=m.__data__),w[T]=b,Nr(w[T],i,s,T,w,Le(m,s)));return new Oe(f,this._parents,i,s)},selectAll:function Ol(n){var i=this._name,s=this._id;"function"!=typeof n&&(n=di(n));for(var a=this._groups,l=a.length,f=[],h=[],g=0;g<l;++g)for(var m,_=a[g],w=_.length,b=0;b<w;++b)if(m=_[b]){for(var O,T=n.call(m,m.__data__,b,_),H=Le(m,s),G=0,S=T.length;G<S;++G)(O=T[G])&&Nr(O,i,s,G,T,H);f.push(T),h.push(m)}return new Oe(f,h,i,s)},selectChild:xe.selectChild,selectChildren:xe.selectChildren,filter:function Ml(n){"function"!=typeof n&&(n=Er(n));for(var i=this._groups,s=i.length,a=new Array(s),l=0;l<s;++l)for(var _,f=i[l],h=f.length,g=a[l]=[],w=0;w<h;++w)(_=f[w])&&n.call(_,_.__data__,w,f)&&g.push(_);return new Oe(a,this._parents,this._name,this._id)},merge:function Tl(n){if(n._id!==this._id)throw new Error;for(var i=this._groups,s=n._groups,a=i.length,f=Math.min(a,s.length),h=new Array(a),g=0;g<f;++g)for(var T,_=i[g],w=s[g],m=_.length,b=h[g]=new Array(m),O=0;O<m;++O)(T=_[O]||w[O])&&(b[O]=T);for(;g<a;++g)h[g]=i[g];return new Oe(h,this._parents,this._name,this._id)},selection:function le(){return new Qt(this._groups,this._parents)},transition:function Ul(){for(var n=this._name,i=this._id,s=p(),a=this._groups,l=a.length,f=0;f<l;++f)for(var _,h=a[f],g=h.length,w=0;w<g;++w)if(_=h[w]){var m=Le(_,i);Nr(_,n,s,w,h,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Oe(a,this._parents,n,s)},call:xe.call,nodes:xe.nodes,node:xe.node,size:xe.size,empty:xe.empty,each:xe.each,on:function ts(n,i){var s=this._id;return arguments.length<2?Le(this.node(),s).on.on(n):this.each(Gi(s,n,i))},attr:function wl(n,i){var s=dr(n),a="transform"===s?Ho:Gn;return this.attrTween(n,"function"==typeof i?(s.local?Fi:Aa)(s,a,Jo(this,"attr."+n,i)):null==i?(s.local?qi:Di)(s):(s.local?yl:St)(s,a,i))},attrTween:function Hi(n,i){var s="attr."+n;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(null==i)return this.tween(s,null);if("function"!=typeof i)throw new Error;var a=dr(n);return this.tween(s,(a.local?Ni:In)(a,i))},style:function Yr(n,i,s){var a="transform"==(n+="")?Ln:Gn;return null==i?this.styleTween(n,function Pl(n,i){var s,a,l;return function(){var f=_r(this,n),h=(this.style.removeProperty(n),_r(this,n));return f===h?null:f===s&&h===a?l:l=i(s=f,a=h)}}(n,a)).on("end.style."+n,Pa(n)):"function"==typeof i?this.styleTween(n,function El(n,i,s){var a,l,f;return function(){var h=_r(this,n),g=s(this),_=g+"";return null==g&&(this.style.removeProperty(n),_=g=_r(this,n)),h===_?null:h===a&&_===l?f:(l=_,f=i(a=h,g))}}(n,a,Jo(this,"style."+n,i))).each(function es(n,i){var s,a,l,g,f="style."+i,h="end."+f;return function(){var _=Ge(this,n),w=_.on,m=null==_.value[f]?g||(g=Pa(i)):void 0;(w!==s||l!==m)&&(a=(s=w).copy()).on(h,l=m),_.on=a}}(this._id,n)):this.styleTween(n,function Ea(n,i,s){var a,f,l=s+"";return function(){var h=_r(this,n);return h===l?null:h===a?f:f=i(a=h,s)}}(n,a,i),s).on("end.style."+n,null)},styleTween:function Qr(n,i,s){var a="style."+(n+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==i)return this.tween(a,null);if("function"!=typeof i)throw new Error;return this.tween(a,wr(n,i,null==s?"":s))},text:function xr(n){return this.tween("text","function"==typeof n?function Yi(n){return function(){var i=n(this);this.textContent=null==i?"":i}}(Jo(this,"text",n)):function Xr(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function Ll(n){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,kl(n))},remove:function Oa(){return this.on("end.remove",function Cl(n){return function(){var i=this.parentNode;for(var s in this.__transition)if(+s!==n)return;i&&i.removeChild(this)}}(this._id))},tween:function fl(n,i){var s=this._id;if(n+="",arguments.length<2){for(var h,a=Le(this.node(),s).tween,l=0,f=a.length;l<f;++l)if((h=a[l]).name===n)return h.value;return null}return this.each((null==i?cl:Bo)(s,n,i))},delay:function Ta(n){var i=this._id;return arguments.length?this.each(("function"==typeof n?Ma:Bi)(i,n)):Le(this.node(),i).delay},duration:function Za(n){var i=this._id;return arguments.length?this.each(("function"==typeof n?Ca:Ji)(i,n)):Le(this.node(),i).duration},ease:function Yn(n){var i=this._id;return arguments.length?this.each(Gr(i,n)):Le(this.node(),i).ease},easeVarying:function Al(n){if("function"!=typeof n)throw new Error;return this.each(function Wi(n,i){return function(){var s=i.apply(this,arguments);if("function"!=typeof s)throw new Error;Ge(this,n).ease=s}}(this._id,n))},end:function Il(){var n,i,s=this,a=s._id,l=s.size();return new Promise(function(f,h){var g={value:h},_={value:function(){0==--l&&f()}};s.each(function(){var w=Ge(this,a),m=w.on;m!==n&&((i=(n=m).copy())._.cancel.push(g),i._.interrupt.push(g),i._.end.push(_)),w.on=i}),0===l&&f()})},[Symbol.iterator]:xe[Symbol.iterator]};var Rl={time:null,delay:0,duration:250,ease:function bt(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function zl(n,i){for(var s;!(s=n.__transition)||!(s=s[i]);)if(!(n=n.parentNode))throw new Error(`transition ${i} not found`);return s}nn.prototype.interrupt=function Ce(n){return this.each(function(){!function pa(n,i){var a,l,h,s=n.__transition,f=!0;if(s){for(h in i=null==i?null:i+"",s)(a=s[h]).name===i?(l=a.state>2&&a.state<5,a.state=6,a.timer.stop(),a.on.call(l?"interrupt":"cancel",n,n.__data__,a.index,a.group),delete s[h]):f=!1;f&&delete n.__transition}}(this,n)})},nn.prototype.transition=function Dl(n){var i,s;n instanceof Oe?(i=n._id,n=n._name):(i=p(),(s=Rl).time=Ro(),n=null==n?null:n+"");for(var a=this._groups,l=a.length,f=0;f<l;++f)for(var _,h=a[f],g=h.length,w=0;w<g;++w)(_=h[w])&&Nr(_,n,i,w,h,s||zl(_,i));return new Oe(a,this._parents,n,i)};Math;function Kr(n){return{type:n}}["w","e"].map(Kr),["n","s"].map(Kr),["n","w","e","s","nw","ne","sw","se"].map(Kr);var ss={},as={};function Vr(n){return new Function("d","return {"+n.map(function(i,s){return JSON.stringify(i)+": d["+s+'] || ""'}).join(",")+"}")}function ls(n){var i=Object.create(null),s=[];return n.forEach(function(a){for(var l in a)l in i||s.push(i[l]=l)}),s}function be(n,i){var s=n+"",a=s.length;return a<i?new Array(i-a+1).join(0)+s:s}function zn(n){var i=new RegExp('["'+n+"\n\r]"),s=n.charCodeAt(0);function l(b,T){var P,O=[],H=b.length,G=0,S=0,D=H<=0,R=!1;function X(){if(D)return as;if(R)return R=!1,ss;var Q,ht,K=G;if(34===b.charCodeAt(K)){for(;G++<H&&34!==b.charCodeAt(G)||34===b.charCodeAt(++G););return(Q=G)>=H?D=!0:10===(ht=b.charCodeAt(G++))?R=!0:13===ht&&(R=!0,10===b.charCodeAt(G)&&++G),b.slice(K+1,Q-1).replace(/""/g,'"')}for(;G<H;){if(10===(ht=b.charCodeAt(Q=G++)))R=!0;else if(13===ht)R=!0,10===b.charCodeAt(G)&&++G;else if(ht!==s)continue;return b.slice(K,Q)}return D=!0,b.slice(K,H)}for(10===b.charCodeAt(H-1)&&--H,13===b.charCodeAt(H-1)&&--H;(P=X())!==as;){for(var $=[];P!==ss&&P!==as;)$.push(P),P=X();T&&null==($=T($,S++))||O.push($)}return O}function f(b,T){return b.map(function(O){return T.map(function(H){return m(O[H])}).join(n)})}function w(b){return b.map(m).join(n)}function m(b){return null==b?"":b instanceof Date?function cs(n){var i=n.getUTCHours(),s=n.getUTCMinutes(),a=n.getUTCSeconds(),l=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":function yn(n){return n<0?"-"+be(-n,6):n>9999?"+"+be(n,6):be(n,4)}(n.getUTCFullYear())+"-"+be(n.getUTCMonth()+1,2)+"-"+be(n.getUTCDate(),2)+(l?"T"+be(i,2)+":"+be(s,2)+":"+be(a,2)+"."+be(l,3)+"Z":a?"T"+be(i,2)+":"+be(s,2)+":"+be(a,2)+"Z":s||i?"T"+be(i,2)+":"+be(s,2)+"Z":"")}(b):i.test(b+="")?'"'+b.replace(/"/g,'""')+'"':b}return{parse:function a(b,T){var O,H,G=l(b,function(S,P){if(O)return O(S,P-1);H=S,O=T?function Wl(n,i){var s=Vr(n);return function(a,l){return i(s(a),l,n)}}(S,T):Vr(S)});return G.columns=H||[],G},parseRows:l,format:function h(b,T){return null==T&&(T=ls(b)),[T.map(m).join(n)].concat(f(b,T)).join("\n")},formatBody:function g(b,T){return null==T&&(T=ls(b)),f(b,T).join("\n")},formatRows:function _(b){return b.map(w).join("\n")},formatRow:w,formatValue:m}}var $l=zn(",").parse,Xl=zn("\t").parse;function to(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.text()}function Dn(n,i){return fetch(n,i).then(to)}function fs(n){return function(i,s,a){return 2===arguments.length&&"function"==typeof s&&(a=s,s=void 0),Dn(i,s).then(function(l){return n(l,a)})}}var eo=fs($l);function jl(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);if(204!==n.status&&205!==n.status)return n.json()}function jr(n){return(i,s)=>Dn(i,s).then(a=>(new DOMParser).parseFromString(a,n))}fs(Xl);const an=jr("application/xml");function ro(n,i){if((s=(n=i?n.toExponential(i-1):n.toExponential()).indexOf("e"))<0)return null;var s,a=n.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+n.slice(s+1)]}function un(n){return(n=ro(Math.abs(n)))?n[1]:NaN}jr("text/html"),jr("image/svg+xml");var Da,hs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ti(n){if(!(i=hs.exec(n)))throw new Error("invalid format: "+n);var i;return new ps({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function ps(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function io(n,i){var s=ro(n,i);if(!s)return n+"";var a=s[0],l=s[1];return l<0?"0."+new Array(-l).join("0")+a:a.length>l+1?a.slice(0,l+1)+"."+a.slice(l+1):a+new Array(l-a.length+2).join("0")}ti.prototype=ps.prototype,ps.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Fa={"%":(n,i)=>(100*n).toFixed(i),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function nc(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,i)=>n.toExponential(i),f:(n,i)=>n.toFixed(i),g:(n,i)=>n.toPrecision(i),o:n=>Math.round(n).toString(8),p:(n,i)=>io(100*n,i),r:io,s:function qa(n,i){var s=ro(n,i);if(!s)return n+"";var a=s[0],l=s[1],f=l-(Da=3*Math.max(-8,Math.min(8,Math.floor(l/3))))+1,h=a.length;return f===h?a:f>h?a+new Array(f-h+1).join("0"):f>0?a.slice(0,f)+"."+a.slice(f):"0."+new Array(1-f).join("0")+ro(n,Math.max(0,i+f-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function oo(n){return n}var jn,ei,_s,gs=Array.prototype.map,ds=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ms(n,i){var h,s=i?i.length:0,a=n?Math.min(s,n.length):0,l=new Array(a),f=new Array(s);for(h=0;h<a;++h)l[h]=so(n[h],i[h]);for(;h<s;++h)f[h]=i[h];return function(g){for(h=0;h<a;++h)f[h]=l[h](g);return f}}function sc(n,i){var s=new Date;return n=+n,i=+i,function(a){return s.setTime(n*(1-a)+i*a),s}}function vs(n,i){var l,s={},a={};for(l in(null===n||"object"!=typeof n)&&(n={}),(null===i||"object"!=typeof i)&&(i={}),i)l in n?s[l]=so(n[l],i[l]):a[l]=i[l];return function(f){for(l in s)a[l]=s[l](f);return a}}function Ba(n,i){i||(i=[]);var l,s=n?Math.min(i.length,n.length):0,a=i.slice();return function(f){for(l=0;l<s;++l)a[l]=n[l]*(1-f)+i[l]*f;return a}}function so(n,i){var a,s=typeof i;return null==i||"boolean"===s?Vo(i):("number"===s?Ye:"string"===s?(a=$n(i))?(i=a,lt):ba:i instanceof $n?lt:i instanceof Date?sc:function ys(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(i)?Ba:Array.isArray(i)?ms:"function"!=typeof i.valueOf&&"function"!=typeof i.toString||isNaN(i)?vs:Ye)(n,i)}function ws(n,i,s){n=+n,i=+i,s=(l=arguments.length)<2?(i=n,n=0,1):l<3?1:+s;for(var a=-1,l=0|Math.max(0,Math.ceil((i-n)/s)),f=new Array(l);++a<l;)f[a]=n+a*s;return f}function dt(n,i){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(i).domain(n)}return this}!function Ha(n){jn=function Na(n){var i=void 0===n.grouping||void 0===n.thousands?oo:function rc(n,i){return function(s,a){for(var l=s.length,f=[],h=0,g=n[0],_=0;l>0&&g>0&&(_+g+1>a&&(g=Math.max(1,a-_)),f.push(s.substring(l-=g,l+g)),!((_+=g+1)>a));)g=n[h=(h+1)%n.length];return f.reverse().join(i)}}(gs.call(n.grouping,Number),n.thousands+""),s=void 0===n.currency?"":n.currency[0]+"",a=void 0===n.currency?"":n.currency[1]+"",l=void 0===n.decimal?".":n.decimal+"",f=void 0===n.numerals?oo:function ic(n){return function(i){return i.replace(/[0-9]/g,function(s){return n[+s]})}}(gs.call(n.numerals,String)),h=void 0===n.percent?"%":n.percent+"",g=void 0===n.minus?"\u2212":n.minus+"",_=void 0===n.nan?"NaN":n.nan+"";function w(b){var T=(b=ti(b)).fill,O=b.align,H=b.sign,G=b.symbol,S=b.zero,P=b.width,D=b.comma,R=b.precision,X=b.trim,$=b.type;"n"===$?(D=!0,$="g"):Fa[$]||(void 0===R&&(R=12),X=!0,$="g"),(S||"0"===T&&"="===O)&&(S=!0,T="0",O="=");var Q="$"===G?s:"#"===G&&/[boxX]/.test($)?"0"+$.toLowerCase():"",K="$"===G?a:/[%p]/.test($)?h:"",ht=Fa[$],Mt=/[defgprs%]/.test($);function ft(W){var C,B,k,Tt=Q,vt=K;if("c"===$)vt=ht(W)+vt,W="";else{var q=(W=+W)<0||1/W<0;if(W=isNaN(W)?_:ht(Math.abs(W),R),X&&(W=function oc(n){t:for(var l,i=n.length,s=1,a=-1;s<i;++s)switch(n[s]){case".":a=l=s;break;case"0":0===a&&(a=s),l=s;break;default:if(!+n[s])break t;a>0&&(a=0)}return a>0?n.slice(0,a)+n.slice(l+1):n}(W)),q&&0==+W&&"+"!==H&&(q=!1),Tt=(q?"("===H?H:g:"-"===H||"("===H?"":H)+Tt,vt=("s"===$?ds[8+Da/3]:"")+vt+(q&&"("===H?")":""),Mt)for(C=-1,B=W.length;++C<B;)if(48>(k=W.charCodeAt(C))||k>57){vt=(46===k?l+W.slice(C+1):W.slice(C))+vt,W=W.slice(0,C);break}}D&&!S&&(W=i(W,1/0));var tt=Tt.length+W.length+vt.length,z=tt<P?new Array(P-tt+1).join(T):"";switch(D&&S&&(W=i(z+W,z.length?P-vt.length:1/0),z=""),O){case"<":W=Tt+W+vt+z;break;case"=":W=Tt+z+W+vt;break;case"^":W=z.slice(0,tt=z.length>>1)+Tt+W+vt+z.slice(tt);break;default:W=z+Tt+W+vt}return f(W)}return R=void 0===R?6:/[gprs]/.test($)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R)),ft.toString=function(){return b+""},ft}return{format:w,formatPrefix:function m(b,T){var O=w(((b=ti(b)).type="f",b)),H=3*Math.max(-8,Math.min(8,Math.floor(un(T)/3))),G=Math.pow(10,-H),S=ds[8+H/3];return function(P){return O(G*P)+S}}}}(n),ei=jn.format,_s=jn.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class Ja extends Map{constructor(i,s=Ee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),null!=i)for(const[a,l]of i)this.set(a,l)}get(i){return super.get(uo(this,i))}has(i){return super.has(uo(this,i))}set(i,s){return super.set(function Wa({_intern:n,_key:i},s){const a=i(s);return n.has(a)?n.get(a):(n.set(a,s),s)}(this,i),s)}delete(i){return super.delete(function $a({_intern:n,_key:i},s){const a=i(s);return n.has(a)&&(s=n.get(a),n.delete(a)),s}(this,i))}}function uo({_intern:n,_key:i},s){const a=i(s);return n.has(a)?n.get(a):s}function Ee(n){return null!==n&&"object"==typeof n?n.valueOf():n}Set;const Ga=Symbol("implicit");function ni(){var n=new Ja,i=[],s=[],a=Ga;function l(f){let h=n.get(f);if(void 0===h){if(a!==Ga)return a;n.set(f,h=i.push(f)-1)}return s[h%s.length]}return l.domain=function(f){if(!arguments.length)return i.slice();i=[],n=new Ja;for(const h of f)n.has(h)||n.set(h,i.push(h)-1);return l},l.range=function(f){return arguments.length?(s=Array.from(f),l):s.slice()},l.unknown=function(f){return arguments.length?(a=f,l):a},l.copy=function(){return ni(i,s).unknown(a)},dt.apply(l,arguments),l}function ri(){var f,h,n=ni().unknown(void 0),i=n.domain,s=n.range,a=0,l=1,g=!1,_=0,w=0,m=.5;function b(){var T=i().length,O=l<a,H=O?l:a,G=O?a:l;f=(G-H)/Math.max(1,T-_+2*w),g&&(f=Math.floor(f)),H+=(G-H-f*(T-_))*m,h=f*(1-_),g&&(H=Math.round(H),h=Math.round(h));var S=ws(T).map(function(P){return H+f*P});return s(O?S.reverse():S)}return delete n.unknown,n.domain=function(T){return arguments.length?(i(T),b()):i()},n.range=function(T){return arguments.length?([a,l]=T,a=+a,l=+l,b()):[a,l]},n.rangeRound=function(T){return[a,l]=T,a=+a,l=+l,g=!0,b()},n.bandwidth=function(){return h},n.step=function(){return f},n.round=function(T){return arguments.length?(g=!!T,b()):g},n.padding=function(T){return arguments.length?(_=Math.min(1,w=+T),b()):_},n.paddingInner=function(T){return arguments.length?(_=Math.min(1,T),b()):_},n.paddingOuter=function(T){return arguments.length?(w=+T,b()):w},n.align=function(T){return arguments.length?(m=Math.max(0,Math.min(1,T)),b()):m},n.copy=function(){return ri(i(),[a,l]).round(g).paddingInner(_).paddingOuter(w).align(m)},dt.apply(b(),arguments)}var _e=Math.sqrt(50),ln=Math.sqrt(10),ii=Math.sqrt(2);function oi(n,i,s){var a=(i-n)/Math.max(0,s),l=Math.floor(Math.log(a)/Math.LN10),f=a/Math.pow(10,l);return l>=0?(f>=_e?10:f>=ln?5:f>=ii?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(f>=_e?10:f>=ln?5:f>=ii?2:1)}const As=Fe(hr).right,qn=(Fe(function bs(n){return null===n?NaN:+n}),As);function Xa(n,i){return n=+n,i=+i,function(s){return Math.round(n*(1-s)+i*s)}}function Ms(n){return+n}var Va=[0,1];function Mr(n){return n}function Ts(n,i){return(i-=n=+n)?function(s){return(s-n)/i}:function Ka(n){return function(){return n}}(isNaN(i)?NaN:.5)}function tu(n,i,s){var a=n[0],l=n[1],f=i[0],h=i[1];return l<a?(a=Ts(l,a),f=s(h,f)):(a=Ts(a,l),f=s(f,h)),function(g){return f(a(g))}}function lc(n,i,s){var a=Math.min(n.length,i.length)-1,l=new Array(a),f=new Array(a),h=-1;for(n[a]<n[0]&&(n=n.slice().reverse(),i=i.slice().reverse());++h<a;)l[h]=Ts(n[h],n[h+1]),f[h]=s(i[h],i[h+1]);return function(g){var _=qn(n,g,1,a)-1;return f[_](l[_](g))}}function eu(n,i){return i.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Me(){return function nu(){var a,l,f,g,_,w,n=Va,i=Va,s=so,h=Mr;function m(){var T=Math.min(n.length,i.length);return h!==Mr&&(h=function ja(n,i){var s;return n>i&&(s=n,n=i,i=s),function(a){return Math.max(n,Math.min(i,a))}}(n[0],n[T-1])),g=T>2?lc:tu,_=w=null,b}function b(T){return null==T||isNaN(T=+T)?f:(_||(_=g(n.map(a),i,s)))(a(h(T)))}return b.invert=function(T){return h(l((w||(w=g(i,n.map(a),Ye)))(T)))},b.domain=function(T){return arguments.length?(n=Array.from(T,Ms),m()):n.slice()},b.range=function(T){return arguments.length?(i=Array.from(T),m()):i.slice()},b.rangeRound=function(T){return i=Array.from(T),s=Xa,m()},b.clamp=function(T){return arguments.length?(h=!!T||Mr,m()):h!==Mr},b.interpolate=function(T){return arguments.length?(s=T,m()):s},b.unknown=function(T){return arguments.length?(f=T,b):f},function(T,O){return a=T,l=O,m()}}()(Mr,Mr)}function Tr(n){var i=n.domain;return n.ticks=function(s){var a=i();return function Ya(n,i,s){var a,f,h,g,l=-1;if(s=+s,(n=+n)==(i=+i)&&s>0)return[n];if((a=i<n)&&(f=n,n=i,i=f),0===(g=oi(n,i,s))||!isFinite(g))return[];if(g>0){let _=Math.round(n/g),w=Math.round(i/g);for(_*g<n&&++_,w*g>i&&--w,h=new Array(f=w-_+1);++l<f;)h[l]=(_+l)*g}else{g=-g;let _=Math.round(n*g),w=Math.round(i*g);for(_/g<n&&++_,w/g>i&&--w,h=new Array(f=w-_+1);++l<f;)h[l]=(_+l)/g}return a&&h.reverse(),h}(a[0],a[a.length-1],null==s?10:s)},n.tickFormat=function(s,a){var l=i();return function co(n,i,s,a){var f,l=function Qa(n,i,s){var a=Math.abs(i-n)/Math.max(0,s),l=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),f=a/l;return f>=_e?l*=10:f>=ln?l*=5:f>=ii&&(l*=2),i<n?-l:l}(n,i,s);switch((a=ti(null==a?",f":a)).type){case"s":var h=Math.max(Math.abs(n),Math.abs(i));return null==a.precision&&!isNaN(f=function cn(n,i){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(un(i)/3)))-un(Math.abs(n)))}(l,h))&&(a.precision=f),_s(a,h);case"":case"e":case"g":case"p":case"r":null==a.precision&&!isNaN(f=function cc(n,i){return n=Math.abs(n),i=Math.abs(i)-n,Math.max(0,un(i)-un(n))+1}(l,Math.max(Math.abs(n),Math.abs(i))))&&(a.precision=f-("e"===a.type));break;case"f":case"%":null==a.precision&&!isNaN(f=function fc(n){return Math.max(0,-un(Math.abs(n)))}(l))&&(a.precision=f-2*("%"===a.type))}return ei(a)}(l[0],l[l.length-1],null==s?10:s,a)},n.nice=function(s){null==s&&(s=10);var _,w,a=i(),l=0,f=a.length-1,h=a[l],g=a[f],m=10;for(g<h&&(w=h,h=g,g=w,w=l,l=f,f=w);m-- >0;){if((w=oi(h,g,s))===_)return a[l]=h,a[f]=g,i(a);if(w>0)h=Math.floor(h/w)*w,g=Math.ceil(g/w)*w;else{if(!(w<0))break;h=Math.ceil(h*w)/w,g=Math.floor(g*w)/w}_=w}return n},n}function xn(){var n=Me();return n.copy=function(){return eu(n,xn())},dt.apply(n,arguments),Tr(n)}function iu(n,i){if(n=function ru(n){let i;for(;i=n.sourceEvent;)n=i;return n}(n),void 0===i&&(i=n.currentTarget),i){var s=i.ownerSVGElement||i;if(s.createSVGPoint){var a=s.createSVGPoint();return a.x=n.clientX,a.y=n.clientY,[(a=a.matrixTransform(i.getScreenCTM().inverse())).x,a.y]}if(i.getBoundingClientRect){var l=i.getBoundingClientRect();return[n.clientX-l.left-i.clientLeft,n.clientY-l.top-i.clientTop]}}return[n.pageX,n.pageY]}function Et(n){return"string"==typeof n?new ve([[document.querySelector(n)]],[document.documentElement]):new ve([[n]],na)}const Fn=Math.PI,er=2*Fn,nr=1e-6,ou=er-nr;function fo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function si(){return new fo}fo.prototype=si.prototype={constructor:fo,moveTo:function(n,i){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+i)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,i){this._+="L"+(this._x1=+n)+","+(this._y1=+i)},quadraticCurveTo:function(n,i,s,a){this._+="Q"+ +n+","+ +i+","+(this._x1=+s)+","+(this._y1=+a)},bezierCurveTo:function(n,i,s,a,l,f){this._+="C"+ +n+","+ +i+","+ +s+","+ +a+","+(this._x1=+l)+","+(this._y1=+f)},arcTo:function(n,i,s,a,l){var f=this._x1,h=this._y1,g=(s=+s)-(n=+n),_=(a=+a)-(i=+i),w=f-n,m=h-i,b=w*w+m*m;if((l=+l)<0)throw new Error("negative radius: "+l);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=i);else if(b>nr)if(Math.abs(m*g-_*w)>nr&&l){var T=s-f,O=a-h,H=g*g+_*_,G=T*T+O*O,S=Math.sqrt(H),P=Math.sqrt(b),D=l*Math.tan((Fn-Math.acos((H+b-G)/(2*S*P)))/2),R=D/P,X=D/S;Math.abs(R-1)>nr&&(this._+="L"+(n+R*w)+","+(i+R*m)),this._+="A"+l+","+l+",0,0,"+ +(m*T>w*O)+","+(this._x1=n+X*g)+","+(this._y1=i+X*_)}else this._+="L"+(this._x1=n)+","+(this._y1=i)},arc:function(n,i,s,a,l,f){n=+n,i=+i,f=!!f;var h=(s=+s)*Math.cos(a),g=s*Math.sin(a),_=n+h,w=i+g,m=1^f,b=f?a-l:l-a;if(s<0)throw new Error("negative radius: "+s);null===this._x1?this._+="M"+_+","+w:(Math.abs(this._x1-_)>nr||Math.abs(this._y1-w)>nr)&&(this._+="L"+_+","+w),s&&(b<0&&(b=b%er+er),b>ou?this._+="A"+s+","+s+",0,1,"+m+","+(n-h)+","+(i-g)+"A"+s+","+s+",0,1,"+m+","+(this._x1=_)+","+(this._y1=w):b>nr&&(this._+="A"+s+","+s+",0,"+ +(b>=Fn)+","+m+","+(this._x1=n+s*Math.cos(l))+","+(this._y1=i+s*Math.sin(l))))},rect:function(n,i,s,a){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+i)+"h"+ +s+"v"+ +a+"h"+-s+"Z"},toString:function(){return this._}};const Cs=si;function ho(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function Ht(n){return function(){return n}}function su(n){this._context=n}function Os(n){return new su(n)}function ai(n){return n[0]}function Ps(n){return n[1]}function ui(n,i){var s=Ht(!0),a=null,l=Os,f=null;function h(g){var _,m,T,w=(g=ho(g)).length,b=!1;for(null==a&&(f=l(T=Cs())),_=0;_<=w;++_)!(_<w&&s(m=g[_],_,g))===b&&((b=!b)?f.lineStart():f.lineEnd()),b&&f.point(+n(m,_,g),+i(m,_,g));if(T)return f=null,T+""||null}return n="function"==typeof n?n:void 0===n?ai:Ht(n),i="function"==typeof i?i:void 0===i?Ps:Ht(i),h.x=function(g){return arguments.length?(n="function"==typeof g?g:Ht(+g),h):n},h.y=function(g){return arguments.length?(i="function"==typeof g?g:Ht(+g),h):i},h.defined=function(g){return arguments.length?(s="function"==typeof g?g:Ht(!!g),h):s},h.curve=function(g){return arguments.length?(l=g,null!=a&&(f=l(a)),h):l},h.context=function(g){return arguments.length?(null==g?a=f=null:f=l(a=g),h):a},h}function au(n,i,s){var a=null,l=Ht(!0),f=null,h=Os,g=null;function _(m){var b,T,O,G,P,H=(m=ho(m)).length,S=!1,D=new Array(H),R=new Array(H);for(null==f&&(g=h(P=Cs())),b=0;b<=H;++b){if(!(b<H&&l(G=m[b],b,m))===S)if(S=!S)T=b,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),O=b-1;O>=T;--O)g.point(D[O],R[O]);g.lineEnd(),g.areaEnd()}S&&(D[b]=+n(G,b,m),R[b]=+i(G,b,m),g.point(a?+a(G,b,m):D[b],s?+s(G,b,m):R[b]))}if(P)return g=null,P+""||null}function w(){return ui().defined(l).curve(h).context(f)}return n="function"==typeof n?n:void 0===n?ai:Ht(+n),i="function"==typeof i?i:Ht(void 0===i?0:+i),s="function"==typeof s?s:void 0===s?Ps:Ht(+s),_.x=function(m){return arguments.length?(n="function"==typeof m?m:Ht(+m),a=null,_):n},_.x0=function(m){return arguments.length?(n="function"==typeof m?m:Ht(+m),_):n},_.x1=function(m){return arguments.length?(a=null==m?null:"function"==typeof m?m:Ht(+m),_):a},_.y=function(m){return arguments.length?(i="function"==typeof m?m:Ht(+m),s=null,_):i},_.y0=function(m){return arguments.length?(i="function"==typeof m?m:Ht(+m),_):i},_.y1=function(m){return arguments.length?(s=null==m?null:"function"==typeof m?m:Ht(+m),_):s},_.lineX0=_.lineY0=function(){return w().x(n).y(i)},_.lineY1=function(){return w().x(n).y(s)},_.lineX1=function(){return w().x(a).y(i)},_.defined=function(m){return arguments.length?(l="function"==typeof m?m:Ht(!!m),_):l},_.curve=function(m){return arguments.length?(h=m,null!=f&&(g=h(f)),_):h},_.context=function(m){return arguments.length?(null==m?f=g=null:g=h(f=m),_):f},_}function Es(n,i,s){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+i)/6,(n._y0+4*n._y1+s)/6)}function fn(n){this._context=n}function li(n){return new fn(n)}function rr(n,i,s){this.k=n,this.x=i,this.y=s}su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,i){switch(n=+n,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 1:this._point=2;default:this._context.lineTo(n,i)}}},fn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Es(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,i){switch(n=+n,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Es(this,n,i)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=i}},rr.prototype={constructor:rr,scale:function(n){return 1===n?this:new rr(this.k*n,this.x,this.y)},translate:function(n,i){return 0===n&0===i?this:new rr(this.k,this.x+this.k*n,this.y+this.k*i)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new rr(1,0,0);var Cr=jt(7489),r=jt(2096),ci=jt(5719),Is=jt(2313);let ir=(()=>{class n{constructor(s){this.sanitizer=s}transform(s,a){switch(a){case"html":return this.sanitizer.bypassSecurityTrustHtml(s);case"style":return this.sanitizer.bypassSecurityTrustStyle(s);case"script":return this.sanitizer.bypassSecurityTrustScript(s);case"url":return this.sanitizer.bypassSecurityTrustUrl(s);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(s);default:throw new Error(`Invalid safe type specified: ${a}`)}}}return n.\u0275fac=function(s){return new(s||n)(r.Y36(Is.H7,16))},n.\u0275pipe=r.Yjl({name:"safehtml",type:n,pure:!0}),n})();const dc=["popover"],Rs=["freshwater_index_chart_container"],lu=["possible_futures_viz_chart_small_dams"],he=["possible_futures_viz_chart_protected_dams"],_c=["possible_futures_viz_chart_balkans_dams"],mc=["barrier_removal_projects_chart_container"],cu=["barrierCounter"],vc=["breadcrumb"],fu=["breadcrumbMobile"],yc=["ecosystem_impacts_title"],wc=["ecosystem_impacts_viz"],xc=["healthy_rivers_figure"],bn=["anthropogenic_threats_figure"],me=["ecosystem_impacts_viz_figure"];function zs(n,i){1&n&&(r.TgZ(0,"div",162)(1,"video",163),r._UZ(2,"source",164),r.qZA()())}function bc(n,i){if(1&n){const s=r.EpF();r.TgZ(0,"ion-breadcrumb",165),r.NdJ("click",function(l){const h=r.CHM(s).$implicit;return r.oxw().onBreadCrumbClick(l,h)}),r.TgZ(1,"span"),r._uU(2),r.qZA(),r._UZ(3,"span",13),r.qZA()}if(2&n){const s=i.$implicit;r.s9C("href",s.href),r.Q6J("active",s.active),r.xp6(2),r.Oqu(s.text)}}function Ds(n,i){1&n&&(r.TgZ(0,"img-comparison-slider",166),r._UZ(1,"img",167)(2,"img",168),r.qZA())}function Ac(n,i){1&n&&(r.TgZ(0,"img-comparison-slider",169),r._UZ(1,"img",167)(2,"img",168),r.qZA())}function Mc(n,i){1&n&&(r.TgZ(0,"img-comparison-slider",166),r._UZ(1,"img",170)(2,"img",171),r.qZA())}function fi(n,i){1&n&&(r.TgZ(0,"img-comparison-slider",169),r._UZ(1,"img",170)(2,"img",171),r.qZA())}function hu(n,i){1&n&&(r.TgZ(0,"img-comparison-slider",166),r._UZ(1,"img",172)(2,"img",173),r.qZA())}function pu(n,i){1&n&&(r.TgZ(0,"img-comparison-slider",169),r._UZ(1,"img",172)(2,"img",173),r.qZA())}const gu=function(n){return{mobile:n}},du=function(n,i){return{"scrolly-sticky-side":n,"scrolly-overlay":i}},Tc=[{path:"",component:(()=>{class n{constructor(s){this.platform=s,this.breadcrumbItems=[{href:"#healthy_rivers_title",text:"Healthy Rivers",active:!1},{href:"#anthropogenic_threats-title",text:"Anthropogenic Threats",active:!1},{href:"#ecosystem_impacts_title",text:"Ecosystem Impacts",active:!1},{href:"#possible_futures_title",text:"Possible Futures",active:!1},{href:"#about_title",text:"About",active:!1}],this.hovercardData={title:0,imgSrc:"",imgAlt:"",definition:""},this.sliderDirection="horizontal",this.maxBreadcrumbItems=1,this.isMobile=!1,this.futureDamsMargin={top:10,right:30,bottom:10,left:60},this.ecosystem_viz_drill_offset=1,this.isFullscreen=!1,this.futureDamsWidth=460-this.futureDamsMargin.left-this.futureDamsMargin.right,this.futureDamsHeight=200-this.futureDamsMargin.top-this.futureDamsMargin.bottom,this.isOpen=!1,this.collapsedBreadcrumbs=[],this.barrierCount=0,this.sliderDirection=this.platform.is("mobile")?"vertical":"horizontal",this.maxBreadcrumbItems=this.platform.is("mobile")?3:5,this.isMobile=this.platform.is("mobile"),this.isMobile&&(this.futureDamsMargin.left=10,this.futureDamsMargin.right=15)}ngAfterViewInit(){return(0,fr.mG)(this,void 0,void 0,function*(){let s=Et("main");this.maxBreadcrumbItems=this.platform.is("mobile")?1:4;let a=s.select("#healthy_rivers"),l=a.select("figure"),h=a.select("article").selectAll(".step"),g=s.select("#river_connectivities"),_=g.select("figure"),m=g.select("article").selectAll(".step"),b=yield an("assets/imgs/svg/connectivity/connectivity.svg");b.documentElement.setAttribute("width","auto"),b.documentElement.setAttribute("height","auto"),Et(b.documentElement).style("height","100%"),g.select("#connectivity_image").node().append(b.documentElement);let T=s.select("#anthropogenic_threats"),O=T.select("figure"),G=T.select("article").selectAll(".step"),S=s.select("#ecosystem_impacts_viz"),P=S.select("figure"),R=S.select("article").selectAll(".step"),X=s.select("#possible_futures_viz"),$=X.select("figure"),K=X.select("article").selectAll(".step");yield this.loadThreatsCharts(T),yield this.loadEcosystemImpactsCharts(S);let ht=Jt(),Mt=Jt(),ft=Jt(),W=Jt(),Tt=Jt();this.healthyRiversScroller=ht,this.riverConnectivityScroller=Mt,this.threatsScroller=ft,this.ecosystemImpactsScroller=W,this.possibleFuturesScroller=Tt;let vt=()=>{let rt=Math.floor(.5*window.innerHeight);h.style("height",rt+"px"),m.style("height",rt+"px"),G.style("height",rt+"px"),R.style("height",rt+"px"),K.style("height",rt+"px");let F=window.innerHeight/(this.isMobile?2:1);_.style("height",F+"px").style("top","36px"),g.select(".step:last-child").style("height",2*rt+"px"),l.style("height",F+"px").style("top","36px"),a.select(".step:last-child").style("height",2*rt+"px"),O.style("height",F+"px").style("top","36px"),T.select(".step:last-child").style("height",2*rt+"px"),P.style("height",F+"px").style("top","36px"),S.select(".step:last-child").style("height",2*rt+"px"),$.style("height",F+"px").style("top","36px"),X.select(".step:last-child").style("height",2*rt+"px"),Mt.resize(),ht.resize(),ft.resize(),W.resize(),Tt.resize()};function C(rt){m.classed("is-active",function(st,gt){return gt===rt.index});let F=_.selectAll(".river_connectivity_animation"),nt=Et("#connectivity_image svg"),it=rt.index+1;nt.select("#base").classed("active",()=>1==it),nt.select("#longitudinal1").classed("active",()=>2==it),nt.select("#longitudinal2").classed("active",()=>2==it),nt.select("#lateral1").classed("active",()=>3==it),nt.select("#lateral2").classed("active",()=>3==it),nt.select("#vertical1").classed("active",()=>4==it),nt.select("#vertical2").classed("active",()=>4==it),nt.select("#temporal1").classed("active",()=>5==it),nt.select("#temporal2").classed("active",()=>5==it),F.each(function(){let st=this.dataset.step.split(","),gt="all"===st[0]||st.includes(""+it);this.classList.toggle("active",gt)})}let B=rt=>{if(this.isFullscreen)return;console.log("handleStepEnterHealthyRivers : ",rt),h.classed("is-active",function(it,st){return st===rt.index});let F=l.selectAll("img"),nt=rt.index+1;F.each(function(){let it=this.dataset.step.split(","),st="all"===it[0]||it.includes(""+nt);this.classList.toggle("active",st)})},k=rt=>{G.classed("is-active",function(st,gt){return gt===rt.index});let F=[62293,199744,197752,112898,8528,59577],nt=O.selectAll(".anthropogenic_threats"),it=rt.index+1;nt.each(function(){let st=this.dataset.step.split(","),gt=this.dataset.transitionStep||1/0,Dt="all"===st[0]||st.includes(""+it),or=16!==it&&it>=+gt,po=this.dataset.foregroundStep==it;this.classList.toggle("active",Dt),this.classList.toggle("transitioned",or),O.style("z-index",po&&Dt?1e3:0),16!=it&&Et("#hovercard").classed("active",!1)}),4==it&&(this.barrierCount=F[0]),6==it&&(this.barrierCount=F[1]+F[0]),8==it&&(this.barrierCount=F[2]+F[1]+F[0]),10==it&&(this.barrierCount=F[3]+F[2]+F[1]+F[0]),12==it&&(this.barrierCount=F[4]+F[3]+F[2]+F[1]+F[0]),14==it&&(this.barrierCount=F[5]+F[4]+F[3]+F[2]+F[1]+F[0])};function q(rt){R.classed("is-active",function(it,st){return st===rt.index});let F=P.selectAll(".ecosystem_impacts_viz"),nt=rt.index+1;F.each(function(){let st=this.dataset.step.split(","),gt="all"===st[0]||st.includes(""+nt);this.classList.toggle("active",gt);let Dt=Et(this);"freshwater_only"===Dt.select("svg").attr("id")&&(Dt.select("#extinct").classed("active",gt&&nt>1),Dt.select("#endangered").classed("active",gt&&nt>2),Dt.select("#low_risk").classed("active",gt&&nt>3),Dt.select("#no_data").classed("active",gt&&nt>4)),"all_species"===Dt.select("svg").attr("id")&&(Dt.select("#freshwater_aggregated").classed("active",gt&&nt>5),Dt.select("#fishes").classed("active",gt&&nt>6),Dt.select("#invertebrates").classed("active",gt&&nt>8),Dt.select("#mammals").classed("active",gt&&nt>8),Dt.select("#reptiles").classed("active",gt&&nt>8),Dt.select("#amphibian").classed("active",gt&&nt>8),Dt.select("#birds").classed("active",gt&&nt>8))})}function tt(rt){K.classed("is-active",function(st,gt){return gt===rt.index});let F=this,nt=$.selectAll(".possible_futures_viz"),it=rt.index+1;try{nt.each(function(){let gt=this.dataset.step.split(","),Dt="all"===gt[0]||gt.includes(""+it);switch(this.classList.toggle("active",Dt),it){case 1:F.updateFutureDamsChart(F.smallDamsChart.node().querySelector("#smallDamsChart"),"existing");break;case 2:F.updateFutureDamsChart(F.smallDamsChart.node().querySelector("#smallDamsChart"),"planned");break;case 3:F.updateFutureDamsChart(F.protectedDamsChart.node().querySelector("#protectedDamsChart"),"existing");break;case 4:F.updateFutureDamsChart(F.protectedDamsChart.node().querySelector("#protectedDamsChart"),"planned");break;case 5:F.updateFutureDamsChart(F.balkansDamsChart.node().querySelector("#balkansDamsChart"),"existing");break;case 6:F.updateFutureDamsChart(F.balkansDamsChart.node().querySelector("#balkansDamsChart"),"planned");break;case 7:F.addFutureDamsBar(F.balkansDamsChart.node().querySelector("#balkansDamsChart"))}})}catch(st){}}function z(rt){rt.element.classList.remove("is-active")}let et=rt=>{z(rt),rt.index+1==17&&Et("#hovercard").classed("active",!1)},ot=rt=>{};return this.renderFreshWaterIndexChart(),this.renderDamRemovalProjectsChart(),this.renderPossibleFuturesChart(),(()=>(vt(),ht.setup({step:"#healthy_rivers article .step",offset:.75}).onStepEnter(B).onStepExit(z),Mt.setup({step:"#river_connectivities article .step",offset:.75}).onStepEnter(C).onStepExit(z),ft.setup({step:"#anthropogenic_threats article .step",offset:.75}).onStepEnter(k).onStepExit(et),W.setup({step:"#ecosystem_impacts_viz article .step",offset:.75}).onStepEnter(q).onStepExit(ot),Tt.setup({step:"#possible_futures_viz article .step",offset:.75}).onStepEnter(tt.bind(this)).onStepExit(z),Promise.resolve()))()})}loadEcosystemImpactsCharts(s){return(0,fr.mG)(this,void 0,void 0,function*(){let a=yield an("assets/imgs/svg/eu_fishes_danger/01_eu_fishes_danger_freshwater.svg");Et(a.documentElement).style("height","100%"),s.select("#ecosystem_impacts_viz_figure_chart").node().append(a.documentElement);let l=yield an("assets/imgs/svg/eu_fishes_danger/02_eu_fishes_danger_all.svg");return l.documentElement.setAttribute("width","auto"),l.documentElement.setAttribute("height","auto"),Et(l.documentElement).style("height","100%"),s.select("#ecosystem_impacts_viz_figure_chart_all").node().append(l.documentElement),document.addEventListener("fullscreenchange",f=>{this.isFullscreen=null!==document.fullscreenElement,this.isFullscreen?(this.healthyRiversScroller.disable(),this.riverConnectivityScroller.disable(),this.threatsScroller.disable(),this.ecosystemImpactsScroller.disable(),this.possibleFuturesScroller.disable()):(this.healthyRiversScroller.enable(),this.riverConnectivityScroller.enable(),this.threatsScroller.enable(),this.ecosystemImpactsScroller.enable(),this.possibleFuturesScroller.enable())}),Promise.resolve()})}loadThreatsCharts(s){return(0,fr.mG)(this,void 0,void 0,function*(){let a=yield an("assets/imgs/svg/map_eu/2.map_eu_dams.svg"),l=yield an("assets/imgs/svg/map_eu/2.map_eu_ramps.svg"),f=yield an("assets/imgs/svg/map_eu/2.map_eu_weirs.svg"),h=yield an("assets/imgs/svg/map_eu/2.map_eu_culverts.svg"),g=yield an("assets/imgs/svg/map_eu/2.map_eu_sluices.svg"),_=yield an("assets/imgs/svg/map_eu/2.map_eu_fords_other.svg"),w=yield an("assets/imgs/svg/map_eu/2.map_eu_count_wgs84_more_data.svg"),m=this;a.documentElement.setAttribute("width","auto"),a.documentElement.setAttribute("height","auto"),l.documentElement.setAttribute("width","auto"),l.documentElement.setAttribute("height","auto"),f.documentElement.setAttribute("width","auto"),f.documentElement.setAttribute("height","auto"),h.documentElement.setAttribute("width","auto"),h.documentElement.setAttribute("height","auto"),g.documentElement.setAttribute("width","auto"),g.documentElement.setAttribute("height","auto"),_.documentElement.setAttribute("width","auto"),_.documentElement.setAttribute("height","auto"),w.documentElement.setAttribute("width","auto"),w.documentElement.setAttribute("height","auto"),Et(a.documentElement).style("height","100%"),Et(l.documentElement).style("height","100%"),Et(f.documentElement).style("height","100%"),Et(h.documentElement).style("height","100%"),Et(g.documentElement).style("height","100%"),Et(_.documentElement).style("height","100%"),Et(w.documentElement).style("height","100%"),s.select("#anthropogenic_threats_dams").node().append(a.documentElement),s.select("#anthropogenic_threats_ramps").node().append(l.documentElement),s.select("#anthropogenic_threats_weirs").node().append(f.documentElement),s.select("#anthropogenic_threats_culverts").node().append(h.documentElement),s.select("#anthropogenic_threats_sluices").node().append(g.documentElement),s.select("#anthropogenic_threats_others").node().append(_.documentElement),s.select("#anthropogenic_threats_hex_bin").node().append(w.documentElement),s.selectAll("#anthropogenic_threats_hex_bin #eu_barrier_count .hex").each(function(){Et(this).on("click",function(T){let O=this.dataset.points,H=this.getBoundingClientRect().x,G=this.getBoundingClientRect().y;m.hovercardData.title=O,m.hovercardData.definition="hovercard.barriers",Et("#hovercard").style("left",H+"px").style("top",G+"px").classed("active",!0)})})})}presentPopover(s){return(0,fr.mG)(this,void 0,void 0,function*(){this.collapsedBreadcrumbs=s.detail.collapsedBreadcrumbs,this.popover.el.event=s,this.isOpen=!0})}onBreadCrumbClick(s,a){s.preventDefault(),this.breadcrumbItems.map(f=>f.active=f.href===a.href);let l=this.breadcrumb.el.getBoundingClientRect().height;this.scrollSectionIntoView(a.href,l)}onBreadCrumbPopoverClick(s){s.preventDefault();let a=s.target.parentElement.dataset.href;this.isOpen=!1;let l=this.breadcrumbMobile.el.getBoundingClientRect().height;this.scrollSectionIntoView(a,l)}scrollSectionIntoView(s,a=0){let l=document.querySelector(s);Cr.isNil(l)||(l.scrollIntoView({behavior:"smooth"}),l.scrollBy({top:-2*a}))}renderFreshWaterIndexChart(){let a=520,l=340,f=Et(this.freshwater_index_chart_container.nativeElement).append("svg").attr("width","auto").attr("height","auto").attr("viewBox","0 0 700 400").append("g").attr("transform","translate(60,30)");eo("assets/data/linechart_fish_simple.csv").then(g=>function h(g){let _=xn().domain([1970,2017]).range([0,a]),w=Zn().scale(_).ticks(10).tickFormat(function(K){return Math.floor(K)}).tickSizeInner(0).tickSizeOuter(0);f.append("g").attr("transform","translate(0,350)").call(w);let m=xn().domain([0,100]).range([l,0]),b=Pr().scale(m).ticks(3).tickFormat(function(K){return Math.floor(K)+"%"}).tickSizeInner(0).tickSizeOuter(0);f.append("g").call(b).select(".domain").attr("opacity",0);let T=Fe(function(K){return K.year}).left,O=f.append("path").datum(g).transition().duration(2500).attr("fill","rgba(117, 147, 206, 0.3)").attr("stroke","rgba(117, 147, 206, 0.37").attr("d",au().curve(li).x(function(K){return _(K.year)}).y0(function(K){return m(K.Freshwater_upper)}).y1(function(K){return m(K.Freshwater_lower)}));f.append("path").datum(g).attr("fill","none").attr("stroke","#7593ce").attr("stroke-width",1.5).attr("d",ui().curve(li).x(function(K){return _(K.year)}).y(function(K){return m(K.Freshwater_index)})).node().getTotalLength(),O.node().getTotalLength();let P=f.append("g");P.append("line").attr("class","upper_axis").attr("x1",0).attr("x2",a).attr("y1",K=>m(100)).attr("y2",K=>m(100)).attr("stroke-dasharray",4).attr("stroke","var(--ion-color-text-color-standard)"),P.append("text").attr("class","upper_axis_text_left").text("1970").attr("x",_(2016)).attr("y",K=>m(100));let D=f.append("g").append("circle").style("fill","#7593ce").attr("r",4).style("opacity",0),R=f.append("g").append("text").attr("class","focus_text").style("opacity",0).attr("fill","#7593ce").attr("alignment-baseline","middle");f.append("rect").style("fill","none").style("pointer-events","all").attr("width",a).attr("height",l).on("mouseover",function X(){D.style("opacity",1),R.style("opacity",1)}).on("mousemove",function $(K){let ht=_.invert(iu(K)[0]);if(isNaN(ht))return;let Mt=T(g,ht,1),ft=g[Mt];ft&&(D.attr("cx",_(ft.year)).attr("cy",m(ft.Freshwater_index)),R.attr("text-anchor","left").html(()=>`${ft.year}:${ei(".2f")(ft.Freshwater_index)}%`).attr("x",_(ft.year)+15).attr("y",m(ft.Freshwater_index)))}).on("mouseout",function Q(){D.style("opacity",0),R.style("opacity",0)})}(g))}renderDamRemovalProjectsChart(){let l=340,f=Et(this.barrier_removal_projects_chart_container.nativeElement).append("svg").attr("width","auto").attr("height","auto").attr("viewBox","0 0 700 400").append("g").attr("transform","translate(60,30)");eo("assets/data/dam_removal_projects.csv").then(g=>function h(g){let _=xn().domain([1940,2020]).range([0,520]),w=Zn().scale(_).ticks(10).tickFormat(function(Q){return Math.floor(Q)}).tickSizeInner(0).tickSizeOuter(0);f.append("g").attr("transform","translate(0,340)").call(w);let m=xn().domain([429,4984]).range([l,0]),b=Pr().scale(m).ticks(3).tickFormat(function(Q){return Math.floor(Q)+"%"}).tickSizeInner(0).tickSizeOuter(0);f.append("g").call(b).select(".domain").attr("opacity",0);let T=Fe(function(Q){return Q.year}).left,O=f.append("path").datum(g).transition().duration(2500).attr("fill","var( --ion-color-secondary-shade-transarency)").attr("stroke","none").attr("d",au().curve(li).x(function(Q){return _(Q.year)}).y0(function(Q){return m(Q.cumulative)}).y1(function(Q){return m(429)}));f.append("path").datum(g).attr("fill","none").attr("stroke","var(--ion-color-secondary-shade)").attr("stroke-width",1.5).attr("d",ui().curve(li).x(function(Q){return _(Q.year)}).y(function(Q){return m(Q.cumulative)})).node().getTotalLength(),O.node().getTotalLength();let P=f.append("g").append("circle").style("fill","var(--ion-color-secondary-shade)").attr("r",4).style("opacity",0),D=f.append("g").append("text").attr("class","focus_text").style("opacity",0).attr("fill","var(--ion-color-secondary-shade)").attr("alignment-baseline","middle");f.append("rect").style("fill","none").style("pointer-events","all").attr("width",520).attr("height",l).on("mouseover",function R(){P.style("opacity",1),D.style("opacity",1)}).on("mousemove",function X(Q){let K=_.invert(iu(Q)[0]);if(isNaN(K))return;let ht=T(g,K,1),Mt=g[ht];Mt&&(P.attr("cx",_(Mt.year)).attr("cy",m(Mt.cumulative)),D.attr("text-anchor","left").html(()=>`${Mt.year}:${ei(".2f")(Mt.cumulative)}%`).attr("x",_(Mt.year)+15).attr("y",m(Mt.cumulative)))}).on("mouseout",function $(){P.style("opacity",0),D.style("opacity",0)})}(g))}renderPossibleFuturesChart(){this.smallDamsChart=Et(this.possible_futures_viz_chart_small_dams_container.nativeElement).append("svg").attr("width","auto").attr("height","auto").attr("viewBox",`0 0 ${this.futureDamsWidth+this.futureDamsMargin.left+this.futureDamsMargin.right} ${this.futureDamsHeight+this.futureDamsMargin.top+this.futureDamsMargin.bottom}`),this.protectedDamsChart=Et(this.possible_futures_viz_chart_protected_dams_container.nativeElement).append("svg").attr("width","auto").attr("height","auto").attr("viewBox",`0 0 ${this.futureDamsWidth+this.futureDamsMargin.left+this.futureDamsMargin.right} ${this.futureDamsHeight+this.futureDamsMargin.top+this.futureDamsMargin.bottom}`),this.balkansDamsChart=Et(this.possible_futures_viz_chart_balkans_dams_container.nativeElement).append("svg").attr("width","auto").attr("height","auto").attr("viewBox",`0 0 ${this.futureDamsWidth+this.futureDamsMargin.left+this.futureDamsMargin.right} ${this.futureDamsHeight+this.futureDamsMargin.top+this.futureDamsMargin.bottom}`),function tc(n,i){return fetch(n,i).then(jl)}("assets/data/future_dams.json").then(s=>{this.futureDamsdata=s,this.createFutureDamsChart(s.small,this.possible_futures_viz_chart_small_dams_container.nativeElement.querySelector("svg"),"smallDamsChart",!1),this.createFutureDamsChart(s.protected,this.possible_futures_viz_chart_protected_dams_container.nativeElement.querySelector("svg"),"protectedDamsChart",!1),this.createFutureDamsChart(s.balkans,this.possible_futures_viz_chart_balkans_dams_container.nativeElement.querySelector("svg"),"balkansDamsChart",!0)})}createFutureDamsChart(s,a,l,f=!1){let h={existing:"var(--ion-color-warning)",planned:"var(--ion-color-danger)"};var g=xn().domain([0,100]).range([0,this.futureDamsWidth]),_=ri().range([0,this.futureDamsHeight]).domain(s.map(m=>m.type)).padding(1);let w=Et(a).append("g").attr("id",l);if(w.attr("transform","translate("+this.futureDamsMargin.left+","+this.futureDamsMargin.top+")"),w.selectAll(".lollipop_line").data(s).enter().append("line").attr("class","lollipop_line").attr("data-type",m=>m.type).attr("x1",0).attr("x2",0).attr("y1",m=>_(m.type)).attr("y2",m=>_(m.type)).attr("fill",m=>h[m.type]).attr("stroke",m=>h[m.type]).attr("stroke-width",7),w.selectAll(".lollipop_circle").data(s).enter().append("circle").attr("class","lollipop_circle").attr("data-type",m=>m.type).attr("cx",g(0)).attr("cy",m=>_(m.type)).attr("r","7").style("fill",m=>h[m.type]).attr("stroke",m=>h[m.type]),w.selectAll(".lollipop_type_label").data(s).enter().append("text").text(m=>m.type).style("fill",m=>h[m.type]).attr("x",5).attr("y",m=>_(m.type)-10),w.selectAll(".lollipop_value_label").data(s).enter().append("text").attr("data-type",m=>m.type).style("fill",m=>h[m.type]).text(m=>"0%").attr("x",()=>g(100)-10).attr("y",m=>_(m.type)+3.5).attr("class","lollipop_value_label"),f){let m=s[1].small_of_planned;w.selectAll(".lollipop_line_small_of_planned").data([m]).enter().append("line").attr("class","lollipop_line_small_of_planned").attr("data-type",b=>b.type).attr("x1",0).attr("x2",()=>0).attr("y1",()=>_("planned")).attr("y2",()=>_("planned")).attr("fill","none").attr("stroke","darkred").attr("stroke-width",7)}}updateFutureDamsChart(s,a){var l=xn().domain([0,100]).range([0,this.futureDamsWidth]);let f=Et(s);return f.selectAll(".lollipop_line").each(function(h){this.dataset.type==a&&Et(this).transition().duration(2e3).attr("x2",g=>l(g.value))}),f.selectAll(".lollipop_circle").each(function(h){this.dataset.type==a&&Et(this).transition().duration(2e3).attr("cx",g=>l(g.value))}),f.selectAll(".lollipop_value_label").each(function(h){this.dataset.type==a&&Et(this).transition().duration(2e3).textTween(function(g){this._current||(this._current=0);const _=so(this._current,g.value);return function(w){let m=ei(".2")(this._current=_(w));return`${Math.floor(m)}%`}})}),Promise.resolve()}addFutureDamsBar(s){var a=xn().domain([0,100]).range([0,this.futureDamsWidth]);Et(s).selectAll(".lollipop_line_small_of_planned").transition().duration(2e3).attr("x2",f=>a(f.value))}setToFullscreen(s){this[s].nativeElement.requestFullscreen()}disposeHovercard(){Et("#hovercard").classed("active",!1)}exitFullScreen(){null!==document.fullscreenElement&&document.exitFullscreen()}threatsMouseEnterHandler(s){console.log(s)}threatsMouseLeaveHandler(s){console.log(s)}}return n.\u0275fac=function(s){return new(s||n)(r.Y36(v.t4))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(s,a){if(1&s&&(r.Gf(dc,5),r.Gf(Rs,5),r.Gf(lu,5),r.Gf(he,5),r.Gf(_c,5),r.Gf(mc,5),r.Gf(cu,5),r.Gf(vc,5),r.Gf(fu,5),r.Gf(yc,5),r.Gf(wc,5),r.Gf(xc,5),r.Gf(bn,5),r.Gf(me,5)),2&s){let l;r.iGM(l=r.CRH())&&(a.popover=l.first),r.iGM(l=r.CRH())&&(a.freshwater_index_chart_container=l.first),r.iGM(l=r.CRH())&&(a.possible_futures_viz_chart_small_dams_container=l.first),r.iGM(l=r.CRH())&&(a.possible_futures_viz_chart_protected_dams_container=l.first),r.iGM(l=r.CRH())&&(a.possible_futures_viz_chart_balkans_dams_container=l.first),r.iGM(l=r.CRH())&&(a.barrier_removal_projects_chart_container=l.first),r.iGM(l=r.CRH())&&(a.barrierCounter=l.first),r.iGM(l=r.CRH())&&(a.breadcrumb=l.first),r.iGM(l=r.CRH())&&(a.breadcrumbMobile=l.first),r.iGM(l=r.CRH())&&(a.ecosystem_impacts_title=l.first),r.iGM(l=r.CRH())&&(a.ecosystem_impacts_viz=l.first),r.iGM(l=r.CRH())&&(a.healthy_rivers_figure=l.first),r.iGM(l=r.CRH())&&(a.anthropogenic_threats_figure=l.first),r.iGM(l=r.CRH())&&(a.ecosystem_impacts_viz_figure=l.first)}},decls:580,vars:337,consts:[[3,"fullscreen","ngClass"],["id","container"],["id","hovercard",3,"click"],["id","video_fixed",4,"ngIf"],[3,"ngClass"],["id","header"],[1,"centered_text_block","font-bold"],["id","intro_title",1,"intro__hed"],["id","intro_subtitle",1,"intro__hed",3,"innerHTML"],["id","intro",1,"centered_text_block"],["id","breadcrumb"],["breadcrumb",""],["active","true",2,"display","none"],["slot","separator"],[3,"active","href","click",4,"ngFor","ngForOf"],["id","healthy_rivers",1,"scrolly","scrolly-overlay"],[1,"sticky_section_title","section_title","ion-no-margin"],[1,"ion-no-margin"],["size","10",1,"ion-no-margin"],["id","healthy_rivers_title",1,""],["size","2",1,"ion-no-margin"],["size","small","fill","outline","expand","block","color","light",1,"ion-no-margin",3,"click"],["slot","icon-only","name","search-outline"],[3,"click"],["healthy_rivers_figure",""],["src","assets/imgs/svg/map_global_rivers/1.map_global_rivers_land.svg","id","map_global_rivers_land","data-step","all",1,"stacked_img","map_global_rivers","active"],["src","assets/imgs/svg/map_global_rivers/1.map_global_rivers_all.svg","id","map_global_rivers_all","data-step","1",1,"stacked_img","map_global_rivers","active"],["src","assets/imgs/svg/map_global_rivers/1.map_global_rivers_not.svg","id","map_global_rivers_not","data-step","2,7",1,"stacked_img","map_global_rivers"],["src","assets/imgs/svg/map_global_rivers/1.map_global_rivers_ffr.svg","id","map_global_rivers_ffr","data-step","3,4,5,6,7",1,"stacked_img","map_global_rivers"],["data-step","1",1,"step","flex-step"],[3,"innerHTML"],[1,"step-footer",3,"innerHTML"],["data-step","2",1,"step"],["data-step","3",1,"step"],["data-step","4",1,"step"],["data-step","5",1,"step"],["data-step","6",1,"step"],["data-step","7",1,"step","separator"],[1,"section_title"],["id","river_connectivities",1,"scrolly",3,"ngClass"],["id","connectivity_image","data-step","1,2,3,4,5",1,"stacked_img","river_connectivity_animation"],["data-step","1","data-offset","0.75","id","connectivities_step1",1,"step"],["id","free_flowing_rivers_text",1,"centered_text_block"],["size-xs","12","size-sm","12","size-md","12","size-lg","12","size-xl","6"],[1,"font-bold"],["src","assets/imgs/jpg/foto1.jpeg"],["id","anthropogenic_threats",1,"scrolly","scrolly-overlay"],["id","anthropogenic_threats-title",1,""],["id","anthropogenic_threats_figure",3,"click"],["anthropogenic_threats_figure",""],["src","assets/imgs/svg/map_eu/2.map_eu_land.svg","id","anthropogenic_threats_land","data-step","3,4,5,6,7,8,9,10,11,12,13,14,15",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_dams","data-step","4,5,6,7,8,9,10,11,12,13,14,15","data-transition-step","6",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_ramps","data-step","6,7,8,9,10,11,12,13,14,15","data-transition-step","8",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_weirs","data-step","8,9,10,11,12,13,14,15","data-transition-step","10",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_culverts","data-step","10,11,12,13,14,15","data-transition-step","12",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_sluices","data-step","12,13,14,15","data-transition-step","14",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_others","data-step","14,15",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_barrier_counter","data-step","4,5,6,7,8,9,10,11,12,13,14,15",1,"stacked_img","anthropogenic_threats"],["id","barrier_counter"],["barrierCounter",""],["id","anthropogenic_threats_hex_bin","data-step","16,17","data-foreground-step","16",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_article"],["data-step","1",1,"step"],["data-step","5",1,"step","separator"],["data-step","8",1,"step"],["data-step","9",1,"step","separator"],["data-step","10",1,"step"],["data-step","11",1,"step","separator"],["data-step","12",1,"step"],["data-step","13",1,"step","separator"],["data-step","14",1,"step"],["data-step","15",1,"step","separator"],["data-step","16",1,"step","separator"],["data-step","17",1,"step"],["id","anthropogenic_threats_text",1,"centered_text_block"],["color","secondary",1,"font-bold"],["src","assets/imgs/gif/foto7.gif"],["src","assets/imgs/jpg/foto15.jpeg"],["src","assets/imgs/jpg/foto16.jpeg"],["id","canalizzazione",1,"centered_text_block"],["direction","vertical",4,"ngIf"],["direction","horizontal",4,"ngIf"],["size-xs","12","size-sm","12","size-md","12","size-lg","12","size-xl","6",1,"ion-no-margin"],["src","assets/imgs/jpg/foto11.jpeg"],["size-xs","12","size-sm","12","size-md","12","size-lg","12","size-xl","6",1,"ion-no-margin","ion-no-padding"],["id","ecosystem_impacts_title",1,"centered_text_block","sticky_section_title"],["ecosystem_impacts_title",""],["id","ecosystem_impacts_text",1,"centered_text_block"],["href","https://livingplanet.panda.org/freshwater","target","_blank"],["id","freshwater_index_chart_container"],["freshwater_index_chart_container",""],["autoplay","","autoPlay","","muted","","loop","","playsinline","","controls",""],["src","assets/video/video3.mp4","type","video/mp4"],["src","assets/video/video3.webm","type","video/webm"],["href","https://onlinelibrary.wiley.com/doi/full/10.1002/rra.3386","target","_blank"],["src","assets/imgs/jpg/foto18.jpg"],["id","ecosystem_impacts_viz",1,"scrolly","scrolly-overlay"],["ecosystem_impacts_viz",""],["id","freshwater_species_title",1,""],["id","ecosystem_impacts_viz_figure",3,"click"],["ecosystem_impacts_viz_figure",""],["id","ecosystem_impacts_viz_figure_chart","data-step","2,3,4,5",1,"stacked_img","ecosystem_impacts_viz"],["id","ecosystem_impacts_viz_figure_chart_all","data-step","6,7,8,9",1,"stacked_img","ecosystem_impacts_viz"],["id","ecosystem_impacts_viz_article"],["data-step","1",1,"step","is-active",3,"innerHTML"],["data-step","2",1,"step",3,"innerHTML"],["data-step","3",1,"step",3,"innerHTML"],["data-step","4",1,"step",3,"innerHTML"],["data-step","5",1,"step",3,"innerHTML"],["data-step","6",1,"step","smaller-font","quick-transition",3,"innerHTML"],["data-step","7",1,"step","smaller-font","quick-transition",3,"innerHTML"],["data-step","8",1,"step","smaller-font","quick-transition",3,"innerHTML"],["data-step","9",1,"step","smaller-font","quick-transition",3,"innerHTML"],["id","ecosystem_impacts_sediment_text",1,"centered_text_block"],["href","https://www.forbes.com/sites/jeffopperman/2019/09/27/worlds-major-deltas-threatened-by-climate-change-and-also-by-how-we-develop-power-systems/?sh=c8de97a60e1f","target","_blank"],["id","possible_futures_text",1,"centered_text_block"],["id","possible_futures_title",1,"section_title","sticky_section_title"],["href","https://wwfeu.awsassets.panda.org/downloads/hydropower_pressure_on_european_rivers_the_story_in_numbers_web.pdf"],["id","possible_futures_viz",1,"scrolly",3,"ngClass"],["id","possible_futures_viz_figure"],["id","possible_futures_viz_chart_small_dams","data-step","1,2","data-transition-step","",1,"stacked_img","possible_futures_viz"],["possible_futures_viz_chart_small_dams",""],["id","possible_futures_viz_chart_protected_dams","data-step","3,4","data-transition-step","",1,"stacked_img","possible_futures_viz"],["possible_futures_viz_chart_protected_dams",""],["id","possible_futures_viz_chart_balkans_dams","data-step","5,6,7","data-transition-step","",1,"stacked_img","possible_futures_viz"],["possible_futures_viz_chart_balkans_dams",""],["id","possible_futures_viz_article"],["data-step","1",1,"step",3,"innerHTML"],["data-step","6",1,"step",3,"innerHTML"],["data-step","7",1,"step",3,"innerHTML"],["id","possible_futures_balkans_map",1,"centered_text_block"],[1,"font-bold",2,"color","var(--ion-color-warning-dark)"],[1,"font-bold",2,"color","var(--ion-color-danger-dark)"],["id","possible_futures_dam_removoval_text",1,"centered_text_block"],["href","https://damremoval.eu/about/","target","_blank"],["href","https://restorerivers.eu/wiki/index.php?title=Main_Page","target","_blank"],["id","barrier_removal_projects_chart_container"],["barrier_removal_projects_chart_container",""],["href","https://openrivers.eu/open-rivers-programme-supports-19-new-dam-removal-projects-opening-up-386-km-of-river/","target","_blank"],["src","assets/video/video5.mp4","type","video/mp4"],["src","assets/video/video5.webm","type","video/webm"],["href","https://ec.europa.eu/commission/presscorner/detail/en/ip_22_3746","target","_blank"],["src","assets/imgs/jpg/foto14.jpeg"],["id","about_credits",1,"centered_text_block"],["id","about_title",1,"section_title"],["id","glossary_container"],["id","glossary",1,"ion-no-padding"],[1,"ion-no-margin","ion-no-padding"],["size-xs","12","size-sm","12","size-md","12","size-lg","12","size-xl","2",1,""],["src","assets/imgs/jpg/foto2.jpg"],["src","assets/imgs/jpg/foto4.jpg"],["src","assets/imgs/jpg/foto5.jpg"],["src","assets/imgs/jpg/foto6.jpeg"],["target","_blank","href","https://www.cirf.org/it/home/"],["target","_blank","href","https://europe.wetlands.org/"],["href","https://doi.org/10.1038/s41586-019-1111-9","target","_blank"],["href","https://amber.international/european-barrier-atlas/","target","_blank"],["href","https://wwfeu.awsassets.panda.org/downloads/hydropower_pressure_on_european_rivers_the_story_in_numbers_web.pdf","target","_blank"],["href","https://www.sandre.eaufrance.fr/atlas/srv/fre/catalog.search#/metadata/59057026-b40c-4cf9-9e3e-7296e0aa1a78","target","_blank"],["href","https://www.livingplanetindex.org","target","_blank"],["href","https://www.iucnredlist.org","target","_blank"],["href","https://www.nature.org/content/dam/tnc/nature/en/documents/powerofriversreport_final3.pdf","target","_blank"],["id","video_fixed"],["autoplay","","loop","","muted","","id","anthropogenic_threats_dam_background",1,"stacked_img","anthropogenic_threats"],["src","assets/video/video1.mp4"],[3,"active","href","click"],["direction","vertical"],["slot","first","src","assets/imgs/png/foto9.png"],["slot","second","src","assets/imgs/png/foto10.png"],["direction","horizontal"],["slot","first","src","assets/imgs/png/foto12.png"],["slot","second","src","assets/imgs/png/foto13.png"],["slot","first","src","assets/imgs/png/balkans_existing.png"],["slot","second","src","assets/imgs/png/balkans_all.png"]],template:function(s,a){1&s&&(r.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2),r.NdJ("click",function(){return a.disposeHovercard()}),r.TgZ(3,"ion-grid")(4,"ion-row")(5,"span"),r._uU(6),r.ALo(7,"number"),r.ALo(8,"transloco"),r.qZA()()()(),r.YNc(9,zs,3,0,"div",3),r.TgZ(10,"main",4)(11,"section",5)(12,"div",6)(13,"h1",7),r._uU(14),r.ALo(15,"transloco"),r.qZA()(),r.TgZ(16,"div"),r._UZ(17,"h1",8),r.ALo(18,"safehtml"),r.ALo(19,"transloco"),r.qZA()(),r.TgZ(20,"section",9)(21,"p"),r._uU(22," Rivers are complex systems whose dynamics shape life on Earth as we know it. They are home to a wide range of freshwater species. They transport sediments and nutrients. They form wetlands, deltas, and floodplains which nurture flora, fauna, and human communities and protect us from floods, droughts, and other natural disasters. They collect water from the atmosphere and land and replenish groundwater systems, which are key for our survival. "),r.qZA(),r.TgZ(23,"p"),r._uU(24," To provide these essential ecosystem services, rivers must be able to flow freely, moving unobstructed in multiple directions. However, only a small fraction of the world\u2019s rivers can still do so: a myriad of human-made works fragment, deviate, constrict, and regulate river flow, dramatically impacting natural functions and surrounding ecosystems. "),r.qZA()(),r.TgZ(25,"ion-breadcrumbs",10,11)(27,"ion-breadcrumb",12),r._UZ(28,"span",13),r.qZA(),r.YNc(29,bc,4,3,"ion-breadcrumb",14),r.qZA(),r.TgZ(30,"section",15)(31,"ion-grid",16)(32,"ion-row",17)(33,"ion-col",18)(34,"h1",19),r._uU(35,"healthy rivers"),r.qZA()(),r.TgZ(36,"ion-col",20)(37,"ion-button",21),r.NdJ("click",function(){return a.setToFullscreen("healthy_rivers_figure")}),r._UZ(38,"ion-icon",22),r.qZA()()()(),r.TgZ(39,"figure",23,24),r.NdJ("click",function(){return a.exitFullScreen()}),r._UZ(41,"img",25)(42,"img",26)(43,"img",27)(44,"img",28),r.qZA(),r.TgZ(45,"article")(46,"div",29),r._UZ(47,"div",30),r.ALo(48,"safehtml"),r.ALo(49,"transloco"),r._UZ(50,"div",31),r.ALo(51,"safehtml"),r.ALo(52,"transloco"),r.qZA(),r.TgZ(53,"div",32),r._UZ(54,"div",30),r.ALo(55,"safehtml"),r.ALo(56,"transloco"),r.qZA(),r.TgZ(57,"div",33),r._UZ(58,"div",30),r.ALo(59,"safehtml"),r.ALo(60,"transloco"),r.qZA(),r.TgZ(61,"div",34),r._UZ(62,"div",30),r.ALo(63,"safehtml"),r.ALo(64,"transloco"),r.qZA(),r.TgZ(65,"div",35),r._UZ(66,"div",30),r.ALo(67,"safehtml"),r.ALo(68,"transloco"),r.qZA(),r.TgZ(69,"div",36),r._UZ(70,"div",30),r.ALo(71,"safehtml"),r.ALo(72,"transloco"),r.qZA(),r.TgZ(73,"div",37),r._UZ(74,"div",30),r.ALo(75,"safehtml"),r.ALo(76,"transloco"),r.qZA()()(),r.TgZ(77,"section")(78,"h1",38),r._uU(79,"The Four Dimensions of Connectivity"),r.qZA()(),r.TgZ(80,"section",39)(81,"figure"),r._UZ(82,"div",40),r.qZA(),r.TgZ(83,"article")(84,"div",41),r._UZ(85,"div",30),r.ALo(86,"safehtml"),r.ALo(87,"transloco"),r.qZA(),r.TgZ(88,"div",32),r._UZ(89,"div",30),r.ALo(90,"safehtml"),r.ALo(91,"transloco"),r.qZA(),r.TgZ(92,"div",33),r._UZ(93,"div",30),r.ALo(94,"safehtml"),r.ALo(95,"transloco"),r.qZA(),r.TgZ(96,"div",34),r._UZ(97,"div",30),r.ALo(98,"safehtml"),r.ALo(99,"transloco"),r.qZA(),r.TgZ(100,"div",35),r._UZ(101,"div",30),r.ALo(102,"safehtml"),r.ALo(103,"transloco"),r.qZA()()(),r.TgZ(104,"section",42)(105,"ion-grid")(106,"ion-row")(107,"ion-col",43)(108,"p")(109,"ion-text",44),r._uU(110,"Free-flowing rivers"),r.qZA(),r._uU(111," are those in which all four types of connectivity are present. "),r._UZ(112,"br"),r._uU(113," There are, however, many potential threats to maintaining a free-flowing status from the headwaters to the outlet. "),r._UZ(114,"br"),r._uU(115," For example, barriers like dams impact longitudinal and temporal connectivity, while bank protection and levees hinder lateral connectivity. "),r.qZA(),r.TgZ(116,"p"),r._uU(117," The human pressures that impact a river\u2019s flow and dynamics are multiple, often linked to urbanization, agriculture, roads and infrastructure built in riparian areas, water abstraction and energy production - to name a few. "),r.qZA()(),r.TgZ(118,"ion-col",43)(119,"figure"),r._UZ(120,"img",45),r.qZA()()()()(),r.TgZ(121,"section",46)(122,"ion-grid",16)(123,"ion-row",17)(124,"ion-col",18)(125,"h1",47),r._uU(126,"The Main Threats to rivers' connectivity"),r.qZA()(),r.TgZ(127,"ion-col",20)(128,"ion-button",21),r.NdJ("click",function(){return a.setToFullscreen("anthropogenic_threats_figure")}),r._UZ(129,"ion-icon",22),r.qZA()()()(),r.TgZ(130,"figure",48,49),r.NdJ("click",function(){return a.exitFullScreen()}),r._UZ(132,"img",50)(133,"div",51)(134,"div",52)(135,"div",53)(136,"div",54)(137,"div",55)(138,"div",56),r.TgZ(139,"div",57)(140,"div",58)(141,"h5"),r._uU(142),r.ALo(143,"transloco"),r.qZA(),r.TgZ(144,"h5",null,59),r._uU(146),r.ALo(147,"number"),r.qZA()()(),r._UZ(148,"div",60),r.qZA(),r.TgZ(149,"article",61)(150,"div",62),r._UZ(151,"div",30),r.ALo(152,"safehtml"),r.ALo(153,"transloco"),r.qZA(),r.TgZ(154,"div",32),r._UZ(155,"div",30),r.ALo(156,"safehtml"),r.ALo(157,"transloco"),r.qZA(),r.TgZ(158,"div",33),r._UZ(159,"div",30),r.ALo(160,"safehtml"),r.ALo(161,"transloco"),r.qZA(),r.TgZ(162,"div",34),r._UZ(163,"div",30),r.ALo(164,"safehtml"),r.ALo(165,"transloco"),r.qZA(),r.TgZ(166,"div",63),r._UZ(167,"div",30),r.ALo(168,"safehtml"),r.ALo(169,"transloco"),r.qZA(),r.TgZ(170,"div",36),r._UZ(171,"div",30),r.ALo(172,"safehtml"),r.ALo(173,"transloco"),r.qZA(),r.TgZ(174,"div",37),r._UZ(175,"div",30),r.ALo(176,"safehtml"),r.ALo(177,"transloco"),r.qZA(),r.TgZ(178,"div",64),r._UZ(179,"div",30),r.ALo(180,"safehtml"),r.ALo(181,"transloco"),r.qZA(),r.TgZ(182,"div",65),r._UZ(183,"div",30),r.ALo(184,"safehtml"),r.ALo(185,"transloco"),r.qZA(),r.TgZ(186,"div",66),r._UZ(187,"div",30),r.ALo(188,"safehtml"),r.ALo(189,"transloco"),r.qZA(),r.TgZ(190,"div",67),r._UZ(191,"div",30),r.ALo(192,"safehtml"),r.ALo(193,"transloco"),r.qZA(),r.TgZ(194,"div",68),r._UZ(195,"div",30),r.ALo(196,"safehtml"),r.ALo(197,"transloco"),r.qZA(),r.TgZ(198,"div",69),r._UZ(199,"div",30),r.ALo(200,"safehtml"),r.ALo(201,"transloco"),r.qZA(),r.TgZ(202,"div",70),r._UZ(203,"div",30),r.ALo(204,"safehtml"),r.ALo(205,"transloco"),r.qZA(),r.TgZ(206,"div",71),r._UZ(207,"div",30),r.ALo(208,"safehtml"),r.ALo(209,"transloco"),r.qZA(),r.TgZ(210,"div",72),r._UZ(211,"div",30),r.ALo(212,"safehtml"),r.ALo(213,"transloco"),r.qZA(),r.TgZ(214,"div",73),r._UZ(215,"div",30),r.ALo(216,"safehtml"),r.ALo(217,"transloco"),r.qZA()()(),r.TgZ(218,"section",74)(219,"p"),r._uU(220," These barriers mostly impact "),r.TgZ(221,"ion-text",75),r._uU(222,"longitudinal connectivity "),r.qZA(),r._uU(223,", blocking or limiting the passage of fish and sediments. "),r.qZA(),r.TgZ(224,"p"),r._uU(225," Some obstacles, like dams, also impact "),r.TgZ(226,"ion-text",75),r._uU(227,"temporal connectivity"),r.qZA(),r._uU(228,", as they regulate the flow of water and sediments according to human needs rather than allowing the river to follow its natural seasonal patterns. "),r.qZA(),r.TgZ(229,"figure"),r._UZ(230,"img",76),r.qZA(),r.TgZ(231,"p"),r._uU(232," Other types of human interventions put pressure on "),r.TgZ(233,"ion-text",75),r._uU(234," lateral connectivity"),r.qZA(),r._uU(235,", for example artificial levees and bank protection works. Such barriers are built in the floodplains and run parallel to the river. Levees are used to stop water from flooding the nearby land. Bank protection works, on the other hand, are made specifically to prevent the river channel from shifting its path sideways, although they don\u2019t necessarily block the river\u2019s waters from reaching the floodplains. "),r.qZA(),r.TgZ(236,"ion-grid")(237,"ion-row")(238,"ion-col",43)(239,"figure"),r._UZ(240,"img",77),r.TgZ(241,"figcaption"),r._uU(242,"Embankments"),r.qZA()()(),r.TgZ(243,"ion-col",43)(244,"figure"),r._UZ(245,"img",78),r.TgZ(246,"figcaption"),r._uU(247,"Bank protection works. Credits: Andrea Goltara"),r.qZA()()()()()(),r.TgZ(248,"section",79)(249,"div")(250,"p"),r._uU(251," Rivers with lateral barriers quickly become channels that follow a strict path, rather than live elements that weave in the environment and change shape over time. This can cause catastrophic floods when rivers overflow embankments and also increases flood risk further downstream. "),r.qZA()(),r.TgZ(252,"figure"),r.YNc(253,Ds,3,0,"img-comparison-slider",80),r.YNc(254,Ac,3,0,"img-comparison-slider",81),r.TgZ(255,"figcaption"),r._uU(256,"Reno River (Italy) in 1954 and in 2022. Credits: Volo IGMI GAI 1954 and Bing Maps. "),r.qZA()(),r.TgZ(257,"div")(258,"p"),r._uU(259," Lateral obstacles are less likely to be noticed as they are deeply ingrained in the anthropized landscape, but they are even more numerous than the shocking number of longitudinal obstacles like dams, weirs, ramps, and sluices. "),r.qZA()(),r.TgZ(260,"ion-grid",17)(261,"ion-row",17)(262,"ion-col",82)(263,"figure"),r._UZ(264,"img",83),r.TgZ(265,"figcaption"),r._uU(266,"Riverbed dredging"),r.qZA()()(),r.TgZ(267,"ion-col",84)(268,"p"),r._uU(269," Lastly, human interventions hinder the "),r.TgZ(270,"ion-text",75),r._uU(271," vertical connectivity"),r.qZA(),r._uU(272," of the riverbed. Activities like paving, dredging, or clogging with fine sediments limit the exchange between surface and groundwater. "),r.qZA()()()()(),r.TgZ(273,"section",85,86)(275,"h1",38),r._uU(276,"The ecological impacts of the loss of connectivity"),r.qZA()(),r.TgZ(277,"section",87)(278,"div")(279,"p"),r._uU(280," As rivers encounter man-made barriers to their free flow, the complex habitats they sustain are degraded or lost and animal species become increasingly vulnerable. Freshwater biodiversity is taking the hardest hit, declining at a faster rate than that of oceans and forests, according to WWF\u2019s "),r.TgZ(281,"a",88),r._uU(282,"Living Planet Index."),r.qZA()(),r.TgZ(283,"p"),r._uU(284,"Freshwater species have declined by 84% on average across monitored species compared to 1970. "),r.qZA(),r._UZ(285,"div",89,90),r.TgZ(287,"p"),r._uU(288," The reasons why freshwater species are declining are multiple, from overfishing to rising water temperatures. The loss of river connectivity impacts biodiversity in many ways. Barriers block rivers\u2019 longitudinal and lateral movements, fragmenting habitats and making entire portions inaccessible. For example, migratory fish might get cut off from their breeding areas, but even non-migratory fish species are impacted, as they can\u2019t reach sheltered or nutrient-rich areas of the river that are critical to their survival. "),r.qZA(),r.TgZ(289,"figure")(290,"video",91),r._UZ(291,"source",92)(292,"source",93),r.qZA()(),r.TgZ(293,"p"),r._uU(294," Fish get caught in dam turbines as they move downstream, or get stuck and disoriented as they move upstream and in reservoirs. In short, the negative impact of river fragmentation on the survival of fish species is great, and has been "),r.TgZ(295,"a",94),r._uU(296,"documented and quantified"),r.qZA(),r._uU(297,". "),r.qZA(),r.TgZ(298,"p"),r._uU(299," Barriers also transform the physical and chemical characteristics of rivers and negatively impact a wide range of freshwater species. Sediments of different sizes, especially the coarser ones, get trapped, leading to riverbed erosion. The latter, together with the altered water flows due to barriers, is linked to more salty water from the sea penetrating the river. Such change in salinity affects species\u2019 distribution, behavior, and limits the reproduction rate. "),r.qZA(),r.TgZ(300,"p"),r._uU(301," Lateral barriers such as bank protection works have an impact on floodplain habitats and cause the loss of wetlands by preventing natural-occurring inundations and sediment redistribution and reducing the exchange with the groundwater. "),r.qZA(),r.TgZ(302,"figure"),r._UZ(303,"img",95),r.qZA(),r.TgZ(304,"p"),r._uU(305," Migratory birds face growing challenges as they lose access to wetlands, which offer safe havens of food and habitat throughout their journeys. Critical nesting habitat such as gravel bed bars and islands can disappear due to altered river flows. "),r.qZA()()(),r.TgZ(306,"section",96,97)(308,"ion-grid",16)(309,"ion-row",17)(310,"ion-col",18)(311,"h1",98),r._uU(312,"Freshwater Species"),r.qZA()(),r.TgZ(313,"ion-col",20)(314,"ion-button",21),r.NdJ("click",function(){return a.setToFullscreen("ecosystem_impacts_viz_figure")}),r._UZ(315,"ion-icon",22),r.qZA()()()(),r.TgZ(316,"figure",99,100),r.NdJ("click",function(){return a.exitFullScreen()}),r._UZ(318,"div",101)(319,"div",102),r.qZA(),r.TgZ(320,"article",103),r._UZ(321,"div",104),r.ALo(322,"safehtml"),r.ALo(323,"transloco"),r._UZ(324,"div",105),r.ALo(325,"safehtml"),r.ALo(326,"transloco"),r._UZ(327,"div",106),r.ALo(328,"safehtml"),r.ALo(329,"transloco"),r._UZ(330,"div",107),r.ALo(331,"safehtml"),r.ALo(332,"transloco"),r._UZ(333,"div",108),r.ALo(334,"safehtml"),r.ALo(335,"transloco"),r._UZ(336,"div",109),r.ALo(337,"safehtml"),r.ALo(338,"transloco"),r._UZ(339,"div",110),r.ALo(340,"safehtml"),r.ALo(341,"transloco"),r._UZ(342,"div",111),r.ALo(343,"safehtml"),r.ALo(344,"transloco"),r._UZ(345,"div",112),r.ALo(346,"safehtml"),r.ALo(347,"transloco"),r.qZA()(),r.TgZ(348,"section",113)(349,"div")(350,"p"),r._uU(351," The trapping of sediments by barriers doesn\u2019t only alter riparian habitats. Without obstacles sediments would eventually reach the coastal zone, preventing coastal erosion and the loss of river deltas. Areas rich in sediments are often also rich in biodiversity since they supplement the soil with nutrients. It is "),r.TgZ(352,"a",114),r._uU(353,"estimated"),r.qZA(),r._uU(354," that the Nile river delta is losing 98% of its sediment supply because of upstream dams and reservoirs. "),r.qZA(),r.TgZ(355,"p"),r._uU(356,"Sediment trapping and downstream erosion threaten the lives and economic activities of the millions of people who belong to communities settled along river deltas and coasts. "),r.qZA(),r.TgZ(357,"p"),r._uU(358," Erosion makes these environments increasingly susceptible to heavy floods, a risk aggravated by rising sea levels. "),r.qZA(),r.TgZ(359,"figure"),r.YNc(360,Mc,3,0,"img-comparison-slider",80),r.YNc(361,fi,3,0,"img-comparison-slider",81),r.TgZ(362,"figcaption"),r._uU(363,"Coastline of Puglia (Italy) near the Ofanto mouth in 1954 and in 2022 showing a maximum withdrawal of 600 m. (Volo IGMI GAI 1954 and Bing Maps.)"),r.qZA()()()(),r.TgZ(364,"section",115)(365,"h1",116),r._uU(366,"The future for European rivers"),r.qZA(),r.TgZ(367,"div")(368,"p"),r._uU(369," While many other factors contribute to changing landscapes and declining freshwater populations, a river system where connectivity is compromised is surely exacerbating such trends. It is not only the environment and wildlife that are suffering the consequences of the absence of river connectivity. Humans too are already bearing the cost. Is there hope for things to change in Europe, hosting one of the most fragmented and compromised river networks in the world? "),r.qZA(),r.TgZ(370,"p"),r._uU(371,"A particular source of concern is the development of new hydropower dams. In the search for renewable energy sources, hydropower is often valued as a solid option."),r.TgZ(372,"a",117),r._uU(373," A 2019 study by WWF "),r.qZA(),r._uU(374,"found that there are at least 8,785 new dams either planned or already under construction in Europe, which would add to the 21,387 existing ones. "),r.qZA(),r.TgZ(375,"p"),r._uU(376," And these new barriers are likely going to be even more impactful than those already in place. "),r.qZA()()(),r.TgZ(377,"section",118)(378,"figure",119),r._UZ(379,"div",120,121)(381,"div",122,123)(383,"div",124,125),r.qZA(),r.TgZ(385,"article",126),r._UZ(386,"div",127),r.ALo(387,"transloco"),r._UZ(388,"div",105),r.ALo(389,"transloco"),r._UZ(390,"div",106),r.ALo(391,"transloco"),r._UZ(392,"div",107),r.ALo(393,"transloco"),r._UZ(394,"div",108),r.ALo(395,"transloco"),r._UZ(396,"div",128),r.ALo(397,"transloco"),r._UZ(398,"div",129),r.ALo(399,"transloco"),r.qZA()(),r.TgZ(400,"section",130)(401,"div")(402,"h4")(403,"ion-text",131),r._uU(404,"Existing"),r.qZA(),r._uU(405,", "),r.TgZ(406,"ion-text",132),r._uU(407,"planned / in construction "),r.qZA(),r._uU(408," medium-large and small hydropower dams in the Balkans and Eastern Mediterranean Region "),r.qZA()(),r.TgZ(409,"figure"),r.YNc(410,hu,3,0,"img-comparison-slider",80),r.YNc(411,pu,3,0,"img-comparison-slider",81),r.qZA()(),r.TgZ(412,"section",133)(413,"div")(414,"h4"),r._uU(415,"Dam Removal"),r.qZA(),r.TgZ(416,"p"),r._uU(417," A significant number of the man-made obstacles that have hindered river connectivity in Europe could be removed, as they are no longer useful, and in some cases the reconnected reaches can bring back migratory fish. "),r.qZA(),r.TgZ(418,"p"),r._uU(419,"Small and obsolete barriers in particular cause significant harm while providing little benefits - or even representing an economic burden in maintenance costs and safety risks. "),r.qZA(),r.TgZ(420,"p"),r._uU(421," It is on this basis that movements all over the world are organizing to restore global free-flowing rivers by removing the infrastructure that inhibits their free flows. In Europe, Dam Removal Europe has "),r.TgZ(422,"a",134),r._uU(423,"documented"),r.qZA(),r._uU(424," the removal of at least 4,984 longitudinal barriers, and the "),r.TgZ(425,"a",135),r._uU(426,"RiverWiki: Restoring Europe\u2019s rivers"),r.qZA(),r._uU(427," has collected over 1,400 case studies. These case studies portray the complexity of what river restoration can mean in different contexts: not only the demolition of obsolete dams and longitudinal barriers, but also the dismantling of riverbank protections to allow lateral movements, and the mitigation of the impacts, for example through sediment reinjection, when removal is not possible. "),r.qZA(),r._UZ(428,"div",136,137),r.TgZ(430,"p"),r._uU(431,"These numbers capture only a fraction of the overall removed barriers, but there are likely more. Yet, even a small number of strategic removals can have a significant positive impact: the Open Rivers Programme, for example, "),r.TgZ(432,"a",138),r._uU(433,"claims"),r.qZA(),r._uU(434," that by removing just 19 specific dams the programme-supported projects will free 386 km of rivers. "),r.qZA(),r.TgZ(435,"figure")(436,"video",91),r._UZ(437,"source",139)(438,"source",140),r.qZA(),r.TgZ(439,"figcaption"),r._uU(440,"Restored reach of the river Drac (France). Credits: Bruno Boz"),r.qZA()(),r.TgZ(441,"p"),r._uU(442," Associations and grassroots movements for the restoration of rivers might finally have found strong institutional support for their actions, with the European Commission presenting the proposal for a "),r.TgZ(443,"a",141),r._uU(444,'"Nature Restoration Law"'),r.qZA(),r._uU(445," in June 2022. "),r.qZA(),r.TgZ(446,"p"),r._uU(447," If approved, the legislation would bind EU Member States to restore rivers and wetlands, along with other natural habitats experiencing degradation and biodiversity loss. In particular, the Nature Restoration Law requires an inventory of barriers and plans for removals, with an ambition for the restoration of at least 25,000 km of free-flowing rivers by 2030. "),r.qZA(),r.TgZ(448,"p"),r._uU(449," The existing experiences of barrier removals and the potential support of the EU legislation show that restoring rivers is not only possible, but can be spectacularly impactful for humans, biodiversity, and landscapes. "),r.qZA(),r.TgZ(450,"p"),r._uU(451," The strategic removal of existing obstacles, the mitigation of the impacts of those that cannot be removed, together with the conservation of existing free-flowing river reaches, and a critical assessment of future hydropower dam developments, are much-needed actions to counter the loss of river connectivity in Europe. "),r.qZA(),r.TgZ(452,"figure"),r._UZ(453,"img",142),r.TgZ(454,"figcaption"),r._uU(455,"Bank protection removal. Credits: Andrea Goltara"),r.qZA()()()(),r.TgZ(456,"section",143)(457,"h1",144),r._uU(458,"About"),r.qZA(),r.TgZ(459,"div",145)(460,"h4"),r._uU(461,"Barriers glossary"),r.qZA(),r.TgZ(462,"ion-grid",146)(463,"ion-row",147)(464,"ion-col",148)(465,"figure"),r._UZ(466,"img",149),r.TgZ(467,"figcaption")(468,"ion-label",44),r._uU(469),r.ALo(470,"transloco"),r.qZA(),r._uU(471),r.ALo(472,"transloco"),r.qZA()()(),r.TgZ(473,"ion-col",148)(474,"figure"),r._UZ(475,"img",149),r.TgZ(476,"figcaption")(477,"ion-label",44),r._uU(478),r.ALo(479,"transloco"),r.qZA(),r._uU(480),r.ALo(481,"transloco"),r.qZA()()(),r.TgZ(482,"ion-col",148)(483,"figure"),r._UZ(484,"img",150),r.TgZ(485,"figcaption")(486,"ion-label",44),r._uU(487),r.ALo(488,"transloco"),r.qZA(),r._uU(489),r.ALo(490,"transloco"),r.qZA()()(),r.TgZ(491,"ion-col",148)(492,"figure"),r._UZ(493,"img",151),r.TgZ(494,"figcaption")(495,"ion-label",44),r._uU(496),r.ALo(497,"transloco"),r.qZA(),r._uU(498),r.ALo(499,"transloco"),r.qZA()()(),r.TgZ(500,"ion-col",148)(501,"figure"),r._UZ(502,"img",152),r.TgZ(503,"figcaption")(504,"ion-label",44),r._uU(505),r.ALo(506,"transloco"),r.qZA(),r._uU(507),r.ALo(508,"transloco"),r.qZA()()()()()(),r.TgZ(509,"h4"),r._uU(510,"Credits:"),r.qZA(),r.TgZ(511,"p")(512,"ion-label",44),r._uU(513,"Project financed by:"),r.qZA(),r._uU(514," CIRF, Wetlands International Europe, LIFE Programme "),r.qZA(),r.TgZ(515,"p")(516,"ion-label",44),r._uU(517,"Scientific supervision:"),r.qZA(),r._uU(518," Andrea Goltara (CIRF), Paul Brotherton (Wetlands International Europe) "),r.qZA(),r.TgZ(519,"p")(520,"ion-label",44),r._uU(521,"Science Communication:"),r.qZA(),r._uU(522," Erica Villa "),r.qZA(),r.TgZ(523,"p")(524,"ion-label",44),r._uU(525,"Data, visualizations, and content:"),r.qZA(),r._uU(526," Alice Corona "),r.qZA(),r.TgZ(527,"p")(528,"ion-label",44),r._uU(529,"Website design and development:"),r.qZA(),r._uU(530," Lorenzo Brutti "),r.qZA(),r.TgZ(531,"h4"),r._uU(532,"Contacts:"),r.qZA(),r.TgZ(533,"p")(534,"a",153),r._uU(535,"CIRF - Centro Italiano per la Riqualificazione Fluviale"),r.qZA(),r._uU(536," is the reference not-for-profit organisation in Italy on river restoration, linking research with practice and advocating for more sustainable river management at national and European levels "),r.qZA(),r.TgZ(537,"p")(538,"a",154),r._uU(539,"Wetlands International Europe"),r.qZA(),r._uU(540,"is an independent, not-for-profit organization with 10 members from 6 European countries, working to raise awareness about wetland ecosystems and to advocate the sustainable use of wetlands for people and nature, in particular by linking science, policy and practice. Wetlands are the source of water that supports all forms of life "),r.qZA(),r.TgZ(541,"h4"),r._uU(542,"Data sources:"),r.qZA(),r.TgZ(543,"p"),r._uU(544," Grill, G., Lehner, B., Thieme, M. et al. Mapping the world\u2019s free-flowing rivers. Nature 569, 215-221 (2019). "),r._UZ(545,"br"),r.TgZ(546,"a",155),r._uU(547," https://doi.org/10.1038/s41586-019-1111-9"),r.qZA()(),r.TgZ(548,"p"),r._uU(549," AMBER Consortium (2020). The AMBER Barrier Atlas. A Pan-European database of artificial instream barriers. Version 1.0 June 29th 2020. "),r._UZ(550,"br"),r.TgZ(551,"a",156),r._uU(552," https://amber.international/european-barrier-atlas/"),r.qZA()(),r.TgZ(553,"p"),r._uU(554," Hydropower pressure on European rivers: The story in numbers by WWF, RiverWatch, EuroNatur,GEOTA "),r._UZ(555,"br"),r.TgZ(556,"a",157),r._uU(557," https://wwfeu.awsassets.panda.org/downloads/hydropower_pressure_on_european_rivers_the_story_in_numbers_web.pdf"),r.qZA()(),r.TgZ(558,"p"),r._uU(559," R\xe9f\xe9rentiel des obstacles \xe0 l'\xe9coulement (ROE)- Sandre. "),r._UZ(560,"br"),r.TgZ(561,"a",158),r._uU(562," https://www.sandre.eaufrance.fr/atlas/srv/fre/catalog.search#/metadata/59057026-b40c-4cf9-9e3e-7296e0aa1a78"),r.qZA()(),r.TgZ(563,"p"),r._uU(564," LPI 2016. Living Planet Index database. 2016. "),r._UZ(565,"br"),r.TgZ(566,"a",159),r._uU(567," https://www.livingplanetindex.org"),r.qZA(),r._UZ(568,"br"),r._uU(569," Downloaded on 24 July 2022 "),r.qZA(),r.TgZ(570,"p"),r._uU(571," IUCN. 2022. The IUCN Red List of Threatened Species. Version 2022-1. "),r._UZ(572,"br"),r.TgZ(573,"a",160),r._uU(574," https://www.iucnredlist.org"),r.qZA(),r._UZ(575,"br"),r._uU(576," Accessed on 24 July 2022. "),r.qZA(),r.TgZ(577,"p")(578,"a",161),r._uU(579," https://www.nature.org/content/dam/tnc/nature/en/documents/powerofriversreport_final3.pdf"),r.qZA()()()()()()),2&s&&(r.Q6J("fullscreen",!0)("ngClass",r.VKq(327,gu,a.platform.is("mobile")&&a.platform.isPortrait())),r.xp6(6),r.AsE("",r.Dn7(7,79,a.hovercardData.title,"","en-US")," ",r.lcZ(8,83,a.hovercardData.definition),""),r.xp6(3),r.Q6J("ngIf",!a.isMobile),r.xp6(1),r.Q6J("ngClass",r.VKq(329,gu,a.platform.is("mobile")&&a.platform.isPortrait())),r.xp6(4),r.Oqu(r.lcZ(15,85,"introTitle")),r.xp6(3),r.Q6J("innerHTML",r.xi3(18,87,r.lcZ(19,90,"introSubtitle"),"html"),r.oJD),r.xp6(12),r.Q6J("ngForOf",a.breadcrumbItems),r.xp6(18),r.Q6J("innerHTML",r.xi3(48,92,r.lcZ(49,95,"healthyRivers.step-1"),"html"),r.oJD),r.xp6(3),r.Q6J("innerHTML",r.xi3(51,97,r.lcZ(52,100,"healthyRivers.step-1-subtitle"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(55,102,r.lcZ(56,105,"healthyRivers.step-2"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(59,107,r.lcZ(60,110,"healthyRivers.step-3"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(63,112,r.lcZ(64,115,"healthyRivers.step-4"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(67,117,r.lcZ(68,120,"healthyRivers.step-5"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(71,122,r.lcZ(72,125,"healthyRivers.step-6"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(75,127,r.lcZ(76,130,"healthyRivers.step-7"),"html"),r.oJD),r.xp6(6),r.Q6J("ngClass",r.WLB(331,du,a.platform.is("desktop"),a.platform.is("mobile"))),r.xp6(5),r.Q6J("innerHTML",r.xi3(86,132,r.lcZ(87,135,"connectivity.step-1"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(90,137,r.lcZ(91,140,"connectivity.step-2"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(94,142,r.lcZ(95,145,"connectivity.step-3"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(98,147,r.lcZ(99,150,"connectivity.step-4"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(102,152,r.lcZ(103,155,"connectivity.step-5"),"html"),r.oJD),r.xp6(41),r.Oqu(r.lcZ(143,157,"anthropogenicThreats.barrierCounterTitle")),r.xp6(4),r.Oqu(r.Dn7(147,159,a.barrierCount,"","en-US")),r.xp6(5),r.Q6J("innerHTML",r.xi3(152,163,r.lcZ(153,166,"anthropogenicThreats.step-1"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(156,168,r.lcZ(157,171,"anthropogenicThreats.step-2"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(160,173,r.lcZ(161,176,"anthropogenicThreats.step-3"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(164,178,r.lcZ(165,181,"anthropogenicThreats.step-4"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(168,183,r.lcZ(169,186,"anthropogenicThreats.step-5"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(172,188,r.lcZ(173,191,"anthropogenicThreats.step-6"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(176,193,r.lcZ(177,196,"anthropogenicThreats.step-7"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(180,198,r.lcZ(181,201,"anthropogenicThreats.step-8"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(184,203,r.lcZ(185,206,"anthropogenicThreats.step-9"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(188,208,r.lcZ(189,211,"anthropogenicThreats.step-10"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(192,213,r.lcZ(193,216,"anthropogenicThreats.step-11"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(196,218,r.lcZ(197,221,"anthropogenicThreats.step-12"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(200,223,r.lcZ(201,226,"anthropogenicThreats.step-13"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(204,228,r.lcZ(205,231,"anthropogenicThreats.step-14"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(208,233,r.lcZ(209,236,"anthropogenicThreats.step-15"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(212,238,r.lcZ(213,241,"anthropogenicThreats.step-16"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(216,243,r.lcZ(217,246,"anthropogenicThreats.step-17"),"html"),r.oJD),r.xp6(38),r.Q6J("ngIf",a.platform.is("mobile")),r.xp6(1),r.Q6J("ngIf",a.platform.is("desktop")),r.xp6(67),r.Q6J("innerHTML",r.xi3(322,248,r.lcZ(323,251,"ecosystemImpacts.step-1"),"html"),r.oJD),r.xp6(3),r.Q6J("innerHTML",r.xi3(325,253,r.lcZ(326,256,"ecosystemImpacts.step-2"),"html"),r.oJD),r.xp6(3),r.Q6J("innerHTML",r.xi3(328,258,r.lcZ(329,261,"ecosystemImpacts.step-3"),"html"),r.oJD),r.xp6(3),r.Q6J("innerHTML",r.xi3(331,263,r.lcZ(332,266,"ecosystemImpacts.step-4"),"html"),r.oJD),r.xp6(3),r.Q6J("innerHTML",r.xi3(334,268,r.lcZ(335,271,"ecosystemImpacts.step-5"),"html"),r.oJD),r.xp6(3),r.Q6J("innerHTML",r.xi3(337,273,r.lcZ(338,276,"ecosystemImpacts.step-6"),"html"),r.oJD),r.uIk("data-offset",a.ecosystem_viz_drill_offset),r.xp6(3),r.Q6J("innerHTML",r.xi3(340,278,r.lcZ(341,281,"ecosystemImpacts.step-7"),"html"),r.oJD),r.uIk("data-offset",a.ecosystem_viz_drill_offset),r.xp6(3),r.Q6J("innerHTML",r.xi3(343,283,r.lcZ(344,286,"ecosystemImpacts.step-8"),"html"),r.oJD),r.uIk("data-offset",a.ecosystem_viz_drill_offset),r.xp6(3),r.Q6J("innerHTML",r.xi3(346,288,r.lcZ(347,291,"ecosystemImpacts.step-9"),"html"),r.oJD),r.uIk("data-offset",a.ecosystem_viz_drill_offset),r.xp6(15),r.Q6J("ngIf",a.platform.is("mobile")),r.xp6(1),r.Q6J("ngIf",a.platform.is("desktop")),r.xp6(16),r.Q6J("ngClass",r.WLB(334,du,a.platform.is("desktop"),a.platform.is("mobile"))),r.xp6(9),r.Q6J("innerHTML",r.lcZ(387,293,"possibleFutures.step-1"),r.oJD),r.xp6(2),r.Q6J("innerHTML",r.lcZ(389,295,"possibleFutures.step-2"),r.oJD),r.xp6(2),r.Q6J("innerHTML",r.lcZ(391,297,"possibleFutures.step-3"),r.oJD),r.xp6(2),r.Q6J("innerHTML",r.lcZ(393,299,"possibleFutures.step-4"),r.oJD),r.xp6(2),r.Q6J("innerHTML",r.lcZ(395,301,"possibleFutures.step-5"),r.oJD),r.xp6(2),r.Q6J("innerHTML",r.lcZ(397,303,"possibleFutures.step-6"),r.oJD),r.xp6(2),r.Q6J("innerHTML",r.lcZ(399,305,"possibleFutures.step-7"),r.oJD),r.xp6(12),r.Q6J("ngIf",a.platform.is("mobile")),r.xp6(1),r.Q6J("ngIf",a.platform.is("desktop")),r.xp6(58),r.Oqu(r.lcZ(470,307,"glossary.dam_title")),r.xp6(2),r.hij(" ",r.lcZ(472,309,"glossary.dam_definition")," "),r.xp6(7),r.Oqu(r.lcZ(479,311,"glossary.ramp_title")),r.xp6(2),r.hij(" ",r.lcZ(481,313,"glossary.ramp_definition")," "),r.xp6(7),r.Oqu(r.lcZ(488,315,"glossary.weir_title")),r.xp6(2),r.hij(" ",r.lcZ(490,317,"glossary.weir_definition")," "),r.xp6(7),r.hij("",r.lcZ(497,319,"glossary.culvert_title")," "),r.xp6(2),r.hij(" ",r.lcZ(499,321,"glossary.culvert_definition")," "),r.xp6(7),r.Oqu(r.lcZ(506,323,"glossary.sluice_title")),r.xp6(2),r.hij(" ",r.lcZ(508,325,"glossary.sluice_definition")," "))},directives:[v.W2,dn.mk,v.jY,v.Nd,dn.O5,v.gZ,v.fn,dn.sg,v.wI,v.YG,v.gu,v.yW,v.Q$],pipes:[dn.JJ,ci.Ot,ir],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0}body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;min-height:1280px;color:#3b3b3b;font-size:24px}p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{margin:0;font-weight:400}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:teal;text-decoration:none;border-bottom:2px solid currentColor}nav[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between;background:#f3f3f3;padding:1rem 5rem 1rem 1rem;flex-wrap:wrap}.nav__examples[_ngcontent-%COMP%]{display:flex;align-items:baseline;flex-wrap:wrap;margin-top:1rem}#outro[_ngcontent-%COMP%]{height:640px}@media (min-width: 840px){.nav__examples[_ngcontent-%COMP%]{margin-top:0;margin-left:2rem}}[_ngcontent-%COMP%]::ng-dee   svg[_ngcontent-%COMP%]{font-family:var(--ion-font-family)!important}  .active .hex{cursor:context-menu}  .hex[data-quantile="1"]{fill:#ffd8cd}  .hex[data-quantile="2"]{fill:#e48f87}  .hex[data-quantile="3"]{fill:#b65752}  .hex[data-quantile="4"]{fill:#812a27}  .hex[data-quantile="5"]{fill:#4f0000}  #connectivity #base,   #connectivity #longitudinal1,   #connectivity #longitudinal2,   #connectivity #lateral1,   #connectivity #lateral2,   #connectivity #vertical1,   #connectivity #vertical2,   #connectivity #temporal1,   #connectivity #temporal2{opacity:0}  #connectivity #base.active,   #connectivity #longitudinal1.active,   #connectivity #longitudinal2.active,   #connectivity #lateral1.active,   #connectivity #lateral2.active,   #connectivity #vertical1.active,   #connectivity #vertical2.active,   #connectivity #temporal1.active,   #connectivity #temporal2.active{opacity:1}  #connectivity #longitudinal2.active,   #connectivity #lateral2.active,   #connectivity #vertical2.active,   #connectivity #temporal2.active{animation:blinker 1s step-end infinite}  #connectivity #longitudinal1.active,   #connectivity #lateral1.active,   #connectivity #vertical1.active,   #connectivity #temporal1.active{animation:blinker 1s step-start infinite}@keyframes blinker{50%{opacity:0}}  #freshwater_only #extinct,   #freshwater_only #endangered,   #freshwater_only #low_risk,   #freshwater_only #no_data{transition-property:all;transition-duration:.5s;fill-opacity:0;stroke-opacity:0}  #freshwater_only #extinct.active,   #freshwater_only #endangered.active,   #freshwater_only #low_risk.active,   #freshwater_only #no_data.active{transition-property:all;transition-duration:.5s;fill-opacity:1;stroke-opacity:1}  #freshwater_only #low_risk.active{fill-opacity:.403922}  #all_species #freshwater_aggregated,   #all_species #fishes,   #all_species #invertebrates,   #all_species #mammals,   #all_species #reptiles,   #all_species #amphibian,   #all_species #birds{transition-property:all;transition-duration:.5s;opacity:0}  #all_species #freshwater_aggregated.active,   #all_species #fishes.active,   #all_species #invertebrates.active,   #all_species #mammals.active,   #all_species #reptiles.active,   #all_species #amphibian.active,   #all_species #birds.active{transition-property:all;transition-duration:.5s;opacity:1}[_ngcontent-%COMP%]:root{--ion-section-background-color: #e9e4d8;--ion-background-color: #3c372f;--ion-font-family: Century-Gothic, sans-serif;--ion-font-family-bold: Century-Gothic-Bold, sans-serif;--ion-color-primary: #6C948D;--ion-color-primary-rgb: 108, 148, 141;--ion-color-primary-contrast: #f3f3f3;--ion-color-primary-contrast-rgb: 0, 0, 0;--ion-color-primary-shade: #5f827c;--ion-color-primary-tint: #7b9f98;--ion-color-secondary: #7593ce;--ion-color-secondary-rgb: 117, 147, 206;--ion-color-secondary-contrast: #f3f3f3;--ion-color-secondary-contrast-rgb: 0, 0, 0;--ion-color-secondary-shade: #6781b5;--ion-color-secondary-shade-transarency: #6781b567;--ion-color-secondary-tint: #839ed3;--ion-color-tertiary: #C0A19F;--ion-color-tertiary-rgb: 192, 161, 159;--ion-color-tertiary-contrast: #f3f3f3;--ion-color-tertiary-contrast-rgb: 0, 0, 0;--ion-color-tertiary-shade: #a98e8c;--ion-color-tertiary-tint: #c6aaa9;--ion-color-success: #75938d;--ion-color-success-rgb: 117, 147, 141;--ion-color-success-contrast: #f3f3f3;--ion-color-success-contrast-rgb: 0, 0, 0;--ion-color-success-shade: #67817c;--ion-color-success-tint: #839e98;--ion-color-warning: #CBAA85;--ion-color-warning-dark: #968262;--ion-color-warning-rgb: 203, 170, 133;--ion-color-warning-contrast: #f3f3f3;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #b39675;--ion-color-warning-tint: #d0b391;--ion-color-warning-low-risk: #dbcdb9;--ion-color-danger: #db7870;--ion-color-danger-rgb: 219, 120, 112;--ion-color-danger-contrast: #f3f3f3;--ion-color-danger-contrast-rgb: 0, 0, 0;--ion-color-danger-shade: #c16a63;--ion-color-danger-tint: #df867e;--ion-color-danger-dark: #af6059;--ion-color-medium: #75938d;--ion-color-medium-rgb: 117, 147, 141;--ion-color-medium-contrast: #f3f3f3;--ion-color-medium-contrast-rgb: 0, 0, 0;--ion-color-medium-shade: #67817c;--ion-color-medium-tint: #839e98;--ion-color-light: #BCC2BC;--ion-color-light-rgb: 188, 194, 188;--ion-color-light-contrast: #f3f3f3;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #a5aba5;--ion-color-light-tint: #c3c8c3;--ion-color-text-color-standard: #4d4f4a;--ion-color-no-data: #f3eee7;--ion-header-background-transparent:#e9e4d875}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}main[_ngcontent-%COMP%]{margin-left:20vw;margin-right:20vw}.centered_text_block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.centered_text_block[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;justify-content:center;flex-direction:column}#hovercard[_ngcontent-%COMP%]{position:fixed;opacity:0;display:none}#hovercard.active[_ngcontent-%COMP%]{display:block;opacity:1;z-index:5000;background-color:var(--ion-color-primary-contrast)}#breadcrumb[_ngcontent-%COMP%]{background-color:var(--ion-section-background-color);position:sticky;font-size:small!important;top:0;z-index:2000;width:auto;overflow-x:auto;height:36px;display:flex;flex-direction:row;flex-wrap:nowrap}#breadcrumb[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;flex-wrap:nowrap}#breadcrumb[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin:auto}.section_title[_ngcontent-%COMP%]{padding-top:36px;background-color:var(--ion-section-background-color)}.sticky_section_title[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;height:calc(10vh + 36px)}.stacked_img[_ngcontent-%COMP%]{position:absolute}section[_ngcontent-%COMP%]{position:relative;background-color:var(--ion-section-background-color);padding:1rem}section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{position:relative;max-width:80vw}section[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{position:sticky;margin:auto;transform:translate(0);z-index:0;background-color:var(--ion-section-background-color)}section[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{margin:0 auto 2rem;color:var(--ion-color-text-color-standard);font-size:3rem;text-align:center;opacity:0;transition-duration:.5s;transition-property:opacity;background-color:rgba(var(--ion-section-background-color),.5)}section[_ngcontent-%COMP%]   .step.quick-transition[_ngcontent-%COMP%]{transition-duration:0ms}section[_ngcontent-%COMP%]   .step.smaller-font[_ngcontent-%COMP%]{font-size:1.25rem}section[_ngcontent-%COMP%]   .step.separator[_ngcontent-%COMP%]{background-color:transparent}section[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}section[_ngcontent-%COMP%]   .step.is-active[_ngcontent-%COMP%]{opacity:1}section[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:last-child{margin-bottom:0}section[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;padding:1rem;font-size:1.3rem}.flex-step[_ngcontent-%COMP%]{display:flex;flex-direction:column}.step-footer[_ngcontent-%COMP%]{font-size:medium}.scrolly-sticky-side[_ngcontent-%COMP%]{display:flex}.scrolly-sticky-side[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin:0;display:flex;flex-direction:column;justify-content:center}.scrolly-sticky-side[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{font-size:1.3rem;text-align:left}.scrolly-sticky-side[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{flex:1}.scrolly-sticky-side[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{padding:0 1rem}.scrolly-overlay[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{padding:0;margin:0 auto}.scrolly-overlay[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{left:0}.scrolly-overlay[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:#3b3b3b}#healthy_rivers[_ngcontent-%COMP%]   .map_global_rivers[_ngcontent-%COMP%]{top:10vh;height:calc(100% - 20vh);width:100%;opacity:0;transition-property:opacity;transition-duration:.5s}#healthy_rivers[_ngcontent-%COMP%]   .map_global_rivers.active[_ngcontent-%COMP%]{opacity:1}#river_connectivities[_ngcontent-%COMP%]   .river_connectivity_animation[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transition-duration:.5s;display:flex}#river_connectivities[_ngcontent-%COMP%]   .river_connectivity_animation.active[_ngcontent-%COMP%]{opacity:1}#river_connectivities[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:last-child{height:744px}#river_connectivities[_ngcontent-%COMP%]   #connectivities_step1[_ngcontent-%COMP%]{margin-top:50%}#anthropogenic_threats[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]     ion-text{font-size:5rem;font-weight:700;color:var(--ion-background-color, #3c372f);border-bottom:1rem solid var(--ion-color-base)}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats[_ngcontent-%COMP%]{top:10vh;width:100%;height:calc(100% - 20vh);opacity:0}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats[_ngcontent-%COMP%]     svg{width:100%}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats.active[_ngcontent-%COMP%]{opacity:1}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats.active[_ngcontent-%COMP%]:not(#anthropogenic_threats_hex_bin)  svg path{fill:#db7870;transition:fill .5s}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats.active#anthropogenic_threats_hex_bin[_ngcontent-%COMP%]  svg path.focused{stroke:#000!important;stroke-width:1px!important}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100%}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats.transitioned[_ngcontent-%COMP%]:not(#anthropogenic_threats_hex_bin)  svg path{fill:#1e0e04;fill-opacity:.3}#anthropogenic_threats[_ngcontent-%COMP%]   #barrier_counter[_ngcontent-%COMP%]{position:absolute;top:88%;background-color:transparent;color:var(--ion-color-danger);z-index:20}#freshwater_species_title[_ngcontent-%COMP%]{height:36px}#ecosystem_impacts_viz[_ngcontent-%COMP%]   .ecosystem_impacts_viz[_ngcontent-%COMP%]{top:calc(10vh + 36px);height:calc(100% - 20vh);width:100%;opacity:0;transition-duration:.5s}#ecosystem_impacts_viz[_ngcontent-%COMP%]   .ecosystem_impacts_viz[_ngcontent-%COMP%]     svg{width:100%}#ecosystem_impacts_viz[_ngcontent-%COMP%]   .ecosystem_impacts_viz.active[_ngcontent-%COMP%]{opacity:1}#ecosystem_impacts_viz[_ngcontent-%COMP%]   .ecosystem_impacts_viz[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100%}#ecosystem_impacts_viz[_ngcontent-%COMP%]   #ecosystem_impacts_viz_figure_chart_all[_ngcontent-%COMP%]{height:unset}#ecosystem_impacts_viz_article[_ngcontent-%COMP%]     ion-text[highlight-color=danger-dark]{border-bottom:solid .75rem var(--ion-color-danger-dark)}#ecosystem_impacts_viz_article[_ngcontent-%COMP%]     ion-text[highlight-color=danger]{border-bottom:solid .75rem var(--ion-color-danger)}#ecosystem_impacts_viz_article[_ngcontent-%COMP%]     ion-text[highlight-color=least-concern]{border-bottom:solid .75rem var(--ion-color-warning-low-risk)}#ecosystem_impacts_viz_article[_ngcontent-%COMP%]     ion-text[highlight-color=no-data]{border-bottom:solid .75rem var(--ion-color-no-data)}#possible_futures_viz[_ngcontent-%COMP%]   .possible_futures_viz[_ngcontent-%COMP%]{top:10vh;width:100%;height:calc(100% - 20vh);opacity:0;transition-duration:.5s;display:flex;flex-direction:column;justify-content:center}#possible_futures_viz[_ngcontent-%COMP%]   .possible_futures_viz[_ngcontent-%COMP%]     svg{width:100%}#possible_futures_viz[_ngcontent-%COMP%]   .possible_futures_viz.active[_ngcontent-%COMP%]{opacity:1}#possible_futures_viz[_ngcontent-%COMP%]   .possible_futures_viz[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100%}#glossary_container[_ngcontent-%COMP%]{margin-bottom:2rem;margin-top:1rem}#glossary[_ngcontent-%COMP%]{font-size:small}#glossary[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{justify-content:space-between}#glossary[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{display:flex;align-content:flex-end}.section_title[_ngcontent-%COMP%]{text-transform:capitalize}#header[_ngcontent-%COMP%]{height:calc(50vh + 36px);display:flex;flex-direction:column;justify-content:flex-end;background-color:var(--ion-header-background-transparent);padding:0}#header[_ngcontent-%COMP%]   .centered_text_block[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;height:100%;display:flex;flex-direction:column;justify-content:center}#header[_ngcontent-%COMP%]   #intro_title[_ngcontent-%COMP%]{font-size:4rem;font-family:var(--ion-font-family-bold);font-weight:bolder;color:var(--ion-background-color)}#video_fixed[_ngcontent-%COMP%]{position:fixed;left:20vw}#video_fixed[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:59vw}main.mobile[_ngcontent-%COMP%]{--ion-color-primary-contrast: #e9e4d8;--ion-color-secondary-contrast: #e9e4d8;--ion-color-tertiary-contrast: #e9e4d8;--ion-color-success-contrast: #e9e4d8;--ion-color-warning-contrast: #e9e4d8;--ion-color-danger-contrast: #e9e4d8;--ion-color-medium-contrast: #e9e4d8;--ion-color-light-contrast: #e9e4d8;margin-left:1vw;margin-right:1vw}main.mobile[_ngcontent-%COMP%]   section[_ngcontent-%COMP%], main.mobile[_ngcontent-%COMP%]   #breadcrumb[_ngcontent-%COMP%]{background-color:var(--ion-section-background-color)}main.mobile[_ngcontent-%COMP%]   #river_connectivities[_ngcontent-%COMP%]   .river_connectivity_animation[_ngcontent-%COMP%]{margin-top:2vh}main.mobile[_ngcontent-%COMP%]   #river_connectivities[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{font-size:1.25rem}main.mobile[_ngcontent-%COMP%]   #river_connectivities[_ngcontent-%COMP%]   #connectivities_step1[_ngcontent-%COMP%]{margin-top:unset}main.mobile[_ngcontent-%COMP%]   #anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats[_ngcontent-%COMP%]{height:unset}main.mobile[_ngcontent-%COMP%]   #anthropogenic_threats[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]     ion-text{font-size:3.5rem}main.mobile[_ngcontent-%COMP%]   #anthropogenic_threats[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{text-align:center}main.mobile[_ngcontent-%COMP%]   #ecosystem_impacts_viz[_ngcontent-%COMP%]   .ecosystem_impacts_viz[_ngcontent-%COMP%]{height:unset}main.mobile[_ngcontent-%COMP%]   #ecosystem_impacts_viz[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{font-size:1.25rem}main.mobile[_ngcontent-%COMP%]   #possible_futures_viz[_ngcontent-%COMP%]   .possible_futures_viz[_ngcontent-%COMP%]{display:unset;flex-direction:unset;justify-content:unset}main.mobile[_ngcontent-%COMP%]   #possible_futures_viz[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{font-size:1.25rem}main.mobile[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{margin:0 auto 2rem;font-size:2rem;background-color:transparent;text-align:left}main.mobile[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]{background-color:var(--ion-section-background-color)}main.mobile[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   #intro_title[_ngcontent-%COMP%]{font-size:3rem}']}),n})()}];let _u=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[tn.Bz.forChild(Tc)],tn.Bz]}),n})();jt(7596);let Zc=(()=>{class n{static forRoot(){return{ngModule:n,providers:[]}}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[]]}),n})(),qs=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[dn.ez,cr.u5,v.Pc,_u,ci.y4,Zc]]}),n})()},7489:function(Tn,gn,jt){var dn;Tn=jt.nmd(Tn),function(){var v,Jt="Expected a function",Or="__lodash_hash_undefined__",_n="__lodash_placeholder__",mn=1/0,Be=9007199254740991,ke=4294967295,wo=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Pn="[object Arguments]",En="[object Array]",Y="[object Boolean]",Pt="[object Date]",Lt="[object Error]",Ft="[object Function]",Je="[object GeneratorFunction]",ne="[object Map]",We="[object Number]",ge="[object Object]",Sn="[object Promise]",Sr="[object RegExp]",$e="[object Set]",kr="[object String]",mi="[object Symbol]",Lr="[object WeakMap]",Ur="[object ArrayBuffer]",gr="[object DataView]",xo="[object Float32Array]",bo="[object Float64Array]",Ir="[object Int8Array]",vi="[object Int16Array]",dr="[object Int32Array]",Ao="[object Uint8Array]",Mo="[object Uint8ClampedArray]",To="[object Uint16Array]",Co="[object Uint32Array]",Eu=/\b__p \+= '';/g,Su=/\b(__p \+=) '' \+/g,ku=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Zo=/&(?:amp|lt|gt|quot|#39);/g,Ns=/[&<>"']/g,Lu=RegExp(Zo.source),Uu=RegExp(Ns.source),Iu=/<%-([\s\S]+?)%>/g,_r=/<%([\s\S]+?)%>/g,Hs=/<%=([\s\S]+?)%>/g,Ru=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zu=/^\w*$/,Du=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yi=/[\\^$.*+?()[\]{}|]/g,Oo=RegExp(yi.source),wi=/^\s+/,Bs=/\s/,Js=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qu=/\{\n\/\* \[wrapped with (.+)\] \*/,Fu=/,? & /,Nu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hu=/[()=,{}\[\]\/\s]/,Bu=/\\(\\)?/g,Ju=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ws=/\w*$/,Wu=/^[-+]0x[0-9a-f]+$/i,$u=/^0b[01]+$/i,Gu=/^\[object .+?Constructor\]$/,Yu=/^0o[0-7]+$/i,Qu=/^(?:0|[1-9]\d*)$/,Xu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xi=/($^)/,Ku=/['\n\r\u2028\u2029\\]/g,bi="\\ud800-\\udfff",Gs="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ys="\\u2700-\\u27bf",Qs="a-z\\xdf-\\xf6\\xf8-\\xff",Xs="A-Z\\xc0-\\xd6\\xd8-\\xde",Ks="\\ufe0e\\ufe0f",Vs="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",il="["+bi+"]",js="["+Vs+"]",Ai="["+Gs+"]",Eo="\\d+",ol="["+Ys+"]",ta="["+Qs+"]",ea="[^"+bi+Vs+Eo+Ys+Qs+Xs+"]",So="\\ud83c[\\udffb-\\udfff]",ve="[^"+bi+"]",Mi="(?:\\ud83c[\\udde6-\\uddff]){2}",ko="[\\ud800-\\udbff][\\udc00-\\udfff]",nn="["+Xs+"]",Lo="(?:"+ta+"|"+ea+")",Ti="(?:"+nn+"|"+ea+")",ia="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",oa="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Uo="(?:"+Ai+"|"+So+")?",sa="["+Ks+"]?",Io=sa+Uo+"(?:\\u200d(?:"+[ve,Mi,ko].join("|")+")"+sa+Uo+")*",Ci="(?:"+[ol,Mi,ko].join("|")+")"+Io,Dr="(?:"+[ve+Ai+"?",Ai,Mi,ko,il].join("|")+")",Zi=RegExp("['\u2019]","g"),Jn=RegExp(Ai,"g"),vr=RegExp(So+"(?="+So+")|"+Dr+Io,"g"),qr=RegExp([nn+"?"+ta+"+"+ia+"(?="+[js,nn,"$"].join("|")+")",Ti+"+"+oa+"(?="+[js,nn+Lo,"$"].join("|")+")",nn+"?"+Lo+"+"+ia,nn+"+"+oa,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Eo,Ci].join("|"),"g"),aa=RegExp("[\\u200d"+bi+Gs+Ks+"]"),Ro=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,sl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Oi=-1,Ut={};Ut[xo]=Ut[bo]=Ut[Ir]=Ut[vi]=Ut[dr]=Ut[Ao]=Ut[Mo]=Ut[To]=Ut[Co]=!0,Ut[Pn]=Ut[En]=Ut[Ur]=Ut[Y]=Ut[gr]=Ut[Pt]=Ut[Lt]=Ut[Ft]=Ut[ne]=Ut[We]=Ut[ge]=Ut[Sr]=Ut[$e]=Ut[kr]=Ut[Lr]=!1;var It={};It[Pn]=It[En]=It[Ur]=It[gr]=It[Y]=It[Pt]=It[xo]=It[bo]=It[Ir]=It[vi]=It[dr]=It[ne]=It[We]=It[ge]=It[Sr]=It[$e]=It[kr]=It[mi]=It[Ao]=It[Mo]=It[To]=It[Co]=!0,It[Lt]=It[Ft]=It[Lr]=!1;var zo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},la=parseFloat,ll=parseInt,ca="object"==typeof global&&global&&global.Object===Object&&global,fa="object"==typeof self&&self&&self.Object===Object&&self,re=ca||fa||Function("return this")(),Pi=gn&&!gn.nodeType&&gn,kn=Pi&&Tn&&!Tn.nodeType&&Tn,Do=kn&&kn.exports===Pi,Fr=Do&&ca.process,de=function(){try{return kn&&kn.require&&kn.require("util").types||Fr&&Fr.binding&&Fr.binding("util")}catch(E){}}(),Nr=de&&de.isArrayBuffer,Ei=de&&de.isDate,Ge=de&&de.isMap,Le=de&&de.isRegExp,ha=de&&de.isSet,pa=de&&de.isTypedArray;function Ce(A,E,Z){switch(Z.length){case 0:return A.call(E);case 1:return A.call(E,Z[0]);case 2:return A.call(E,Z[0],Z[1]);case 3:return A.call(E,Z[0],Z[1],Z[2])}return A.apply(E,Z)}function Ye(A,E,Z,J){for(var lt=-1,Ot=null==A?0:A.length;++lt<Ot;){var ie=A[lt];E(J,ie,Z(ie),A)}return J}function Ze(A,E){for(var Z=-1,J=null==A?0:A.length;++Z<J&&!1!==E(A[Z],Z,A););return A}function qo(A,E){for(var Z=null==A?0:A.length;Z--&&!1!==E(A[Z],Z,A););return A}function Fo(A,E){for(var Z=-1,J=null==A?0:A.length;++Z<J;)if(!E(A[Z],Z,A))return!1;return!0}function Qe(A,E){for(var Z=-1,J=null==A?0:A.length,lt=0,Ot=[];++Z<J;){var ie=A[Z];E(ie,Z,A)&&(Ot[lt++]=ie)}return Ot}function Si(A,E){return!(null==A||!A.length)&&rn(A,E,0)>-1}function No(A,E,Z){for(var J=-1,lt=null==A?0:A.length;++J<lt;)if(Z(E,A[J]))return!0;return!1}function zt(A,E){for(var Z=-1,J=null==A?0:A.length,lt=Array(J);++Z<J;)lt[Z]=E(A[Z],Z,A);return lt}function Ln(A,E){for(var Z=-1,J=E.length,lt=A.length;++Z<J;)A[lt+Z]=E[Z];return A}function Ho(A,E,Z,J){var lt=-1,Ot=null==A?0:A.length;for(J&&Ot&&(Z=A[++lt]);++lt<Ot;)Z=E(Z,A[lt],lt,A);return Z}function cl(A,E,Z,J){var lt=null==A?0:A.length;for(J&&lt&&(Z=A[--lt]);lt--;)Z=E(Z,A[lt],lt,A);return Z}function Bo(A,E){for(var Z=-1,J=null==A?0:A.length;++Z<J;)if(E(A[Z],Z,A))return!0;return!1}var fl=Ue("length");function $o(A,E,Z){var J;return Z(A,function(lt,Ot,ie){if(E(lt,Ot,ie))return J=Ot,!1}),J}function Un(A,E,Z,J){for(var lt=A.length,Ot=Z+(J?1:-1);J?Ot--:++Ot<lt;)if(E(A[Ot],Ot,A))return Ot;return-1}function rn(A,E,Z){return E==E?function wa(A,E,Z){for(var J=Z-1,lt=A.length;++J<lt;)if(A[J]===E)return J;return-1}(A,E,Z):Un(A,Wn,Z)}function ki(A,E,Z,J){for(var lt=Z-1,Ot=A.length;++lt<Ot;)if(J(A[lt],E))return lt;return-1}function Wn(A){return A!=A}function yr(A,E){var Z=null==A?0:A.length;return Z?Yo(A,E)/Z:NaN}function Ue(A){return function(E){return null==E?v:E[A]}}function Go(A){return function(E){return null==A?v:A[E]}}function ga(A,E,Z,J,lt){return lt(A,function(Ot,ie,Rt){Z=J?(J=!1,Ot):E(Z,Ot,ie,Rt)}),Z}function Yo(A,E){for(var Z,J=-1,lt=A.length;++J<lt;){var Ot=E(A[J]);Ot!==v&&(Z=Z===v?Ot:Z+Ot)}return Z}function Qo(A,E){for(var Z=-1,J=Array(A);++Z<A;)J[Z]=E(Z);return J}function da(A){return A&&A.slice(0,Jr(A)+1).replace(wi,"")}function ye(A){return function(E){return A(E)}}function Li(A,E){return zt(E,function(Z){return A[Z]})}function Hr(A,E){return A.has(E)}function _a(A,E){for(var Z=-1,J=A.length;++Z<J&&rn(E,A[Z],0)>-1;);return Z}function Xo(A,E){for(var Z=A.length;Z--&&rn(E,A[Z],0)>-1;);return Z}function $n(A,E){for(var Z=A.length,J=0;Z--;)A[Z]===E&&++J;return J}var ma=Go({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Ui=Go({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function gl(A){return"\\"+zo[A]}function Yt(A){return aa.test(A)}function Ri(A){var E=-1,Z=Array(A.size);return A.forEach(function(J,lt){Z[++E]=[lt,J]}),Z}function Br(A,E){return function(Z){return A(E(Z))}}function we(A,E){for(var Z=-1,J=A.length,lt=0,Ot=[];++Z<J;){var ie=A[Z];(ie===E||ie===_n)&&(A[Z]=_n,Ot[lt++]=Z)}return Ot}function on(A){var E=-1,Z=Array(A.size);return A.forEach(function(J){Z[++E]=J}),Z}function ue(A){return Yt(A)?function xa(A){for(var E=vr.lastIndex=0;vr.test(A);)++E;return E}(A):fl(A)}function Ie(A){return Yt(A)?function ml(A){return A.match(vr)||[]}(A):function Jo(A){return A.split("")}(A)}function Jr(A){for(var E=A.length;E--&&Bs.test(A.charAt(E)););return E}var Ko=Go({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Wr=function A(E){var t,Z=(E=null==E?re:Wr.defaults(re.Object(),E,Wr.pick(re,sl))).Array,J=E.Date,lt=E.Error,Ot=E.Function,ie=E.Math,Rt=E.Object,$r=E.RegExp,jo=E.String,Re=E.TypeError,zi=Z.prototype,Gn=Rt.prototype,Di=E["__core-js_shared__"],qi=Ot.prototype.toString,St=Gn.hasOwnProperty,yl=0,Aa=(t=/[^.]+$/.exec(Di&&Di.keys&&Di.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",Fi=Gn.toString,wl=qi.call(Rt),xl=re._,bl=$r("^"+qi.call(St).replace(yi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ni=Do?E.Buffer:v,In=E.Symbol,Hi=E.Uint8Array,Ma=Ni?Ni.allocUnsafe:v,Bi=Br(Rt.getPrototypeOf,Rt),Ta=Rt.create,Ca=Gn.propertyIsEnumerable,Ji=zi.splice,Za=In?In.isConcatSpreadable:v,Gr=In?In.iterator:v,Yn=In?In.toStringTag:v,Wi=function(){try{var t=ir(Rt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Al=E.clearTimeout!==re.clearTimeout&&E.clearTimeout,Ml=J&&J.now!==re.Date.now&&J.now,Tl=E.setTimeout!==re.setTimeout&&E.setTimeout,$i=ie.ceil,Gi=ie.floor,ts=Rt.getOwnPropertySymbols,Cl=Ni?Ni.isBuffer:v,Oa=E.isFinite,Zl=zi.join,Ol=Br(Rt.keys,Rt),Qt=ie.max,le=ie.min,Pl=J.now,Pa=E.parseInt,Ea=ie.random,El=zi.reverse,es=ir(E,"DataView"),Yr=ir(E,"Map"),ns=ir(E,"Promise"),wr=ir(E,"Set"),Qr=ir(E,"WeakMap"),Xr=ir(Rt,"create"),Yi=Qr&&new Qr,xr={},Sl=_(es),kl=_(Yr),Ll=_(ns),Ul=_(wr),Il=_(Qr),Qi=In?In.prototype:v,Oe=Qi?Qi.valueOf:v,Sa=Qi?Qi.toString:v;function p(t){if(Gt(t)&&!mt(t)&&!(t instanceof bt)){if(t instanceof Xe)return t;if(St.call(t,"__wrapped__"))return m(t)}return new Xe(t)}var xe=function(){function t(){}return function(e){if(!Bt(e))return{};if(Ta)return Ta(e);t.prototype=e;var o=new t;return t.prototype=v,o}}();function rs(){}function Xe(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=v}function bt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ke,this.__views__=[]}function Rn(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var u=t[e];this.set(u[0],u[1])}}function qt(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var u=t[e];this.set(u[0],u[1])}}function se(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var u=t[e];this.set(u[0],u[1])}}function Qn(t){var e=-1,o=null==t?0:t.length;for(this.__data__=new se;++e<o;)this.add(t[e])}function Pe(t){var e=this.__data__=new qt(t);this.size=e.size}function Vi(t,e){var o=mt(t),u=!o&&pi(t),c=!o&&!u&&Zr(t),d=!o&&!u&&!c&&go(t),y=o||u||c||d,x=y?Qo(t.length,jo):[],M=x.length;for(var L in t)(e||St.call(t,L))&&(!y||!("length"==L||c&&("offset"==L||"parent"==L)||d&&("buffer"==L||"byteLength"==L||"byteOffset"==L)||bn(L,M)))&&x.push(L);return x}function ss(t){var e=t.length;return e?t[ys(0,e-1)]:v}function as(t,e){return f(Me(t),zn(e,0,t.length))}function us(t){return f(Me(t))}function Xn(t,e,o){(o!==v&&!An(t[e],o)||o===v&&!(e in t))&&yn(t,e,o)}function Kn(t,e,o){var u=t[e];(!St.call(t,e)||!An(u,o)||o===v&&!(e in t))&&yn(t,e,o)}function Vr(t,e){for(var o=t.length;o--;)if(An(t[o][0],e))return o;return-1}function Wl(t,e,o,u){return Vn(t,function(c,d,y){e(u,c,o(c),y)}),u}function ls(t,e){return t&&cn(e,pe(e),t)}function yn(t,e,o){"__proto__"==e&&Wi?Wi(t,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[e]=o}function cs(t,e){for(var o=-1,u=e.length,c=Z(u),d=null==t;++o<u;)c[o]=d?v:Ic(t,e[o]);return c}function zn(t,e,o){return t==t&&(o!==v&&(t=t<=o?t:o),e!==v&&(t=t>=e?t:e)),t}function oe(t,e,o,u,c,d){var y,x=1&e,M=2&e,L=4&e;if(o&&(y=c?o(t,u,c,d):o(t)),y!==v)return y;if(!Bt(t))return t;var U=mt(t);if(U){if(y=function vc(t){var e=t.length,o=new t.constructor(e);return e&&"string"==typeof t[0]&&St.call(t,"index")&&(o.index=t.index,o.input=t.input),o}(t),!x)return Me(t,y)}else{var I=he(t),N=I==Ft||I==Je;if(Zr(t))return Ka(t,x);if(I==ge||I==Pn||N&&!c){if(y=M||N?{}:fu(t),!x)return M?function fc(t,e){return cn(t,lu(t),e)}(t,function be(t,e){return t&&cn(e,De(e),t)}(y,t)):function cc(t,e){return cn(t,Rs(t),e)}(t,ls(y,t))}else{if(!It[I])return c?t:{};y=function yc(t,e,o){var u=t.constructor;switch(e){case Ur:return Ms(t);case Y:case Pt:return new u(+t);case gr:return function Va(t,e){var o=e?Ms(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}(t,o);case xo:case bo:case Ir:case vi:case dr:case Ao:case Mo:case To:case Co:return ja(t,o);case ne:return new u;case We:case kr:return new u(t);case Sr:return function Mr(t){var e=new t.constructor(t.source,Ws.exec(t));return e.lastIndex=t.lastIndex,e}(t);case $e:return new u;case mi:return function Ts(t){return Oe?Rt(Oe.call(t)):{}}(t)}}(t,I,x)}}d||(d=new Pe);var V=d.get(t);if(V)return V;d.set(t,y),df(t)?t.forEach(function(ut){y.add(oe(ut,e,o,ut,t,d))}):pf(t)&&t.forEach(function(ut,At){y.set(At,oe(ut,e,o,At,t,d))});var wt=U?v:(L?M?ks:Ss:M?De:pe)(t);return Ze(wt||t,function(ut,At){wt&&(ut=t[At=ut]),Kn(y,At,oe(ut,e,o,At,t,d))}),y}function Gl(t,e,o){var u=o.length;if(null==t)return!u;for(t=Rt(t);u--;){var c=o[u],y=t[c];if(y===v&&!(c in t)||!(0,e[c])(y))return!1}return!0}function Yl(t,e,o){if("function"!=typeof t)throw new Re(Jt);return i(function(){t.apply(v,o)},e)}function ji(t,e,o,u){var c=-1,d=Si,y=!0,x=t.length,M=[],L=e.length;if(!x)return M;o&&(e=zt(e,ye(o))),u?(d=No,y=!1):e.length>=200&&(d=Hr,y=!1,e=new Qn(e));t:for(;++c<x;){var U=t[c],I=null==o?U:o(U);if(U=u||0!==U?U:0,y&&I==I){for(var N=L;N--;)if(e[N]===I)continue t;M.push(U)}else d(e,I,u)||M.push(U)}return M}p.templateSettings={escape:Iu,evaluate:_r,interpolate:Hs,variable:"",imports:{_:p}},(p.prototype=rs.prototype).constructor=p,(Xe.prototype=xe(rs.prototype)).constructor=Xe,(bt.prototype=xe(rs.prototype)).constructor=bt,Rn.prototype.clear=function is(){this.__data__=Xr?Xr(null):{},this.size=0},Rn.prototype.delete=function br(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Rn.prototype.get=function Ar(t){var e=this.__data__;if(Xr){var o=e[t];return o===Or?v:o}return St.call(e,t)?e[t]:v},Rn.prototype.has=function ka(t){var e=this.__data__;return Xr?e[t]!==v:St.call(e,t)},Rn.prototype.set=function ce(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Xr&&e===v?Or:e,this},qt.prototype.clear=function La(){this.__data__=[],this.size=0},qt.prototype.delete=function os(t){var e=this.__data__,o=Vr(e,t);return!(o<0||(o==e.length-1?e.pop():Ji.call(e,o,1),--this.size,0))},qt.prototype.get=function Xi(t){var e=this.__data__,o=Vr(e,t);return o<0?v:e[o][1]},qt.prototype.has=function Ki(t){return Vr(this.__data__,t)>-1},qt.prototype.set=function ql(t,e){var o=this.__data__,u=Vr(o,t);return u<0?(++this.size,o.push([t,e])):o[u][1]=e,this},se.prototype.clear=function Ua(){this.size=0,this.__data__={hash:new Rn,map:new(Yr||qt),string:new Rn}},se.prototype.delete=function Ia(t){var e=ci(this,t).delete(t);return this.size-=e?1:0,e},se.prototype.get=function Fl(t){return ci(this,t).get(t)},se.prototype.has=function Nl(t){return ci(this,t).has(t)},se.prototype.set=function Kr(t,e){var o=ci(this,t),u=o.size;return o.set(t,e),this.size+=o.size==u?0:1,this},Qn.prototype.add=Qn.prototype.push=function Hl(t){return this.__data__.set(t,Or),this},Qn.prototype.has=function Bl(t){return this.__data__.has(t)},Pe.prototype.clear=function Jl(){this.__data__=new qt,this.size=0},Pe.prototype.delete=function Jc(t){var e=this.__data__,o=e.delete(t);return this.size=e.size,o},Pe.prototype.get=function Wc(t){return this.__data__.get(t)},Pe.prototype.has=function $c(t){return this.__data__.has(t)},Pe.prototype.set=function Gc(t,e){var o=this.__data__;if(o instanceof qt){var u=o.__data__;if(!Yr||u.length<199)return u.push([t,e]),this.size=++o.size,this;o=this.__data__=new se(u)}return o.set(t,e),this.size=o.size,this};var Vn=xn(wn),Ql=xn(za,!0);function Yc(t,e){var o=!0;return Vn(t,function(u,c,d){return o=!!e(u,c,d)}),o}function sn(t,e,o){for(var u=-1,c=t.length;++u<c;){var d=t[u],y=e(d);if(null!=y&&(x===v?y==y&&!Ke(y):o(y,x)))var x=y,M=d}return M}function Kl(t,e){var o=[];return Vn(t,function(u,c,d){e(u,c,d)&&o.push(u)}),o}function fe(t,e,o,u,c){var d=-1,y=t.length;for(o||(o=xc),c||(c=[]);++d<y;){var x=t[d];e>0&&o(x)?e>1?fe(x,e-1,o,u,c):Ln(c,x):u||(c[c.length]=x)}return c}var Ra=ru(),Vl=ru(!0);function wn(t,e){return t&&Ra(t,e,pe)}function za(t,e){return t&&Vl(t,e,pe)}function to(t,e){return Qe(e,function(o){return ar(t[o])})}function Dn(t,e){for(var o=0,u=(e=tr(e,t)).length;null!=t&&o<u;)t=t[g(e[o++])];return o&&o==u?t:v}function fs(t,e,o){var u=e(t);return mt(t)?u:Ln(u,o(t))}function Ae(t){return null==t?t===v?"[object Undefined]":"[object Null]":Yn&&Yn in Rt(t)?function dc(t){var e=St.call(t,Yn),o=t[Yn];try{t[Yn]=v;var u=!0}catch(d){}var c=Fi.call(t);return u&&(e?t[Yn]=o:delete t[Yn]),c}(t):function Tc(t){return Fi.call(t)}(t)}function eo(t,e){return t>e}function Qc(t,e){return null!=t&&St.call(t,e)}function jl(t,e){return null!=t&&e in Rt(t)}function jr(t,e,o){for(var u=o?No:Si,c=t[0].length,d=t.length,y=d,x=Z(d),M=1/0,L=[];y--;){var U=t[y];y&&e&&(U=zt(U,ye(e))),M=le(U.length,M),x[y]=!o&&(e||c>=120&&U.length>=120)?new Qn(y&&U):v}U=t[0];var I=-1,N=x[0];t:for(;++I<c&&L.length<M;){var V=U[I],at=e?e(V):V;if(V=o||0!==V?V:0,!(N?Hr(N,at):u(L,at,o))){for(y=d;--y;){var wt=x[y];if(!(wt?Hr(wt,at):u(t[y],at,o)))continue t}N&&N.push(at),L.push(V)}}return L}function no(t,e,o){var u=null==(t=Cc(t,e=tr(e,t)))?t:t[g(z(e))];return null==u?v:Ce(u,t,o)}function ec(t){return Gt(t)&&Ae(t)==Pn}function un(t,e,o,u,c){return t===e||(null==t||null==e||!Gt(t)&&!Gt(e)?t!=t&&e!=e:function rc(t,e,o,u,c,d){var y=mt(t),x=mt(e),M=y?En:he(t),L=x?En:he(e),U=(M=M==Pn?ge:M)==ge,I=(L=L==Pn?ge:L)==ge,N=M==L;if(N&&Zr(t)){if(!Zr(e))return!1;y=!0,U=!1}if(N&&!U)return d||(d=new Pe),y||go(t)?uu(t,e,o,u,c,d):function pc(t,e,o,u,c,d,y){switch(o){case gr:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ur:return!(t.byteLength!=e.byteLength||!d(new Hi(t),new Hi(e)));case Y:case Pt:case We:return An(+t,+e);case Lt:return t.name==e.name&&t.message==e.message;case Sr:case kr:return t==e+"";case ne:var x=Ri;case $e:if(x||(x=on),t.size!=e.size&&!(1&u))return!1;var L=y.get(t);if(L)return L==e;u|=2,y.set(t,e);var U=uu(x(t),x(e),u,c,d,y);return y.delete(t),U;case mi:if(Oe)return Oe.call(t)==Oe.call(e)}return!1}(t,e,M,o,u,c,d);if(!(1&o)){var V=U&&St.call(t,"__wrapped__"),at=I&&St.call(e,"__wrapped__");if(V||at){var wt=V?t.value():t,ut=at?e.value():e;return d||(d=new Pe),c(wt,ut,o,u,d)}}return!!N&&(d||(d=new Pe),function gc(t,e,o,u,c,d){var y=1&o,x=Ss(t),M=x.length;if(M!=Ss(e).length&&!y)return!1;for(var I=M;I--;){var N=x[I];if(!(y?N in e:St.call(e,N)))return!1}var V=d.get(t),at=d.get(e);if(V&&at)return V==e&&at==t;var wt=!0;d.set(t,e),d.set(e,t);for(var ut=y;++I<M;){var At=t[N=x[I]],Ct=e[N];if(u)var Ve=y?u(Ct,At,N,e,t,d):u(At,Ct,N,t,e,d);if(!(Ve===v?At===Ct||c(At,Ct,o,u,d):Ve)){wt=!1;break}ut||(ut="constructor"==N)}if(wt&&!ut){var Se=t.constructor,je=e.constructor;Se!=je&&"constructor"in t&&"constructor"in e&&!("function"==typeof Se&&Se instanceof Se&&"function"==typeof je&&je instanceof je)&&(wt=!1)}return d.delete(t),d.delete(e),wt}(t,e,o,u,c,d))}(t,e,o,u,un,c))}function hs(t,e,o,u){var c=o.length,d=c,y=!u;if(null==t)return!d;for(t=Rt(t);c--;){var x=o[c];if(y&&x[2]?x[1]!==t[x[0]]:!(x[0]in t))return!1}for(;++c<d;){var M=(x=o[c])[0],L=t[M],U=x[1];if(y&&x[2]){if(L===v&&!(M in t))return!1}else{var I=new Pe;if(u)var N=u(L,U,M,t,e,I);if(!(N===v?un(U,L,3,u,I):N))return!1}}return!0}function ti(t){return!(!Bt(t)||function Ac(t){return!!Aa&&Aa in t}(t))&&(ar(t)?bl:Gu).test(_(t))}function qa(t){return"function"==typeof t?t:null==t?qe:"object"==typeof t?mt(t)?Na(t[0],t[1]):ds(t):Of(t)}function io(t){if(!fi(t))return Ol(t);var e=[];for(var o in Rt(t))St.call(t,o)&&"constructor"!=o&&e.push(o);return e}function oo(t,e){return t<e}function gs(t,e){var o=-1,u=ze(t)?Z(t.length):[];return Vn(t,function(c,d,y){u[++o]=e(c,d,y)}),u}function ds(t){var e=Is(t);return 1==e.length&&e[0][2]?pu(e[0][0],e[0][1]):function(o){return o===t||hs(o,t,e)}}function Na(t,e){return zs(t)&&hu(e)?pu(g(t),e):function(o){var u=Ic(o,t);return u===v&&u===e?Rc(o,t):un(e,u,3)}}function jn(t,e,o,u,c){t!==e&&Ra(e,function(d,y){if(c||(c=new Pe),Bt(d))!function ei(t,e,o,u,c,d,y){var x=qs(t,o),M=qs(e,o),L=y.get(M);if(L)Xn(t,o,L);else{var U=d?d(x,M,o+"",t,e,y):v,I=U===v;if(I){var N=mt(M),V=!N&&Zr(M),at=!N&&!V&&go(M);U=M,N||V||at?mt(x)?U=x:Kt(x)?U=Me(x):V?(I=!1,U=Ka(M,!0)):at?(I=!1,U=ja(M,!0)):U=[]:Fs(M)||pi(M)?(U=x,pi(x)?U=vf(x):(!Bt(x)||ar(x))&&(U=fu(M))):I=!1}I&&(y.set(M,U),c(U,M,u,d,y),y.delete(M)),Xn(t,o,U)}}(t,e,y,o,jn,u,c);else{var x=u?u(qs(t,y),d,y+"",t,e,c):v;x===v&&(x=d),Xn(t,y,x)}},De)}function _s(t,e){var o=t.length;if(o)return bn(e+=e<0?o:0,o)?t[e]:v}function Ha(t,e,o){e=e.length?zt(e,function(d){return mt(d)?function(y){return Dn(y,1===d.length?d[0]:d)}:d}):[qe];var u=-1;return e=zt(e,ye(r())),function hl(A,E){var Z=A.length;for(A.sort(E);Z--;)A[Z]=A[Z].value;return A}(gs(t,function(d,y,x){return{criteria:zt(e,function(L){return L(d)}),index:++u,value:d}}),function(d,y){return function lc(t,e,o){for(var u=-1,c=t.criteria,d=e.criteria,y=c.length,x=o.length;++u<y;){var M=tu(c[u],d[u]);if(M)return u>=x?M:M*("desc"==o[u]?-1:1)}return t.index-e.index}(d,y,o)})}function ms(t,e,o){for(var u=-1,c=e.length,d={};++u<c;){var y=e[u],x=Dn(t,y);o(x,y)&&ao(d,tr(y,t),x)}return d}function vs(t,e,o,u){var c=u?ki:rn,d=-1,y=e.length,x=t;for(t===e&&(e=Me(e)),o&&(x=zt(t,ye(o)));++d<y;)for(var M=0,L=e[d],U=o?o(L):L;(M=c(x,U,M,u))>-1;)x!==t&&Ji.call(x,M,1),Ji.call(t,M,1);return t}function Ba(t,e){for(var o=t?e.length:0,u=o-1;o--;){var c=e[o];if(o==u||c!==d){var d=c;bn(c)?Ji.call(t,c,1):ii(t,c)}}return t}function ys(t,e){return t+Gi(Ea()*(e-t+1))}function ws(t,e){var o="";if(!t||e<1||e>Be)return o;do{e%2&&(o+=t),(e=Gi(e/2))&&(t+=t)}while(e);return o}function dt(t,e){return s(_u(t,e,qe),t+"")}function Kc(t){return ss(_o(t))}function Ja(t,e){var o=_o(t);return f(o,zn(e,0,o.length))}function ao(t,e,o,u){if(!Bt(t))return t;for(var c=-1,d=(e=tr(e,t)).length,y=d-1,x=t;null!=x&&++c<d;){var M=g(e[c]),L=o;if("__proto__"===M||"constructor"===M||"prototype"===M)return t;if(c!=y){var U=x[M];(L=u?u(U,M,x):v)===v&&(L=Bt(U)?U:bn(e[c+1])?[]:{})}Kn(x,M,L),x=x[M]}return t}var uo=Yi?function(t,e){return Yi.set(t,e),t}:qe,Wa=Wi?function(t,e){return Wi(t,"toString",{configurable:!0,enumerable:!1,value:Dc(e),writable:!0})}:qe;function $a(t){return f(_o(t))}function Ee(t,e,o){var u=-1,c=t.length;e<0&&(e=-e>c?0:c+e),(o=o>c?c:o)<0&&(o+=c),c=e>o?0:o-e>>>0,e>>>=0;for(var d=Z(c);++u<c;)d[u]=t[u+e];return d}function Ga(t,e){var o;return Vn(t,function(u,c,d){return!(o=e(u,c,d))}),!!o}function ni(t,e,o){var u=0,c=null==t?u:t.length;if("number"==typeof e&&e==e&&c<=2147483647){for(;u<c;){var d=u+c>>>1,y=t[d];null!==y&&!Ke(y)&&(o?y<=e:y<e)?u=d+1:c=d}return c}return ri(t,e,qe,o)}function ri(t,e,o,u){var c=0,d=null==t?0:t.length;if(0===d)return 0;for(var y=(e=o(e))!=e,x=null===e,M=Ke(e),L=e===v;c<d;){var U=Gi((c+d)/2),I=o(t[U]),N=I!==v,V=null===I,at=I==I,wt=Ke(I);if(y)var ut=u||at;else ut=L?at&&(u||N):x?at&&N&&(u||!V):M?at&&N&&!V&&(u||!wt):!V&&!wt&&(u?I<=e:I<e);ut?c=U+1:d=U}return le(d,4294967294)}function xs(t,e){for(var o=-1,u=t.length,c=0,d=[];++o<u;){var y=t[o],x=e?e(y):y;if(!o||!An(x,M)){var M=x;d[c++]=0===y?0:y}}return d}function ac(t){return"number"==typeof t?t:Ke(t)?NaN:+t}function _e(t){if("string"==typeof t)return t;if(mt(t))return zt(t,_e)+"";if(Ke(t))return Sa?Sa.call(t):"";var e=t+"";return"0"==e&&1/t==-mn?"-0":e}function ln(t,e,o){var u=-1,c=Si,d=t.length,y=!0,x=[],M=x;if(o)y=!1,c=No;else if(d>=200){var L=e?null:au(t);if(L)return on(L);y=!1,c=Hr,M=new Qn}else M=e?[]:x;t:for(;++u<d;){var U=t[u],I=e?e(U):U;if(U=o||0!==U?U:0,y&&I==I){for(var N=M.length;N--;)if(M[N]===I)continue t;e&&M.push(I),x.push(U)}else c(M,I,o)||(M!==x&&M.push(I),x.push(U))}return x}function ii(t,e){return null==(t=Cc(t,e=tr(e,t)))||delete t[g(z(e))]}function Ya(t,e,o,u){return ao(t,e,o(Dn(t,e)),u)}function oi(t,e,o,u){for(var c=t.length,d=u?c:-1;(u?d--:++d<c)&&e(t[d],d,t););return o?Ee(t,u?0:d,u?d+1:c):Ee(t,u?d+1:0,u?c:d)}function Qa(t,e){var o=t;return o instanceof bt&&(o=o.value()),Ho(e,function(u,c){return c.func.apply(c.thisArg,Ln([u],c.args))},o)}function bs(t,e,o){var u=t.length;if(u<2)return u?ln(t[0]):[];for(var c=-1,d=Z(u);++c<u;)for(var y=t[c],x=-1;++x<u;)x!=c&&(d[c]=ji(d[c]||y,t[x],e,o));return ln(fe(d,1),e,o)}function uc(t,e,o){for(var u=-1,c=t.length,d=e.length,y={};++u<c;)o(y,t[u],u<d?e[u]:v);return y}function lo(t){return Kt(t)?t:[]}function As(t){return"function"==typeof t?t:qe}function tr(t,e){return mt(t)?t:zs(t,e)?[t]:h(kt(t))}var Vc=dt;function qn(t,e,o){var u=t.length;return o=o===v?u:o,!e&&o>=u?t:Ee(t,e,o)}var Xa=Al||function(t){return re.clearTimeout(t)};function Ka(t,e){if(e)return t.slice();var o=t.length,u=Ma?Ma(o):new t.constructor(o);return t.copy(u),u}function Ms(t){var e=new t.constructor(t.byteLength);return new Hi(e).set(new Hi(t)),e}function ja(t,e){var o=e?Ms(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}function tu(t,e){if(t!==e){var o=t!==v,u=null===t,c=t==t,d=Ke(t),y=e!==v,x=null===e,M=e==e,L=Ke(e);if(!x&&!L&&!d&&t>e||d&&y&&M&&!x&&!L||u&&y&&M||!o&&M||!c)return 1;if(!u&&!d&&!L&&t<e||L&&o&&c&&!u&&!d||x&&o&&c||!y&&c||!M)return-1}return 0}function eu(t,e,o,u){for(var c=-1,d=t.length,y=o.length,x=-1,M=e.length,L=Qt(d-y,0),U=Z(M+L),I=!u;++x<M;)U[x]=e[x];for(;++c<y;)(I||c<d)&&(U[o[c]]=t[c]);for(;L--;)U[x++]=t[c++];return U}function nu(t,e,o,u){for(var c=-1,d=t.length,y=-1,x=o.length,M=-1,L=e.length,U=Qt(d-x,0),I=Z(U+L),N=!u;++c<U;)I[c]=t[c];for(var V=c;++M<L;)I[V+M]=e[M];for(;++y<x;)(N||c<d)&&(I[V+o[y]]=t[c++]);return I}function Me(t,e){var o=-1,u=t.length;for(e||(e=Z(u));++o<u;)e[o]=t[o];return e}function cn(t,e,o,u){var c=!o;o||(o={});for(var d=-1,y=e.length;++d<y;){var x=e[d],M=u?u(o[x],t[x],x,o,t):v;M===v&&(M=t[x]),c?yn(o,x,M):Kn(o,x,M)}return o}function co(t,e){return function(o,u){var c=mt(o)?Ye:Wl,d=e?e():{};return c(o,t,r(u,2),d)}}function Tr(t){return dt(function(e,o){var u=-1,c=o.length,d=c>1?o[c-1]:v,y=c>2?o[2]:v;for(d=t.length>3&&"function"==typeof d?(c--,d):v,y&&me(o[0],o[1],y)&&(d=c<3?v:d,c=1),e=Rt(e);++u<c;){var x=o[u];x&&t(e,x,u,d)}return e})}function xn(t,e){return function(o,u){if(null==o)return o;if(!ze(o))return t(o,u);for(var c=o.length,d=e?c:-1,y=Rt(o);(e?d--:++d<c)&&!1!==u(y[d],d,y););return o}}function ru(t){return function(e,o,u){for(var c=-1,d=Rt(e),y=u(e),x=y.length;x--;){var M=y[t?x:++c];if(!1===o(d[M],M,d))break}return e}}function Et(t){return function(e){var o=Yt(e=kt(e))?Ie(e):v,u=o?o[0]:e.charAt(0),c=o?qn(o,1).join(""):e.slice(1);return u[t]()+c}}function Fn(t){return function(e){return Ho(Cf(Tf(e).replace(Zi,"")),t,"")}}function er(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var o=xe(t.prototype),u=t.apply(o,e);return Bt(u)?u:o}}function ou(t){return function(e,o,u){var c=Rt(e);if(!ze(e)){var d=r(o,3);e=pe(e),o=function(x){return d(c[x],x,c)}}var y=t(e,o,u);return y>-1?c[d?e[y]:y]:v}}function fo(t){return hn(function(e){var o=e.length,u=o,c=Xe.prototype.thru;for(t&&e.reverse();u--;){var d=e[u];if("function"!=typeof d)throw new Re(Jt);if(c&&!y&&"wrapper"==Us(d))var y=new Xe([],!0)}for(u=y?u:o;++u<o;){var x=Us(d=e[u]),M="wrapper"==x?Ls(d):v;y=M&&Ds(M[0])&&424==M[1]&&!M[4].length&&1==M[9]?y[Us(M[0])].apply(y,M[3]):1==d.length&&Ds(d)?y[x]():y.thru(d)}return function(){var L=arguments,U=L[0];if(y&&1==L.length&&mt(U))return y.plant(U).value();for(var I=0,N=o?e[I].apply(this,L):U;++I<o;)N=e[I].call(this,N);return N}})}function si(t,e,o,u,c,d,y,x,M,L){var U=128&e,I=1&e,N=2&e,V=24&e,at=512&e,wt=N?v:er(t);return function ut(){for(var At=arguments.length,Ct=Z(At),Ve=At;Ve--;)Ct[Ve]=arguments[Ve];if(V)var Se=Cr(ut),je=$n(Ct,Se);if(u&&(Ct=eu(Ct,u,c,V)),d&&(Ct=nu(Ct,d,y,V)),At-=je,V&&At<L){var Vt=we(Ct,Se);return Ps(t,e,si,ut.placeholder,o,Ct,Vt,x,M,L-At)}var Mn=I?o:this,lr=N?Mn[t]:t;return At=Ct.length,x?Ct=Zc(Ct,x):at&&At>1&&Ct.reverse(),U&&M<At&&(Ct.length=M),this&&this!==re&&this instanceof ut&&(lr=wt||er(lr)),lr.apply(Mn,Ct)}}function Cs(t,e){return function(o,u){return function an(t,e,o,u){return wn(t,function(c,d,y){e(u,o(c),d,y)}),u}(o,t,e(u),{})}}function Zs(t,e){return function(o,u){var c;if(o===v&&u===v)return e;if(o!==v&&(c=o),u!==v){if(c===v)return u;"string"==typeof o||"string"==typeof u?(o=_e(o),u=_e(u)):(o=ac(o),u=ac(u)),c=t(o,u)}return c}}function ho(t){return hn(function(e){return e=zt(e,ye(r())),dt(function(o){var u=this;return t(e,function(c){return Ce(c,u,o)})})})}function Ht(t,e){var o=(e=e===v?" ":_e(e)).length;if(o<2)return o?ws(e,t):e;var u=ws(e,$i(t/ue(e)));return Yt(e)?qn(Ie(u),0,t).join(""):u.slice(0,t)}function Os(t){return function(e,o,u){return u&&"number"!=typeof u&&me(e,o,u)&&(o=u=v),e=ur(e),o===v?(o=e,e=0):o=ur(o),function so(t,e,o,u){for(var c=-1,d=Qt($i((e-t)/(o||1)),0),y=Z(d);d--;)y[u?d:++c]=t,t+=o;return y}(e,o,u=u===v?e<o?1:-1:ur(u),t)}}function ai(t){return function(e,o){return"string"==typeof e&&"string"==typeof o||(e=pn(e),o=pn(o)),t(e,o)}}function Ps(t,e,o,u,c,d,y,x,M,L){var U=8&e;e|=U?32:64,4&(e&=~(U?64:32))||(e&=-4);var wt=[t,e,c,U?d:v,U?y:v,U?v:d,U?v:y,x,M,L],ut=o.apply(v,wt);return Ds(t)&&n(ut,wt),ut.placeholder=u,a(ut,t,e)}function ui(t){var e=ie[t];return function(o,u){if(o=pn(o),(u=null==u?0:le(yt(u),292))&&Oa(o)){var c=(kt(o)+"e").split("e");return+((c=(kt(e(c[0]+"e"+(+c[1]+u)))+"e").split("e"))[0]+"e"+(+c[1]-u))}return e(o)}}var au=wr&&1/on(new wr([,-0]))[1]==mn?function(t){return new wr(t)}:Nc;function Es(t){return function(e){var o=he(e);return o==ne?Ri(e):o==$e?function ya(A){var E=-1,Z=Array(A.size);return A.forEach(function(J){Z[++E]=[J,J]}),Z}(e):function pl(A,E){return zt(E,function(Z){return[Z,A[Z]]})}(e,t(e))}}function fn(t,e,o,u,c,d,y,x){var M=2&e;if(!M&&"function"!=typeof t)throw new Re(Jt);var L=u?u.length:0;if(L||(e&=-97,u=c=v),y=y===v?y:Qt(yt(y),0),x=x===v?x:yt(x),L-=c?c.length:0,64&e){var U=u,I=c;u=c=v}var N=M?v:Ls(t),V=[t,e,o,u,c,U,I,d,y,x];if(N&&function du(t,e){var o=t[1],u=e[1],c=o|u;if(!(c<131||(128==u&&8==o||128==u&&256==o&&t[7].length<=e[8]||384==u&&e[7].length<=e[8]&&8==o)))return t;1&u&&(t[2]=e[2],c|=1&o?0:4);var x=e[3];if(x){var M=t[3];t[3]=M?eu(M,x,e[4]):x,t[4]=M?we(t[3],_n):e[4]}(x=e[5])&&(t[5]=(M=t[5])?nu(M,x,e[6]):x,t[6]=M?we(t[5],_n):e[6]),(x=e[7])&&(t[7]=x),128&u&&(t[8]=null==t[8]?e[8]:le(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=c}(V,N),t=V[0],e=V[1],o=V[2],u=V[3],c=V[4],!(x=V[9]=V[9]===v?M?0:t.length:Qt(V[9]-L,0))&&24&e&&(e&=-25),e&&1!=e)at=8==e||16==e?function nr(t,e,o){var u=er(t);return function c(){for(var d=arguments.length,y=Z(d),x=d,M=Cr(c);x--;)y[x]=arguments[x];var L=d<3&&y[0]!==M&&y[d-1]!==M?[]:we(y,M);return(d-=L.length)<o?Ps(t,e,si,c.placeholder,v,y,L,v,v,o-d):Ce(this&&this!==re&&this instanceof c?u:t,this,y)}}(t,e,x):32!=e&&33!=e||c.length?si.apply(v,V):function su(t,e,o,u){var c=1&e,d=er(t);return function y(){for(var x=-1,M=arguments.length,L=-1,U=u.length,I=Z(U+M),N=this&&this!==re&&this instanceof y?d:t;++L<U;)I[L]=u[L];for(;M--;)I[L++]=arguments[++x];return Ce(N,c?o:this,I)}}(t,e,o,u);else var at=function iu(t,e,o){var u=1&e,c=er(t);return function d(){return(this&&this!==re&&this instanceof d?c:t).apply(u?o:this,arguments)}}(t,e,o);return a((N?uo:n)(at,V),t,e)}function li(t,e,o,u){return t===v||An(t,Gn[o])&&!St.call(u,o)?e:t}function rr(t,e,o,u,c,d){return Bt(t)&&Bt(e)&&(d.set(e,t),jn(t,e,v,rr,d),d.delete(e)),t}function hc(t){return Fs(t)?v:t}function uu(t,e,o,u,c,d){var y=1&o,x=t.length,M=e.length;if(x!=M&&!(y&&M>x))return!1;var L=d.get(t),U=d.get(e);if(L&&U)return L==e&&U==t;var I=-1,N=!0,V=2&o?new Qn:v;for(d.set(t,e),d.set(e,t);++I<x;){var at=t[I],wt=e[I];if(u)var ut=y?u(wt,at,I,e,t,d):u(at,wt,I,t,e,d);if(ut!==v){if(ut)continue;N=!1;break}if(V){if(!Bo(e,function(At,Ct){if(!Hr(V,Ct)&&(at===At||c(at,At,o,u,d)))return V.push(Ct)})){N=!1;break}}else if(at!==wt&&!c(at,wt,o,u,d)){N=!1;break}}return d.delete(t),d.delete(e),N}function hn(t){return s(_u(t,v,ht),t+"")}function Ss(t){return fs(t,pe,Rs)}function ks(t){return fs(t,De,lu)}var Ls=Yi?function(t){return Yi.get(t)}:Nc;function Us(t){for(var e=t.name+"",o=xr[e],u=St.call(xr,e)?o.length:0;u--;){var c=o[u],d=c.func;if(null==d||d==t)return c.name}return e}function Cr(t){return(St.call(p,"placeholder")?p:t).placeholder}function r(){var t=p.iteratee||qc;return t=t===qc?qa:t,arguments.length?t(arguments[0],arguments[1]):t}function ci(t,e){var o=t.__data__;return function bc(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?o["string"==typeof e?"string":"hash"]:o.map}function Is(t){for(var e=pe(t),o=e.length;o--;){var u=e[o],c=t[u];e[o]=[u,c,hu(c)]}return e}function ir(t,e){var o=function Ii(A,E){return null==A?v:A[E]}(t,e);return ti(o)?o:v}var Rs=ts?function(t){return null==t?[]:(t=Rt(t),Qe(ts(t),function(e){return Ca.call(t,e)}))}:Hc,lu=ts?function(t){for(var e=[];t;)Ln(e,Rs(t)),t=Bi(t);return e}:Hc,he=Ae;function cu(t,e,o){for(var u=-1,c=(e=tr(e,t)).length,d=!1;++u<c;){var y=g(e[u]);if(!(d=null!=t&&o(t,y)))break;t=t[y]}return d||++u!=c?d:!!(c=null==t?0:t.length)&&Mu(c)&&bn(y,c)&&(mt(t)||pi(t))}function fu(t){return"function"!=typeof t.constructor||fi(t)?{}:xe(Bi(t))}function xc(t){return mt(t)||pi(t)||!!(Za&&t&&t[Za])}function bn(t,e){var o=typeof t;return!!(e=null==e?Be:e)&&("number"==o||"symbol"!=o&&Qu.test(t))&&t>-1&&t%1==0&&t<e}function me(t,e,o){if(!Bt(o))return!1;var u=typeof e;return!!("number"==u?ze(o)&&bn(e,o.length):"string"==u&&e in o)&&An(o[e],t)}function zs(t,e){if(mt(t))return!1;var o=typeof t;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=t&&!Ke(t))||zu.test(t)||!Ru.test(t)||null!=e&&t in Rt(e)}function Ds(t){var e=Us(t),o=p[e];if("function"!=typeof o||!(e in bt.prototype))return!1;if(t===o)return!0;var u=Ls(o);return!!u&&t===u[0]}(es&&he(new es(new ArrayBuffer(1)))!=gr||Yr&&he(new Yr)!=ne||ns&&he(ns.resolve())!=Sn||wr&&he(new wr)!=$e||Qr&&he(new Qr)!=Lr)&&(he=function(t){var e=Ae(t),o=e==ge?t.constructor:v,u=o?_(o):"";if(u)switch(u){case Sl:return gr;case kl:return ne;case Ll:return Sn;case Ul:return $e;case Il:return Lr}return e});var Mc=Di?ar:Bc;function fi(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Gn)}function hu(t){return t==t&&!Bt(t)}function pu(t,e){return function(o){return null!=o&&o[t]===e&&(e!==v||t in Rt(o))}}function _u(t,e,o){return e=Qt(e===v?t.length-1:e,0),function(){for(var u=arguments,c=-1,d=Qt(u.length-e,0),y=Z(d);++c<d;)y[c]=u[e+c];c=-1;for(var x=Z(e+1);++c<e;)x[c]=u[c];return x[e]=o(y),Ce(t,this,x)}}function Cc(t,e){return e.length<2?t:Dn(t,Ee(e,0,-1))}function Zc(t,e){for(var o=t.length,u=le(e.length,o),c=Me(t);u--;){var d=e[u];t[u]=bn(d,o)?c[d]:v}return t}function qs(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var n=l(uo),i=Tl||function(t,e){return re.setTimeout(t,e)},s=l(Wa);function a(t,e,o){var u=e+"";return s(t,function wc(t,e){var o=e.length;if(!o)return t;var u=o-1;return e[u]=(o>1?"& ":"")+e[u],e=e.join(o>2?", ":" "),t.replace(Js,"{\n/* [wrapped with "+e+"] */\n")}(u,function w(t,e){return Ze(wo,function(o){var u="_."+o[0];e&o[1]&&!Si(t,u)&&t.push(u)}),t.sort()}(function mc(t){var e=t.match(qu);return e?e[1].split(Fu):[]}(u),o)))}function l(t){var e=0,o=0;return function(){var u=Pl(),c=16-(u-o);if(o=u,c>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(v,arguments)}}function f(t,e){var o=-1,u=t.length,c=u-1;for(e=e===v?u:e;++o<e;){var d=ys(o,c),y=t[d];t[d]=t[o],t[o]=y}return t.length=e,t}var h=function gu(t){var e=bu(t,function(u){return 500===o.size&&o.clear(),u}),o=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Du,function(o,u,c,d){e.push(c?d.replace(Bu,"$1"):u||o)}),e});function g(t){if("string"==typeof t||Ke(t))return t;var e=t+"";return"0"==e&&1/t==-mn?"-0":e}function _(t){if(null!=t){try{return qi.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function m(t){if(t instanceof bt)return t.clone();var e=new Xe(t.__wrapped__,t.__chain__);return e.__actions__=Me(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var H=dt(function(t,e){return Kt(t)?ji(t,fe(e,1,Kt,!0)):[]}),G=dt(function(t,e){var o=z(e);return Kt(o)&&(o=v),Kt(t)?ji(t,fe(e,1,Kt,!0),r(o,2)):[]}),S=dt(function(t,e){var o=z(e);return Kt(o)&&(o=v),Kt(t)?ji(t,fe(e,1,Kt,!0),v,o):[]});function Q(t,e,o){var u=null==t?0:t.length;if(!u)return-1;var c=null==o?0:yt(o);return c<0&&(c=Qt(u+c,0)),Un(t,r(e,3),c)}function K(t,e,o){var u=null==t?0:t.length;if(!u)return-1;var c=u-1;return o!==v&&(c=yt(o),c=o<0?Qt(u+c,0):le(c,u-1)),Un(t,r(e,3),c,!0)}function ht(t){return null!=t&&t.length?fe(t,1):[]}function Tt(t){return t&&t.length?t[0]:v}var B=dt(function(t){var e=zt(t,lo);return e.length&&e[0]===t[0]?jr(e):[]}),k=dt(function(t){var e=z(t),o=zt(t,lo);return e===z(o)?e=v:o.pop(),o.length&&o[0]===t[0]?jr(o,r(e,2)):[]}),q=dt(function(t){var e=z(t),o=zt(t,lo);return(e="function"==typeof e?e:v)&&o.pop(),o.length&&o[0]===t[0]?jr(o,v,e):[]});function z(t){var e=null==t?0:t.length;return e?t[e-1]:v}var pt=dt(rt);function rt(t,e){return t&&t.length&&e&&e.length?vs(t,e):t}var it=hn(function(t,e){var o=null==t?0:t.length,u=cs(t,e);return Ba(t,zt(e,function(c){return bn(c,o)?+c:c}).sort(tu)),u});function gt(t){return null==t?t:El.call(t)}var kf=dt(function(t){return ln(fe(t,1,Kt,!0))}),Lf=dt(function(t){var e=z(t);return Kt(e)&&(e=v),ln(fe(t,1,Kt,!0),r(e,2))}),Uf=dt(function(t){var e=z(t);return e="function"==typeof e?e:v,ln(fe(t,1,Kt,!0),v,e)});function Ec(t){if(!t||!t.length)return[];var e=0;return t=Qe(t,function(o){if(Kt(o))return e=Qt(o.length,e),!0}),Qo(e,function(o){return zt(t,Ue(o))})}function tf(t,e){if(!t||!t.length)return[];var o=Ec(t);return null==e?o:zt(o,function(u){return Ce(e,v,u)})}var Df=dt(function(t,e){return Kt(t)?ji(t,e):[]}),qf=dt(function(t){return bs(Qe(t,Kt))}),Ff=dt(function(t){var e=z(t);return Kt(e)&&(e=v),bs(Qe(t,Kt),r(e,2))}),Nf=dt(function(t){var e=z(t);return e="function"==typeof e?e:v,bs(Qe(t,Kt),v,e)}),Hf=dt(Ec),Wf=dt(function(t){var e=t.length,o=e>1?t[e-1]:v;return o="function"==typeof o?(t.pop(),o):v,tf(t,o)});function ef(t){var e=p(t);return e.__chain__=!0,e}function yu(t,e){return e(t)}var Gf=hn(function(t){var e=t.length,o=e?t[0]:0,u=this.__wrapped__,c=function(d){return cs(d,t)};return!(e>1||this.__actions__.length)&&u instanceof bt&&bn(o)?((u=u.slice(o,+o+(e?1:0))).__actions__.push({func:yu,args:[c],thisArg:v}),new Xe(u,this.__chain__).thru(function(d){return e&&!d.length&&d.push(v),d})):this.thru(c)}),eh=co(function(t,e,o){St.call(t,o)?++t[o]:yn(t,o,1)}),ih=ou(Q),oh=ou(K);function nf(t,e){return(mt(t)?Ze:Vn)(t,r(e,3))}function rf(t,e){return(mt(t)?qo:Ql)(t,r(e,3))}var lh=co(function(t,e,o){St.call(t,o)?t[o].push(e):yn(t,o,[e])}),fh=dt(function(t,e,o){var u=-1,c="function"==typeof e,d=ze(t)?Z(t.length):[];return Vn(t,function(y){d[++u]=c?Ce(e,y,o):no(y,e,o)}),d}),hh=co(function(t,e,o){yn(t,o,e)});function wu(t,e){return(mt(t)?zt:gs)(t,r(e,3))}var gh=co(function(t,e,o){t[o?0:1].push(e)},function(){return[[],[]]}),Ah=dt(function(t,e){if(null==t)return[];var o=e.length;return o>1&&me(t,e[0],e[1])?e=[]:o>2&&me(e[0],e[1],e[2])&&(e=[e[0]]),Ha(t,fe(e,1),[])}),xu=Ml||function(){return re.Date.now()};function of(t,e,o){return e=o?v:e,fn(t,128,v,v,v,v,e=t&&null==e?t.length:e)}function sf(t,e){var o;if("function"!=typeof e)throw new Re(Jt);return t=yt(t),function(){return--t>0&&(o=e.apply(this,arguments)),t<=1&&(e=v),o}}var Sc=dt(function(t,e,o){var u=1;if(o.length){var c=we(o,Cr(Sc));u|=32}return fn(t,u,e,o,c)}),af=dt(function(t,e,o){var u=3;if(o.length){var c=we(o,Cr(af));u|=32}return fn(e,u,t,o,c)});function cf(t,e,o){var u,c,d,y,x,M,L=0,U=!1,I=!1,N=!0;if("function"!=typeof t)throw new Re(Jt);function V(Vt){var Mn=u,lr=c;return u=c=v,L=Vt,y=t.apply(lr,Mn)}function at(Vt){return L=Vt,x=i(At,e),U?V(Vt):y}function ut(Vt){var Mn=Vt-M;return M===v||Mn>=e||Mn<0||I&&Vt-L>=d}function At(){var Vt=xu();if(ut(Vt))return Ct(Vt);x=i(At,function wt(Vt){var Pf=e-(Vt-M);return I?le(Pf,d-(Vt-L)):Pf}(Vt))}function Ct(Vt){return x=v,N&&u?V(Vt):(u=c=v,y)}function je(){var Vt=xu(),Mn=ut(Vt);if(u=arguments,c=this,M=Vt,Mn){if(x===v)return at(M);if(I)return Xa(x),x=i(At,e),V(M)}return x===v&&(x=i(At,e)),y}return e=pn(e)||0,Bt(o)&&(U=!!o.leading,d=(I="maxWait"in o)?Qt(pn(o.maxWait)||0,e):d,N="trailing"in o?!!o.trailing:N),je.cancel=function Ve(){x!==v&&Xa(x),L=0,u=M=c=x=v},je.flush=function Se(){return x===v?y:Ct(xu())},je}var Th=dt(function(t,e){return Yl(t,1,e)}),Ch=dt(function(t,e,o){return Yl(t,pn(e)||0,o)});function bu(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Re(Jt);var o=function(){var u=arguments,c=e?e.apply(this,u):u[0],d=o.cache;if(d.has(c))return d.get(c);var y=t.apply(this,u);return o.cache=d.set(c,y)||d,y};return o.cache=new(bu.Cache||se),o}function Au(t){if("function"!=typeof t)throw new Re(Jt);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}bu.Cache=se;var Ph=Vc(function(t,e){var o=(e=1==e.length&&mt(e[0])?zt(e[0],ye(r())):zt(fe(e,1),ye(r()))).length;return dt(function(u){for(var c=-1,d=le(u.length,o);++c<d;)u[c]=e[c].call(this,u[c]);return Ce(t,this,u)})}),kc=dt(function(t,e){var o=we(e,Cr(kc));return fn(t,32,v,e,o)}),ff=dt(function(t,e){var o=we(e,Cr(ff));return fn(t,64,v,e,o)}),Eh=hn(function(t,e){return fn(t,256,v,v,v,e)});function An(t,e){return t===e||t!=t&&e!=e}var Hh=ai(eo),Bh=ai(function(t,e){return t>=e}),pi=ec(function(){return arguments}())?ec:function(t){return Gt(t)&&St.call(t,"callee")&&!Ca.call(t,"callee")},mt=Z.isArray,Jh=Nr?ye(Nr):function nc(t){return Gt(t)&&Ae(t)==Ur};function ze(t){return null!=t&&Mu(t.length)&&!ar(t)}function Kt(t){return Gt(t)&&ze(t)}var Zr=Cl||Bc,$h=Ei?ye(Ei):function ro(t){return Gt(t)&&Ae(t)==Pt};function Lc(t){if(!Gt(t))return!1;var e=Ae(t);return e==Lt||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Fs(t)}function ar(t){if(!Bt(t))return!1;var e=Ae(t);return e==Ft||e==Je||"[object AsyncFunction]"==e||"[object Proxy]"==e}function hf(t){return"number"==typeof t&&t==yt(t)}function Mu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Be}function Bt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Gt(t){return null!=t&&"object"==typeof t}var pf=Ge?ye(Ge):function ic(t){return Gt(t)&&he(t)==ne};function gf(t){return"number"==typeof t||Gt(t)&&Ae(t)==We}function Fs(t){if(!Gt(t)||Ae(t)!=ge)return!1;var e=Bi(t);if(null===e)return!0;var o=St.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&qi.call(o)==wl}var Uc=Le?ye(Le):function ps(t){return Gt(t)&&Ae(t)==Sr},df=ha?ye(ha):function oc(t){return Gt(t)&&he(t)==$e};function Tu(t){return"string"==typeof t||!mt(t)&&Gt(t)&&Ae(t)==kr}function Ke(t){return"symbol"==typeof t||Gt(t)&&Ae(t)==mi}var go=pa?ye(pa):function Da(t){return Gt(t)&&Mu(t.length)&&!!Ut[Ae(t)]},up=ai(oo),lp=ai(function(t,e){return t<=e});function _f(t){if(!t)return[];if(ze(t))return Tu(t)?Ie(t):Me(t);if(Gr&&t[Gr])return function dl(A){for(var E,Z=[];!(E=A.next()).done;)Z.push(E.value);return Z}(t[Gr]());var e=he(t);return(e==ne?Ri:e==$e?on:_o)(t)}function ur(t){return t?(t=pn(t))===mn||t===-mn?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function yt(t){var e=ur(t),o=e%1;return e==e?o?e-o:e:0}function mf(t){return t?zn(yt(t),0,ke):0}function pn(t){if("number"==typeof t)return t;if(Ke(t))return NaN;if(Bt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Bt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=da(t);var o=$u.test(t);return o||Yu.test(t)?ll(t.slice(2),o?2:8):Wu.test(t)?NaN:+t}function vf(t){return cn(t,De(t))}function kt(t){return null==t?"":_e(t)}var fp=Tr(function(t,e){if(fi(e)||ze(e))cn(e,pe(e),t);else for(var o in e)St.call(e,o)&&Kn(t,o,e[o])}),yf=Tr(function(t,e){cn(e,De(e),t)}),Cu=Tr(function(t,e,o,u){cn(e,De(e),t,u)}),hp=Tr(function(t,e,o,u){cn(e,pe(e),t,u)}),pp=hn(cs),dp=dt(function(t,e){t=Rt(t);var o=-1,u=e.length,c=u>2?e[2]:v;for(c&&me(e[0],e[1],c)&&(u=1);++o<u;)for(var d=e[o],y=De(d),x=-1,M=y.length;++x<M;){var L=y[x],U=t[L];(U===v||An(U,Gn[L])&&!St.call(t,L))&&(t[L]=d[L])}return t}),_p=dt(function(t){return t.push(v,rr),Ce(wf,v,t)});function Ic(t,e,o){var u=null==t?v:Dn(t,e);return u===v?o:u}function Rc(t,e){return null!=t&&cu(t,e,jl)}var Cp=Cs(function(t,e,o){null!=e&&"function"!=typeof e.toString&&(e=Fi.call(e)),t[e]=o},Dc(qe)),Zp=Cs(function(t,e,o){null!=e&&"function"!=typeof e.toString&&(e=Fi.call(e)),St.call(t,e)?t[e].push(o):t[e]=[o]},r),Op=dt(no);function pe(t){return ze(t)?Vi(t):io(t)}function De(t){return ze(t)?Vi(t,!0):function Fa(t){if(!Bt(t))return function jc(t){var e=[];if(null!=t)for(var o in Rt(t))e.push(o);return e}(t);var e=fi(t),o=[];for(var u in t)"constructor"==u&&(e||!St.call(t,u))||o.push(u);return o}(t)}var Sp=Tr(function(t,e,o){jn(t,e,o)}),wf=Tr(function(t,e,o,u){jn(t,e,o,u)}),kp=hn(function(t,e){var o={};if(null==t)return o;var u=!1;e=zt(e,function(d){return d=tr(d,t),u||(u=d.length>1),d}),cn(t,ks(t),o),u&&(o=oe(o,7,hc));for(var c=e.length;c--;)ii(o,e[c]);return o}),Up=hn(function(t,e){return null==t?{}:function Xc(t,e){return ms(t,e,function(o,u){return Rc(t,u)})}(t,e)});function xf(t,e){if(null==t)return{};var o=zt(ks(t),function(u){return[u]});return e=r(e),ms(t,o,function(u,c){return e(u,c[0])})}var bf=Es(pe),Af=Es(De);function _o(t){return null==t?[]:Li(t,pe(t))}var $p=Fn(function(t,e,o){return e=e.toLowerCase(),t+(o?Mf(e):e)});function Mf(t){return zc(kt(t).toLowerCase())}function Tf(t){return(t=kt(t))&&t.replace(Xu,ma).replace(Jn,"")}var Xp=Fn(function(t,e,o){return t+(o?"-":"")+e.toLowerCase()}),Kp=Fn(function(t,e,o){return t+(o?" ":"")+e.toLowerCase()}),Vp=Et("toLowerCase"),og=Fn(function(t,e,o){return t+(o?"_":"")+e.toLowerCase()}),ag=Fn(function(t,e,o){return t+(o?" ":"")+zc(e)}),mg=Fn(function(t,e,o){return t+(o?" ":"")+e.toUpperCase()}),zc=Et("toUpperCase");function Cf(t,e,o){return t=kt(t),(e=o?v:e)===v?function va(A){return Ro.test(A)}(t)?function vl(A){return A.match(qr)||[]}(t):function Wo(A){return A.match(Nu)||[]}(t):t.match(e)||[]}var Zf=dt(function(t,e){try{return Ce(t,v,e)}catch(o){return Lc(o)?o:new lt(o)}}),vg=hn(function(t,e){return Ze(e,function(o){o=g(o),yn(t,o,Sc(t[o],t))}),t});function Dc(t){return function(){return t}}var bg=fo(),Ag=fo(!0);function qe(t){return t}function qc(t){return qa("function"==typeof t?t:oe(t,1))}var Cg=dt(function(t,e){return function(o){return no(o,t,e)}}),Zg=dt(function(t,e){return function(o){return no(t,o,e)}});function Fc(t,e,o){var u=pe(e),c=to(e,u);null==o&&(!Bt(e)||!c.length&&u.length)&&(o=e,e=t,t=this,c=to(e,pe(e)));var d=!(Bt(o)&&"chain"in o&&!o.chain),y=ar(t);return Ze(c,function(x){var M=e[x];t[x]=M,y&&(t.prototype[x]=function(){var L=this.__chain__;if(d||L){var U=t(this.__wrapped__),I=U.__actions__=Me(this.__actions__);return I.push({func:M,args:arguments,thisArg:t}),U.__chain__=L,U}return M.apply(t,Ln([this.value()],arguments))})}),t}function Nc(){}var Eg=ho(zt),Sg=ho(Fo),kg=ho(Bo);function Of(t){return zs(t)?Ue(g(t)):function sc(t){return function(e){return Dn(e,t)}}(t)}var Ug=Os(),Ig=Os(!0);function Hc(){return[]}function Bc(){return!1}var Hg=Zs(function(t,e){return t+e},0),Bg=ui("ceil"),Jg=Zs(function(t,e){return t/e},1),Wg=ui("floor"),Vg=Zs(function(t,e){return t*e},1),jg=ui("round"),td=Zs(function(t,e){return t-e},0);return p.after=function Mh(t,e){if("function"!=typeof e)throw new Re(Jt);return t=yt(t),function(){if(--t<1)return e.apply(this,arguments)}},p.ary=of,p.assign=fp,p.assignIn=yf,p.assignInWith=Cu,p.assignWith=hp,p.at=pp,p.before=sf,p.bind=Sc,p.bindAll=vg,p.bindKey=af,p.castArray=function Rh(){if(!arguments.length)return[];var t=arguments[0];return mt(t)?t:[t]},p.chain=ef,p.chunk=function b(t,e,o){e=(o?me(t,e,o):e===v)?1:Qt(yt(e),0);var u=null==t?0:t.length;if(!u||e<1)return[];for(var c=0,d=0,y=Z($i(u/e));c<u;)y[d++]=Ee(t,c,c+=e);return y},p.compact=function T(t){for(var e=-1,o=null==t?0:t.length,u=0,c=[];++e<o;){var d=t[e];d&&(c[u++]=d)}return c},p.concat=function O(){var t=arguments.length;if(!t)return[];for(var e=Z(t-1),o=arguments[0],u=t;u--;)e[u-1]=arguments[u];return Ln(mt(o)?Me(o):[o],fe(e,1))},p.cond=function yg(t){var e=null==t?0:t.length,o=r();return t=e?zt(t,function(u){if("function"!=typeof u[1])throw new Re(Jt);return[o(u[0]),u[1]]}):[],dt(function(u){for(var c=-1;++c<e;){var d=t[c];if(Ce(d[0],this,u))return Ce(d[1],this,u)}})},p.conforms=function wg(t){return function $l(t){var e=pe(t);return function(o){return Gl(o,t,e)}}(oe(t,1))},p.constant=Dc,p.countBy=eh,p.create=function gp(t,e){var o=xe(t);return null==e?o:ls(o,e)},p.curry=function uf(t,e,o){var u=fn(t,8,v,v,v,v,v,e=o?v:e);return u.placeholder=uf.placeholder,u},p.curryRight=function lf(t,e,o){var u=fn(t,16,v,v,v,v,v,e=o?v:e);return u.placeholder=lf.placeholder,u},p.debounce=cf,p.defaults=dp,p.defaultsDeep=_p,p.defer=Th,p.delay=Ch,p.difference=H,p.differenceBy=G,p.differenceWith=S,p.drop=function P(t,e,o){var u=null==t?0:t.length;return u?Ee(t,(e=o||e===v?1:yt(e))<0?0:e,u):[]},p.dropRight=function D(t,e,o){var u=null==t?0:t.length;return u?Ee(t,0,(e=u-(e=o||e===v?1:yt(e)))<0?0:e):[]},p.dropRightWhile=function R(t,e){return t&&t.length?oi(t,r(e,3),!0,!0):[]},p.dropWhile=function X(t,e){return t&&t.length?oi(t,r(e,3),!0):[]},p.fill=function $(t,e,o,u){var c=null==t?0:t.length;return c?(o&&"number"!=typeof o&&me(t,e,o)&&(o=0,u=c),function Xl(t,e,o,u){var c=t.length;for((o=yt(o))<0&&(o=-o>c?0:c+o),(u=u===v||u>c?c:yt(u))<0&&(u+=c),u=o>u?0:mf(u);o<u;)t[o++]=e;return t}(t,e,o,u)):[]},p.filter=function rh(t,e){return(mt(t)?Qe:Kl)(t,r(e,3))},p.flatMap=function sh(t,e){return fe(wu(t,e),1)},p.flatMapDeep=function ah(t,e){return fe(wu(t,e),mn)},p.flatMapDepth=function uh(t,e,o){return o=o===v?1:yt(o),fe(wu(t,e),o)},p.flatten=ht,p.flattenDeep=function Mt(t){return null!=t&&t.length?fe(t,mn):[]},p.flattenDepth=function ft(t,e){return null!=t&&t.length?fe(t,e=e===v?1:yt(e)):[]},p.flip=function Zh(t){return fn(t,512)},p.flow=bg,p.flowRight=Ag,p.fromPairs=function W(t){for(var e=-1,o=null==t?0:t.length,u={};++e<o;){var c=t[e];u[c[0]]=c[1]}return u},p.functions=function Ap(t){return null==t?[]:to(t,pe(t))},p.functionsIn=function Mp(t){return null==t?[]:to(t,De(t))},p.groupBy=lh,p.initial=function C(t){return null!=t&&t.length?Ee(t,0,-1):[]},p.intersection=B,p.intersectionBy=k,p.intersectionWith=q,p.invert=Cp,p.invertBy=Zp,p.invokeMap=fh,p.iteratee=qc,p.keyBy=hh,p.keys=pe,p.keysIn=De,p.map=wu,p.mapKeys=function Pp(t,e){var o={};return e=r(e,3),wn(t,function(u,c,d){yn(o,e(u,c,d),u)}),o},p.mapValues=function Ep(t,e){var o={};return e=r(e,3),wn(t,function(u,c,d){yn(o,c,e(u,c,d))}),o},p.matches=function Mg(t){return ds(oe(t,1))},p.matchesProperty=function Tg(t,e){return Na(t,oe(e,1))},p.memoize=bu,p.merge=Sp,p.mergeWith=wf,p.method=Cg,p.methodOf=Zg,p.mixin=Fc,p.negate=Au,p.nthArg=function Pg(t){return t=yt(t),dt(function(e){return _s(e,t)})},p.omit=kp,p.omitBy=function Lp(t,e){return xf(t,Au(r(e)))},p.once=function Oh(t){return sf(2,t)},p.orderBy=function ph(t,e,o,u){return null==t?[]:(mt(e)||(e=null==e?[]:[e]),mt(o=u?v:o)||(o=null==o?[]:[o]),Ha(t,e,o))},p.over=Eg,p.overArgs=Ph,p.overEvery=Sg,p.overSome=kg,p.partial=kc,p.partialRight=ff,p.partition=gh,p.pick=Up,p.pickBy=xf,p.property=Of,p.propertyOf=function Lg(t){return function(e){return null==t?v:Dn(t,e)}},p.pull=pt,p.pullAll=rt,p.pullAllBy=function F(t,e,o){return t&&t.length&&e&&e.length?vs(t,e,r(o,2)):t},p.pullAllWith=function nt(t,e,o){return t&&t.length&&e&&e.length?vs(t,e,v,o):t},p.pullAt=it,p.range=Ug,p.rangeRight=Ig,p.rearg=Eh,p.reject=function mh(t,e){return(mt(t)?Qe:Kl)(t,Au(r(e,3)))},p.remove=function st(t,e){var o=[];if(!t||!t.length)return o;var u=-1,c=[],d=t.length;for(e=r(e,3);++u<d;){var y=t[u];e(y,u,t)&&(o.push(y),c.push(u))}return Ba(t,c),o},p.rest=function Sh(t,e){if("function"!=typeof t)throw new Re(Jt);return dt(t,e=e===v?e:yt(e))},p.reverse=gt,p.sampleSize=function yh(t,e,o){return e=(o?me(t,e,o):e===v)?1:yt(e),(mt(t)?as:Ja)(t,e)},p.set=function Rp(t,e,o){return null==t?t:ao(t,e,o)},p.setWith=function zp(t,e,o,u){return u="function"==typeof u?u:v,null==t?t:ao(t,e,o,u)},p.shuffle=function wh(t){return(mt(t)?us:$a)(t)},p.slice=function Dt(t,e,o){var u=null==t?0:t.length;return u?(o&&"number"!=typeof o&&me(t,e,o)?(e=0,o=u):(e=null==e?0:yt(e),o=o===v?u:yt(o)),Ee(t,e,o)):[]},p.sortBy=Ah,p.sortedUniq=function Pc(t){return t&&t.length?xs(t):[]},p.sortedUniqBy=function _t(t,e){return t&&t.length?xs(t,r(e,2)):[]},p.split=function sg(t,e,o){return o&&"number"!=typeof o&&me(t,e,o)&&(e=o=v),(o=o===v?ke:o>>>0)?(t=kt(t))&&("string"==typeof e||null!=e&&!Uc(e))&&!(e=_e(e))&&Yt(t)?qn(Ie(t),0,o):t.split(e,o):[]},p.spread=function kh(t,e){if("function"!=typeof t)throw new Re(Jt);return e=null==e?0:Qt(yt(e),0),dt(function(o){var u=o[e],c=qn(o,0,e);return u&&Ln(c,u),Ce(t,this,c)})},p.tail=function Xt(t){var e=null==t?0:t.length;return e?Ee(t,1,e):[]},p.take=function hi(t,e,o){return t&&t.length?Ee(t,0,(e=o||e===v?1:yt(e))<0?0:e):[]},p.takeRight=function Nn(t,e,o){var u=null==t?0:t.length;return u?Ee(t,(e=u-(e=o||e===v?1:yt(e)))<0?0:e,u):[]},p.takeRightWhile=function Ef(t,e){return t&&t.length?oi(t,r(e,3),!1,!0):[]},p.takeWhile=function Sf(t,e){return t&&t.length?oi(t,r(e,3)):[]},p.tap=function $f(t,e){return e(t),t},p.throttle=function Lh(t,e,o){var u=!0,c=!0;if("function"!=typeof t)throw new Re(Jt);return Bt(o)&&(u="leading"in o?!!o.leading:u,c="trailing"in o?!!o.trailing:c),cf(t,e,{leading:u,maxWait:e,trailing:c})},p.thru=yu,p.toArray=_f,p.toPairs=bf,p.toPairsIn=Af,p.toPath=function Fg(t){return mt(t)?zt(t,g):Ke(t)?[t]:Me(h(kt(t)))},p.toPlainObject=vf,p.transform=function Dp(t,e,o){var u=mt(t),c=u||Zr(t)||go(t);if(e=r(e,4),null==o){var d=t&&t.constructor;o=c?u?new d:[]:Bt(t)&&ar(d)?xe(Bi(t)):{}}return(c?Ze:wn)(t,function(y,x,M){return e(o,y,x,M)}),o},p.unary=function Uh(t){return of(t,1)},p.union=kf,p.unionBy=Lf,p.unionWith=Uf,p.uniq=function If(t){return t&&t.length?ln(t):[]},p.uniqBy=function Rf(t,e){return t&&t.length?ln(t,r(e,2)):[]},p.uniqWith=function zf(t,e){return e="function"==typeof e?e:v,t&&t.length?ln(t,v,e):[]},p.unset=function qp(t,e){return null==t||ii(t,e)},p.unzip=Ec,p.unzipWith=tf,p.update=function Fp(t,e,o){return null==t?t:Ya(t,e,As(o))},p.updateWith=function Np(t,e,o,u){return u="function"==typeof u?u:v,null==t?t:Ya(t,e,As(o),u)},p.values=_o,p.valuesIn=function Hp(t){return null==t?[]:Li(t,De(t))},p.without=Df,p.words=Cf,p.wrap=function Ih(t,e){return kc(As(e),t)},p.xor=qf,p.xorBy=Ff,p.xorWith=Nf,p.zip=Hf,p.zipObject=function Bf(t,e){return uc(t||[],e||[],Kn)},p.zipObjectDeep=function Jf(t,e){return uc(t||[],e||[],ao)},p.zipWith=Wf,p.entries=bf,p.entriesIn=Af,p.extend=yf,p.extendWith=Cu,Fc(p,p),p.add=Hg,p.attempt=Zf,p.camelCase=$p,p.capitalize=Mf,p.ceil=Bg,p.clamp=function Bp(t,e,o){return o===v&&(o=e,e=v),o!==v&&(o=(o=pn(o))==o?o:0),e!==v&&(e=(e=pn(e))==e?e:0),zn(pn(t),e,o)},p.clone=function zh(t){return oe(t,4)},p.cloneDeep=function qh(t){return oe(t,5)},p.cloneDeepWith=function Fh(t,e){return oe(t,5,e="function"==typeof e?e:v)},p.cloneWith=function Dh(t,e){return oe(t,4,e="function"==typeof e?e:v)},p.conformsTo=function Nh(t,e){return null==e||Gl(t,e,pe(e))},p.deburr=Tf,p.defaultTo=function xg(t,e){return null==t||t!=t?e:t},p.divide=Jg,p.endsWith=function Gp(t,e,o){t=kt(t),e=_e(e);var u=t.length,c=o=o===v?u:zn(yt(o),0,u);return(o-=e.length)>=0&&t.slice(o,c)==e},p.eq=An,p.escape=function Yp(t){return(t=kt(t))&&Uu.test(t)?t.replace(Ns,Ui):t},p.escapeRegExp=function Qp(t){return(t=kt(t))&&Oo.test(t)?t.replace(yi,"\\$&"):t},p.every=function nh(t,e,o){var u=mt(t)?Fo:Yc;return o&&me(t,e,o)&&(e=v),u(t,r(e,3))},p.find=ih,p.findIndex=Q,p.findKey=function mp(t,e){return $o(t,r(e,3),wn)},p.findLast=oh,p.findLastIndex=K,p.findLastKey=function vp(t,e){return $o(t,r(e,3),za)},p.floor=Wg,p.forEach=nf,p.forEachRight=rf,p.forIn=function yp(t,e){return null==t?t:Ra(t,r(e,3),De)},p.forInRight=function wp(t,e){return null==t?t:Vl(t,r(e,3),De)},p.forOwn=function xp(t,e){return t&&wn(t,r(e,3))},p.forOwnRight=function bp(t,e){return t&&za(t,r(e,3))},p.get=Ic,p.gt=Hh,p.gte=Bh,p.has=function Tp(t,e){return null!=t&&cu(t,e,Qc)},p.hasIn=Rc,p.head=Tt,p.identity=qe,p.includes=function ch(t,e,o,u){t=ze(t)?t:_o(t),o=o&&!u?yt(o):0;var c=t.length;return o<0&&(o=Qt(c+o,0)),Tu(t)?o<=c&&t.indexOf(e,o)>-1:!!c&&rn(t,e,o)>-1},p.indexOf=function vt(t,e,o){var u=null==t?0:t.length;if(!u)return-1;var c=null==o?0:yt(o);return c<0&&(c=Qt(u+c,0)),rn(t,e,c)},p.inRange=function Jp(t,e,o){return e=ur(e),o===v?(o=e,e=0):o=ur(o),function tc(t,e,o){return t>=le(e,o)&&t<Qt(e,o)}(t=pn(t),e,o)},p.invoke=Op,p.isArguments=pi,p.isArray=mt,p.isArrayBuffer=Jh,p.isArrayLike=ze,p.isArrayLikeObject=Kt,p.isBoolean=function Wh(t){return!0===t||!1===t||Gt(t)&&Ae(t)==Y},p.isBuffer=Zr,p.isDate=$h,p.isElement=function Gh(t){return Gt(t)&&1===t.nodeType&&!Fs(t)},p.isEmpty=function Yh(t){if(null==t)return!0;if(ze(t)&&(mt(t)||"string"==typeof t||"function"==typeof t.splice||Zr(t)||go(t)||pi(t)))return!t.length;var e=he(t);if(e==ne||e==$e)return!t.size;if(fi(t))return!io(t).length;for(var o in t)if(St.call(t,o))return!1;return!0},p.isEqual=function Qh(t,e){return un(t,e)},p.isEqualWith=function Xh(t,e,o){var u=(o="function"==typeof o?o:v)?o(t,e):v;return u===v?un(t,e,v,o):!!u},p.isError=Lc,p.isFinite=function Kh(t){return"number"==typeof t&&Oa(t)},p.isFunction=ar,p.isInteger=hf,p.isLength=Mu,p.isMap=pf,p.isMatch=function Vh(t,e){return t===e||hs(t,e,Is(e))},p.isMatchWith=function jh(t,e,o){return o="function"==typeof o?o:v,hs(t,e,Is(e),o)},p.isNaN=function tp(t){return gf(t)&&t!=+t},p.isNative=function ep(t){if(Mc(t))throw new lt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ti(t)},p.isNil=function rp(t){return null==t},p.isNull=function np(t){return null===t},p.isNumber=gf,p.isObject=Bt,p.isObjectLike=Gt,p.isPlainObject=Fs,p.isRegExp=Uc,p.isSafeInteger=function ip(t){return hf(t)&&t>=-Be&&t<=Be},p.isSet=df,p.isString=Tu,p.isSymbol=Ke,p.isTypedArray=go,p.isUndefined=function op(t){return t===v},p.isWeakMap=function sp(t){return Gt(t)&&he(t)==Lr},p.isWeakSet=function ap(t){return Gt(t)&&"[object WeakSet]"==Ae(t)},p.join=function tt(t,e){return null==t?"":Zl.call(t,e)},p.kebabCase=Xp,p.last=z,p.lastIndexOf=function et(t,e,o){var u=null==t?0:t.length;if(!u)return-1;var c=u;return o!==v&&(c=(c=yt(o))<0?Qt(u+c,0):le(c,u-1)),e==e?function _l(A,E,Z){for(var J=Z+1;J--;)if(A[J]===E)return J;return J}(t,e,c):Un(t,Wn,c,!0)},p.lowerCase=Kp,p.lowerFirst=Vp,p.lt=up,p.lte=lp,p.max=function $g(t){return t&&t.length?sn(t,qe,eo):v},p.maxBy=function Gg(t,e){return t&&t.length?sn(t,r(e,2),eo):v},p.mean=function Yg(t){return yr(t,qe)},p.meanBy=function Qg(t,e){return yr(t,r(e,2))},p.min=function Xg(t){return t&&t.length?sn(t,qe,oo):v},p.minBy=function Kg(t,e){return t&&t.length?sn(t,r(e,2),oo):v},p.stubArray=Hc,p.stubFalse=Bc,p.stubObject=function Rg(){return{}},p.stubString=function zg(){return""},p.stubTrue=function Dg(){return!0},p.multiply=Vg,p.nth=function ot(t,e){return t&&t.length?_s(t,yt(e)):v},p.noConflict=function Og(){return re._===this&&(re._=xl),this},p.noop=Nc,p.now=xu,p.pad=function jp(t,e,o){t=kt(t);var u=(e=yt(e))?ue(t):0;if(!e||u>=e)return t;var c=(e-u)/2;return Ht(Gi(c),o)+t+Ht($i(c),o)},p.padEnd=function tg(t,e,o){t=kt(t);var u=(e=yt(e))?ue(t):0;return e&&u<e?t+Ht(e-u,o):t},p.padStart=function eg(t,e,o){t=kt(t);var u=(e=yt(e))?ue(t):0;return e&&u<e?Ht(e-u,o)+t:t},p.parseInt=function ng(t,e,o){return o||null==e?e=0:e&&(e=+e),Pa(kt(t).replace(wi,""),e||0)},p.random=function Wp(t,e,o){if(o&&"boolean"!=typeof o&&me(t,e,o)&&(e=o=v),o===v&&("boolean"==typeof e?(o=e,e=v):"boolean"==typeof t&&(o=t,t=v)),t===v&&e===v?(t=0,e=1):(t=ur(t),e===v?(e=t,t=0):e=ur(e)),t>e){var u=t;t=e,e=u}if(o||t%1||e%1){var c=Ea();return le(t+c*(e-t+la("1e-"+((c+"").length-1))),e)}return ys(t,e)},p.reduce=function dh(t,e,o){var u=mt(t)?Ho:ga,c=arguments.length<3;return u(t,r(e,4),o,c,Vn)},p.reduceRight=function _h(t,e,o){var u=mt(t)?cl:ga,c=arguments.length<3;return u(t,r(e,4),o,c,Ql)},p.repeat=function rg(t,e,o){return e=(o?me(t,e,o):e===v)?1:yt(e),ws(kt(t),e)},p.replace=function ig(){var t=arguments,e=kt(t[0]);return t.length<3?e:e.replace(t[1],t[2])},p.result=function Ip(t,e,o){var u=-1,c=(e=tr(e,t)).length;for(c||(c=1,t=v);++u<c;){var d=null==t?v:t[g(e[u])];d===v&&(u=c,d=o),t=ar(d)?d.call(t):d}return t},p.round=jg,p.runInContext=A,p.sample=function vh(t){return(mt(t)?ss:Kc)(t)},p.size=function xh(t){if(null==t)return 0;if(ze(t))return Tu(t)?ue(t):t.length;var e=he(t);return e==ne||e==$e?t.size:io(t).length},p.snakeCase=og,p.some=function bh(t,e,o){var u=mt(t)?Bo:Ga;return o&&me(t,e,o)&&(e=v),u(t,r(e,3))},p.sortedIndex=function or(t,e){return ni(t,e)},p.sortedIndexBy=function po(t,e,o){return ri(t,e,r(o,2))},p.sortedIndexOf=function mu(t,e){var o=null==t?0:t.length;if(o){var u=ni(t,e);if(u<o&&An(t[u],e))return u}return-1},p.sortedLastIndex=function sr(t,e){return ni(t,e,!0)},p.sortedLastIndexBy=function vu(t,e,o){return ri(t,e,r(o,2),!0)},p.sortedLastIndexOf=function Oc(t,e){if(null!=t&&t.length){var u=ni(t,e,!0)-1;if(An(t[u],e))return u}return-1},p.startCase=ag,p.startsWith=function ug(t,e,o){return t=kt(t),o=null==o?0:zn(yt(o),0,t.length),e=_e(e),t.slice(o,o+e.length)==e},p.subtract=td,p.sum=function ed(t){return t&&t.length?Yo(t,qe):0},p.sumBy=function nd(t,e){return t&&t.length?Yo(t,r(e,2)):0},p.template=function lg(t,e,o){var u=p.templateSettings;o&&me(t,e,o)&&(e=v),t=kt(t),e=Cu({},e,u,li);var x,M,c=Cu({},e.imports,u.imports,li),d=pe(c),y=Li(c,d),L=0,U=e.interpolate||xi,I="__p += '",N=$r((e.escape||xi).source+"|"+U.source+"|"+(U===Hs?Ju:xi).source+"|"+(e.evaluate||xi).source+"|$","g"),V="//# sourceURL="+(St.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Oi+"]")+"\n";t.replace(N,function(ut,At,Ct,Ve,Se,je){return Ct||(Ct=Ve),I+=t.slice(L,je).replace(Ku,gl),At&&(x=!0,I+="' +\n__e("+At+") +\n'"),Se&&(M=!0,I+="';\n"+Se+";\n__p += '"),Ct&&(I+="' +\n((__t = ("+Ct+")) == null ? '' : __t) +\n'"),L=je+ut.length,ut}),I+="';\n";var at=St.call(e,"variable")&&e.variable;if(at){if(Hu.test(at))throw new lt("Invalid `variable` option passed into `_.template`")}else I="with (obj) {\n"+I+"\n}\n";I=(M?I.replace(Eu,""):I).replace(Su,"$1").replace(ku,"$1;"),I="function("+(at||"obj")+") {\n"+(at?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(x?", __e = _.escape":"")+(M?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+I+"return __p\n}";var wt=Zf(function(){return Ot(d,V+"return "+I).apply(v,y)});if(wt.source=I,Lc(wt))throw wt;return wt},p.times=function qg(t,e){if((t=yt(t))<1||t>Be)return[];var o=ke,u=le(t,ke);e=r(e),t-=ke;for(var c=Qo(u,e);++o<t;)e(o);return c},p.toFinite=ur,p.toInteger=yt,p.toLength=mf,p.toLower=function cg(t){return kt(t).toLowerCase()},p.toNumber=pn,p.toSafeInteger=function cp(t){return t?zn(yt(t),-Be,Be):0===t?t:0},p.toString=kt,p.toUpper=function fg(t){return kt(t).toUpperCase()},p.trim=function hg(t,e,o){if((t=kt(t))&&(o||e===v))return da(t);if(!t||!(e=_e(e)))return t;var u=Ie(t),c=Ie(e);return qn(u,_a(u,c),Xo(u,c)+1).join("")},p.trimEnd=function pg(t,e,o){if((t=kt(t))&&(o||e===v))return t.slice(0,Jr(t)+1);if(!t||!(e=_e(e)))return t;var u=Ie(t);return qn(u,0,Xo(u,Ie(e))+1).join("")},p.trimStart=function gg(t,e,o){if((t=kt(t))&&(o||e===v))return t.replace(wi,"");if(!t||!(e=_e(e)))return t;var u=Ie(t);return qn(u,_a(u,Ie(e))).join("")},p.truncate=function dg(t,e){var o=30,u="...";if(Bt(e)){var c="separator"in e?e.separator:c;o="length"in e?yt(e.length):o,u="omission"in e?_e(e.omission):u}var d=(t=kt(t)).length;if(Yt(t)){var y=Ie(t);d=y.length}if(o>=d)return t;var x=o-ue(u);if(x<1)return u;var M=y?qn(y,0,x).join(""):t.slice(0,x);if(c===v)return M+u;if(y&&(x+=M.length-x),Uc(c)){if(t.slice(x).search(c)){var L,U=M;for(c.global||(c=$r(c.source,kt(Ws.exec(c))+"g")),c.lastIndex=0;L=c.exec(U);)var I=L.index;M=M.slice(0,I===v?x:I)}}else if(t.indexOf(_e(c),x)!=x){var N=M.lastIndexOf(c);N>-1&&(M=M.slice(0,N))}return M+u},p.unescape=function _g(t){return(t=kt(t))&&Lu.test(t)?t.replace(Zo,Ko):t},p.uniqueId=function Ng(t){var e=++yl;return kt(t)+e},p.upperCase=mg,p.upperFirst=zc,p.each=nf,p.eachRight=rf,p.first=Tt,Fc(p,function(){var t={};return wn(p,function(e,o){St.call(p.prototype,o)||(t[o]=e)}),t}(),{chain:!1}),p.VERSION="4.17.21",Ze(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){p[t].placeholder=p}),Ze(["drop","take"],function(t,e){bt.prototype[t]=function(o){o=o===v?1:Qt(yt(o),0);var u=this.__filtered__&&!e?new bt(this):this.clone();return u.__filtered__?u.__takeCount__=le(o,u.__takeCount__):u.__views__.push({size:le(o,ke),type:t+(u.__dir__<0?"Right":"")}),u},bt.prototype[t+"Right"]=function(o){return this.reverse()[t](o).reverse()}}),Ze(["filter","map","takeWhile"],function(t,e){var o=e+1,u=1==o||3==o;bt.prototype[t]=function(c){var d=this.clone();return d.__iteratees__.push({iteratee:r(c,3),type:o}),d.__filtered__=d.__filtered__||u,d}}),Ze(["head","last"],function(t,e){var o="take"+(e?"Right":"");bt.prototype[t]=function(){return this[o](1).value()[0]}}),Ze(["initial","tail"],function(t,e){var o="drop"+(e?"":"Right");bt.prototype[t]=function(){return this.__filtered__?new bt(this):this[o](1)}}),bt.prototype.compact=function(){return this.filter(qe)},bt.prototype.find=function(t){return this.filter(t).head()},bt.prototype.findLast=function(t){return this.reverse().find(t)},bt.prototype.invokeMap=dt(function(t,e){return"function"==typeof t?new bt(this):this.map(function(o){return no(o,t,e)})}),bt.prototype.reject=function(t){return this.filter(Au(r(t)))},bt.prototype.slice=function(t,e){t=yt(t);var o=this;return o.__filtered__&&(t>0||e<0)?new bt(o):(t<0?o=o.takeRight(-t):t&&(o=o.drop(t)),e!==v&&(o=(e=yt(e))<0?o.dropRight(-e):o.take(e-t)),o)},bt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},bt.prototype.toArray=function(){return this.take(ke)},wn(bt.prototype,function(t,e){var o=/^(?:filter|find|map|reject)|While$/.test(e),u=/^(?:head|last)$/.test(e),c=p[u?"take"+("last"==e?"Right":""):e],d=u||/^find/.test(e);!c||(p.prototype[e]=function(){var y=this.__wrapped__,x=u?[1]:arguments,M=y instanceof bt,L=x[0],U=M||mt(y),I=function(At){var Ct=c.apply(p,Ln([At],x));return u&&N?Ct[0]:Ct};U&&o&&"function"==typeof L&&1!=L.length&&(M=U=!1);var N=this.__chain__,V=!!this.__actions__.length,at=d&&!N,wt=M&&!V;if(!d&&U){y=wt?y:new bt(this);var ut=t.apply(y,x);return ut.__actions__.push({func:yu,args:[I],thisArg:v}),new Xe(ut,N)}return at&&wt?t.apply(this,x):(ut=this.thru(I),at?u?ut.value()[0]:ut.value():ut)})}),Ze(["pop","push","shift","sort","splice","unshift"],function(t){var e=zi[t],o=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",u=/^(?:pop|shift)$/.test(t);p.prototype[t]=function(){var c=arguments;if(u&&!this.__chain__){var d=this.value();return e.apply(mt(d)?d:[],c)}return this[o](function(y){return e.apply(mt(y)?y:[],c)})}}),wn(bt.prototype,function(t,e){var o=p[e];if(o){var u=o.name+"";St.call(xr,u)||(xr[u]=[]),xr[u].push({name:e,func:o})}}),xr[si(v,2).name]=[{name:"wrapper",func:v}],bt.prototype.clone=function Rl(){var t=new bt(this.__wrapped__);return t.__actions__=Me(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Me(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Me(this.__views__),t},bt.prototype.reverse=function zl(){if(this.__filtered__){var t=new bt(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},bt.prototype.value=function Dl(){var t=this.__wrapped__.value(),e=this.__dir__,o=mt(t),u=e<0,c=o?t.length:0,d=function _c(t,e,o){for(var u=-1,c=o.length;++u<c;){var d=o[u],y=d.size;switch(d.type){case"drop":t+=y;break;case"dropRight":e-=y;break;case"take":e=le(e,t+y);break;case"takeRight":t=Qt(t,e-y)}}return{start:t,end:e}}(0,c,this.__views__),y=d.start,x=d.end,M=x-y,L=u?x:y-1,U=this.__iteratees__,I=U.length,N=0,V=le(M,this.__takeCount__);if(!o||!u&&c==M&&V==M)return Qa(t,this.__actions__);var at=[];t:for(;M--&&N<V;){for(var wt=-1,ut=t[L+=e];++wt<I;){var At=U[wt],Ve=At.type,Se=(0,At.iteratee)(ut);if(2==Ve)ut=Se;else if(!Se){if(1==Ve)continue t;break t}}at[N++]=ut}return at},p.prototype.at=Gf,p.prototype.chain=function Yf(){return ef(this)},p.prototype.commit=function Qf(){return new Xe(this.value(),this.__chain__)},p.prototype.next=function Xf(){this.__values__===v&&(this.__values__=_f(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?v:this.__values__[this.__index__++]}},p.prototype.plant=function Vf(t){for(var e,o=this;o instanceof rs;){var u=m(o);u.__index__=0,u.__values__=v,e?c.__wrapped__=u:e=u;var c=u;o=o.__wrapped__}return c.__wrapped__=t,e},p.prototype.reverse=function jf(){var t=this.__wrapped__;if(t instanceof bt){var e=t;return this.__actions__.length&&(e=new bt(this)),(e=e.reverse()).__actions__.push({func:yu,args:[gt],thisArg:v}),new Xe(e,this.__chain__)}return this.thru(gt)},p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=function th(){return Qa(this.__wrapped__,this.__actions__)},p.prototype.first=p.prototype.head,Gr&&(p.prototype[Gr]=function Kf(){return this}),p}();re._=Wr,(dn=function(){return Wr}.call(gn,jt,gn,Tn))!==v&&(Tn.exports=dn)}.call(this)},1397:function(Tn){Tn.exports=function(){"use strict";function dn({id:j,step:ct,marginTop:xt}){const{index:ee,height:Wt}=ct,ae=`scrollama__debug-step--${j}-${ee}`;let $t=document.querySelector(`.${ae}`);$t||($t=function jt(j){const ct=document.createElement("div");ct.className=`scrollama__debug-step ${j}`,ct.style.position="fixed",ct.style.left="0",ct.style.width="100%",ct.style.zIndex="9999",ct.style.borderTop="2px solid black",ct.style.borderBottom="2px solid black";const xt=document.createElement("p");return xt.style.position="absolute",xt.style.left="0",xt.style.height="1px",xt.style.width="100%",xt.style.borderTop="1px dashed black",ct.appendChild(xt),document.body.appendChild(ct),ct}(ae)),$t.style.top=-1*xt+"px",$t.style.height=`${Wt}px`,$t.querySelector("p").style.top=Wt/2+"px"}function cr(j){console.error(`scrollama error: ${j}`)}function tn(j){return+j.getAttribute("data-scrollama-index")}function Jt(j){if("string"==typeof j&&j.indexOf("px")>0){const ct=+j.replace("px","");return isNaN(ct)?(err("offset value must be in 'px' format. Fallback to 0.5."),{format:"percent",value:.5}):{format:"pixels",value:ct}}return"number"!=typeof j&&isNaN(+j)?null:(j>1&&err("offset value is greater than 1. Fallback to 1."),j<0&&err("offset value is lower than 0. Fallback to 0."),{format:"percent",value:Math.min(Math.max(0,j),1)})}function Or(j){const{top:ct}=j.getBoundingClientRect();return ct+window.pageYOffset-(document.body.clientTop||0)}let Fe,_n,te;function Cn(j){const ct=j?j.scrollTop:window.pageYOffset;Fe!==ct&&(Fe=ct,Fe>_n?te="down":Fe<_n&&(te="up"),_n=Fe)}return function en(){let ee,Wt,j={},ct=function v(){const j="abcdefghijklmnopqrstuvwxyz",ct=Date.now(),xt=[];for(let ee=0;ee<6;ee+=1){const Wt=j[Math.floor(Math.random()*j.length)];xt.push(Wt)}return`${xt.join("")}${ct}`}(),xt=[],ae=0,$t=!1,Te=!1,He=!1,Hn=!1,Zn=[];function Pr(){j={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},Zn=[]}function pr(Y){Y&&!$t&&En(),!Y&&$t&&Er(),$t=Y}function Bn(Y,Pt){const Zt=tn(Y),Lt=xt[Zt];void 0!==Pt&&(Lt.progress=Pt),"enter"===Lt.state&&j.stepProgress({element:Y,index:Zt,progress:Pt,direction:te})}function vo([Y]){const Pt=tn(Y.target),Zt=xt[Pt],Lt=Y.target.offsetHeight;Lt!==Zt.height&&(Zt.height=Lt,Be(Zt),_i(Zt),On(Zt))}function di([Y]){Cn(Wt);const{isIntersecting:Pt,target:Zt}=Y;Pt?function mo(Y,Pt=!0){const Zt=tn(Y),Lt=xt[Zt],Ft={element:Y,index:Zt,direction:te};Lt.direction=te,Lt.state="enter",Zn[Zt]||j.stepEnter(Ft),Hn&&(Zn[Zt]=!0)}(Zt):function gi(Y,Pt=!0){const Zt=tn(Y),Lt=xt[Zt];if(!Lt.state)return!1;const Ft={element:Y,index:Zt,direction:te};Te&&("down"===te&&Lt.progress<1?Bn(Y,1):"up"===te&&Lt.progress>0&&Bn(Y,0)),Lt.direction=te,Lt.state="exit",j.stepExit(Ft)}(Zt)}function mn([Y]){const Pt=tn(Y.target),Zt=xt[Pt],{isIntersecting:Lt,intersectionRatio:Ft,target:Je}=Y;Lt&&"enter"===Zt.state&&Bn(Je,Ft)}function Be({observers:Y}){Object.keys(Y).map(Pt=>{Y[Pt].disconnect()})}function Er(){xt.forEach(Be)}function On(Y){const Pt=new ResizeObserver(vo);Pt.observe(Y.node),Y.observers.resize=Pt}function _i(Y){const Pt=window.innerHeight,Zt=Y.offset||ee,Ft=Zt.value*("pixels"===Zt.format?1:Pt),Je=Y.height/2-Ft,ne=Y.height/2-(Pt-Ft),Sn=new IntersectionObserver(di,{rootMargin:`${Je}px 0px ${ne}px 0px`,threshold:.5});Sn.observe(Y.node),Y.observers.step=Sn,He&&dn({id:ct,step:Y,marginTop:Je,marginBottom:ne})}function wo(Y){const Pt=window.innerHeight,Zt=Y.offset||ee,Ft=Zt.value*("pixels"===Zt.format?1:Pt),We=`${-Ft+Y.height}px 0px ${Ft-Pt}px 0px`,vn=function fr(j,ct){const xt=Math.ceil(j/ct),ee=[],Wt=1/xt;for(let ae=0;ae<xt+1;ae+=1)ee.push(ae*Wt);return ee}(Y.height,ae),Sn=new IntersectionObserver(mn,{rootMargin:We,threshold:vn});Sn.observe(Y.node),Y.observers.progress=Sn}function En(){Er(),function ke(){xt.forEach(On)}(),function yo(){xt.forEach(_i)}(),Te&&function Pn(){xt.forEach(wo)}()}const Nt={setup:({step:Y,parent:Pt,offset:Zt=.5,threshold:Lt=4,progress:Ft=!1,once:Je=!1,debug:ne=!1,container:We})=>(function Ne(j){Fe=0,_n=0,document.addEventListener("scroll",()=>Cn(j))}(We),xt=function gn(j,ct=document){return"string"==typeof j?Array.from(ct.querySelectorAll(j)):j instanceof Element?[j]:j instanceof NodeList?Array.from(j):j instanceof Array?j:[]}(Y,Pt).map((vn,ge)=>({index:ge,direction:void 0,height:vn.offsetHeight,node:vn,observers:{},offset:Jt(vn.dataset.offset),top:Or(vn),progress:0,state:void 0})),xt.length?(Te=Ft,Hn=Je,He=ne,ae=Math.max(1,+Lt),ee=Jt(Zt),Wt=We,Pr(),function hr(j){j.forEach(ct=>ct.node.setAttribute("data-scrollama-index",ct.index))}(xt),pr(!0),Nt):(cr("no step elements"),Nt)),enable:()=>(pr(!0),Nt),disable:()=>(pr(!1),Nt),destroy:()=>(pr(!1),Pr(),Nt),resize:()=>(En(),Nt),offset:Y=>null==Y?ee.value:(ee=Jt(Y),En(),Nt),onStepEnter:Y=>("function"==typeof Y?j.stepEnter=Y:cr("onStepEnter requires a function"),Nt),onStepExit:Y=>("function"==typeof Y?j.stepExit=Y:cr("onStepExit requires a function"),Nt),onStepProgress:Y=>("function"==typeof Y?j.stepProgress=Y:cr("onStepProgress requires a function"),Nt)};return Nt}}()}}]);