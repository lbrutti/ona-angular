(self.webpackChunkapp=self.webpackChunkapp||[]).push([[77],{77:(Mn,gn,jt)=>{"use strict";jt.r(gn),jt.d(gn,{HomePageModule:()=>Cc});var dn=jt(9808),v=jt(5649),cr=jt(3075),tn=jt(6114),fr=jt(655),Jt=jt(1397);function hr(n,i){return null==n||null==i?NaN:n<i?-1:n>i?1:n>=i?0:NaN}function Er(n,i){return null==n||null==i?NaN:i<n?-1:i>n?1:i>=n?0:NaN}function qe(n){let i,s,a;function l(g,_,w=0,m=g.length){if(w<m){if(0!==i(_,_))return m;do{const b=w+m>>>1;s(g[b],_)<0?w=b+1:m=b}while(w<m)}return w}return 2!==n.length?(i=hr,s=(g,_)=>hr(n(g),_),a=(g,_)=>n(g)-_):(i=n===hr||n===Er?n:_n,s=n,a=n),{left:l,center:function h(g,_,w=0,m=g.length){const b=l(g,_,w,m-1);return b>w&&a(g[b-1],_)>-a(g[b],_)?b-1:b},right:function f(g,_,w=0,m=g.length){if(w<m){if(0!==i(_,_))return m;do{const b=w+m>>>1;s(g[b],_)<=0?w=b+1:m=b}while(w<m)}return w}}}function _n(){return 0}function te(n){return n}function xt(n){return"translate("+n+",0)"}function ee(n){return"translate(0,"+n+")"}function Wt(n){return i=>+n(i)}function ae(n,i){return i=Math.max(0,n.bandwidth()-2*i)/2,n.round()&&(i=Math.round(i)),s=>+n(s)+i}function $t(){return!this.__axis}function Me(n,i){var s=[],a=null,l=null,f=6,h=6,g=3,_="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,w=1===n||4===n?-1:1,m=4===n||2===n?"x":"y",b=1===n||3===n?xt:ee;function M(E){var N=null==a?i.ticks?i.ticks.apply(i,s):i.domain():a,Q=null==l?i.tickFormat?i.tickFormat.apply(i,s):te:l,k=Math.max(f,0)+g,S=i.range(),z=+S[0]+_,R=+S[S.length-1]+_,X=(i.bandwidth?ae:Wt)(i.copy(),_),G=E.selection?E.selection():E,K=G.selectAll(".domain").data([null]),V=G.selectAll(".tick").data(N,i).order(),ht=V.exit(),At=V.enter().append("g").attr("class","tick"),ft=V.select("line"),W=V.select("text");K=K.merge(K.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),V=V.merge(At),ft=ft.merge(At.append("line").attr("stroke","currentColor").attr(m+"2",w*f)),W=W.merge(At.append("text").attr("fill","currentColor").attr(m,w*k).attr("dy",1===n?"0em":3===n?"0.71em":"0.32em")),E!==G&&(K=K.transition(E),V=V.transition(E),ft=ft.transition(E),W=W.transition(E),ht=ht.transition(E).attr("opacity",1e-6).attr("transform",function(Mt){return isFinite(Mt=X(Mt))?b(Mt+_):this.getAttribute("transform")}),At.attr("opacity",1e-6).attr("transform",function(Mt){var vt=this.parentNode.__axis;return b((vt&&isFinite(vt=vt(Mt))?vt:X(Mt))+_)})),ht.remove(),K.attr("d",4===n||2===n?h?"M"+w*h+","+z+"H"+_+"V"+R+"H"+w*h:"M"+_+","+z+"V"+R:h?"M"+z+","+w*h+"V"+_+"H"+R+"V"+w*h:"M"+z+","+_+"H"+R),V.attr("opacity",1).attr("transform",function(Mt){return b(X(Mt)+_)}),ft.attr(m+"2",w*f),W.attr(m,w*k).text(Q),G.filter($t).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===n?"start":4===n?"end":"middle"),G.each(function(){this.__axis=X})}return M.scale=function(E){return arguments.length?(i=E,M):i},M.ticks=function(){return s=Array.from(arguments),M},M.tickArguments=function(E){return arguments.length?(s=null==E?[]:Array.from(E),M):s.slice()},M.tickValues=function(E){return arguments.length?(a=null==E?null:Array.from(E),M):a&&a.slice()},M.tickFormat=function(E){return arguments.length?(l=E,M):l},M.tickSize=function(E){return arguments.length?(f=h=+E,M):f},M.tickSizeInner=function(E){return arguments.length?(f=+E,M):f},M.tickSizeOuter=function(E){return arguments.length?(h=+E,M):h},M.tickPadding=function(E){return arguments.length?(g=+E,M):g},M.offset=function(E){return arguments.length?(_=+E,M):_},M}function Zn(n){return Me(3,n)}function Sr(n){return Me(4,n)}function pr(){}function Bn(n){return null==n?pr:function(){return this.querySelector(n)}}function gi(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}function vo(){return[]}function di(n){return null==n?vo:function(){return this.querySelectorAll(n)}}function Or(n){return function(){return this.matches(n)}}function En(n){return function(i){return i.matches(n)}}var Pe=Array.prototype.find;function yo(){return this.firstElementChild}var Sn=Array.prototype.filter;function On(){return Array.from(this.children)}function Zt(n){return new Array(n.length)}function qt(n,i){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=i}function Je(n){return function(){return n}}function ne(n,i,s,a,l,f){for(var g,h=0,_=i.length,w=f.length;h<w;++h)(g=i[h])?(g.__data__=f[h],a[h]=g):s[h]=new qt(n,f[h]);for(;h<_;++h)(g=i[h])&&(l[h]=g)}function We(n,i,s,a,l,f,h){var g,_,E,w=new Map,m=i.length,b=f.length,M=new Array(m);for(g=0;g<m;++g)(_=i[g])&&(M[g]=E=h.call(_,_.__data__,g,i)+"",w.has(E)?l[g]=_:w.set(E,_));for(g=0;g<b;++g)E=h.call(n,f[g],g,f)+"",(_=w.get(E))?(a[g]=_,_.__data__=f[g],w.delete(E)):s[g]=new qt(n,f[g]);for(g=0;g<m;++g)(_=i[g])&&w.get(M[g])===_&&(l[g]=_)}function vn(n){return n.__data__}function kn(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function Cu(n,i){return n<i?-1:n>i?1:n>=i?0:NaN}qt.prototype={constructor:qt,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,i){return this._parent.insertBefore(n,i)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var Ir="http://www.w3.org/1999/xhtml";const vi={svg:"http://www.w3.org/2000/svg",xhtml:Ir,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dr(n){var i=n+="",s=i.indexOf(":");return s>=0&&"xmlns"!==(i=n.slice(0,s))&&(n=n.slice(s+1)),vi.hasOwnProperty(i)?{space:vi[i],local:n}:n}function Ao(n){return function(){this.removeAttribute(n)}}function To(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Mo(n,i){return function(){this.setAttribute(n,i)}}function Co(n,i){return function(){this.setAttributeNS(n.space,n.local,i)}}function Eu(n,i){return function(){var s=i.apply(this,arguments);null==s?this.removeAttribute(n):this.setAttribute(n,s)}}function Su(n,i){return function(){var s=i.apply(this,arguments);null==s?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,s)}}function Zo(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function qs(n){return function(){this.style.removeProperty(n)}}function ku(n,i,s){return function(){this.style.setProperty(n,i,s)}}function Pu(n,i,s){return function(){var a=i.apply(this,arguments);null==a?this.style.removeProperty(n):this.style.setProperty(n,a,s)}}function _r(n,i){return n.style.getPropertyValue(i)||Zo(n).getComputedStyle(n,null).getPropertyValue(i)}function Ns(n){return function(){delete this[n]}}function Uu(n,i){return function(){this[n]=i}}function Iu(n,i){return function(){var s=i.apply(this,arguments);null==s?delete this[n]:this[n]=s}}function yi(n){return n.trim().split(/^|\s+/)}function Eo(n){return n.classList||new wi(n)}function wi(n){this._node=n,this._names=yi(n.getAttribute("class")||"")}function Hs(n,i){for(var s=Eo(n),a=-1,l=i.length;++a<l;)s.add(i[a])}function Bs(n,i){for(var s=Eo(n),a=-1,l=i.length;++a<l;)s.remove(i[a])}function zu(n){return function(){Hs(this,n)}}function Du(n){return function(){Bs(this,n)}}function Fu(n,i){return function(){(i.apply(this,arguments)?Hs:Bs)(this,n)}}function Nu(){this.textContent=""}function Hu(n){return function(){this.textContent=n}}function Js(n){return function(){var i=n.apply(this,arguments);this.textContent=null==i?"":i}}function Ju(){this.innerHTML=""}function Wu(n){return function(){this.innerHTML=n}}function $u(n){return function(){var i=n.apply(this,arguments);this.innerHTML=null==i?"":i}}function Yu(){this.nextSibling&&this.parentNode.appendChild(this)}function Qu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Xu(n){return function(){var i=this.ownerDocument,s=this.namespaceURI;return s===Ir&&i.documentElement.namespaceURI===Ir?i.createElement(n):i.createElementNS(s,n)}}function Ku(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Ws(n){var i=dr(n);return(i.local?Ku:Xu)(i)}function Gs(){return null}function Vu(){var n=this.parentNode;n&&n.removeChild(this)}function tl(){var n=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function el(){var n=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function So(n){return n.trim().split(/^|\s+/).map(function(i){var s="",a=i.indexOf(".");return a>=0&&(s=i.slice(a+1),i=i.slice(0,a)),{type:i,name:s}})}function nl(n){return function(){var i=this.__on;if(i){for(var f,s=0,a=-1,l=i.length;s<l;++s)f=i[s],n.type&&f.type!==n.type||f.name!==n.name?i[++a]=f:this.removeEventListener(f.type,f.listener,f.options);++a?i.length=a:delete this.__on}}}function Vs(n,i,s){return function(){var l,a=this.__on,f=function Ks(n){return function(i){n.call(this,i,this.__data__)}}(i);if(a)for(var h=0,g=a.length;h<g;++h)if((l=a[h]).type===n.type&&l.name===n.name)return this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=f,l.options=s),void(l.value=i);this.addEventListener(n.type,f,s),l={type:n.type,name:n.name,value:i,listener:f,options:s},a?a.push(l):this.__on=[l]}}function Oo(n,i,s){var a=Zo(n),l=a.CustomEvent;"function"==typeof l?l=new l(i,s):(l=a.document.createEvent("Event"),s?(l.initEvent(i,s.bubbles,s.cancelable),l.detail=s.detail):l.initEvent(i,!1,!1)),n.dispatchEvent(l)}function rl(n,i){return function(){return Oo(this,n,i)}}function js(n,i){return function(){return Oo(this,n,i.apply(this,arguments))}}wi.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var i=this._names.indexOf(n);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var ea=[null];function ve(n,i){this._groups=n,this._parents=i}function Ti(){return new ve([[document.documentElement]],ea)}ve.prototype=Ti.prototype={constructor:ve,select:function mo(n){"function"!=typeof n&&(n=Bn(n));for(var i=this._groups,s=i.length,a=new Array(s),l=0;l<s;++l)for(var _,w,f=i[l],h=f.length,g=a[l]=new Array(h),m=0;m<h;++m)(_=f[m])&&(w=n.call(_,_.__data__,m,f))&&("__data__"in _&&(w.__data__=_.__data__),g[m]=w);return new ve(a,this._parents)},selectAll:function Be(n){n="function"==typeof n?function mn(n){return function(){return gi(n.apply(this,arguments))}}(n):di(n);for(var i=this._groups,s=i.length,a=[],l=[],f=0;f<s;++f)for(var _,h=i[f],g=h.length,w=0;w<g;++w)(_=h[w])&&(a.push(n.call(_,_.__data__,w,h)),l.push(_));return new ve(a,l)},selectChild:function wo(n){return this.select(null==n?yo:function _i(n){return function(){return Pe.call(this.children,n)}}("function"==typeof n?n:En(n)))},selectChildren:function Y(n){return this.selectAll(null==n?On:function Nt(n){return function(){return Sn.call(this.children,n)}}("function"==typeof n?n:En(n)))},filter:function St(n){"function"!=typeof n&&(n=Or(n));for(var i=this._groups,s=i.length,a=new Array(s),l=0;l<s;++l)for(var _,f=i[l],h=f.length,g=a[l]=[],w=0;w<h;++w)(_=f[w])&&n.call(_,_.__data__,w,f)&&g.push(_);return new ve(a,this._parents)},data:function ge(n,i){if(!arguments.length)return Array.from(this,vn);var s=i?We:ne,a=this._parents,l=this._groups;"function"!=typeof n&&(n=Je(n));for(var f=l.length,h=new Array(f),g=new Array(f),_=new Array(f),w=0;w<f;++w){var m=a[w],b=l[w],M=b.length,E=kn(n.call(m,m&&m.__data__,w,a)),N=E.length,Q=g[w]=new Array(N),k=h[w]=new Array(N),S=_[w]=new Array(M);s(m,b,Q,k,S,E,i);for(var X,G,z=0,R=0;z<N;++z)if(X=Q[z]){for(z>=R&&(R=z+1);!(G=k[R])&&++R<N;);X._next=G||null}}return(h=new ve(h,a))._enter=g,h._exit=_,h},enter:function Lt(){return new ve(this._enter||this._groups.map(Zt),this._parents)},exit:function Mu(){return new ve(this._exit||this._groups.map(Zt),this._parents)},join:function kr(n,i,s){var a=this.enter(),l=this,f=this.exit();return"function"==typeof n?(a=n(a))&&(a=a.selection()):a=a.append(n+""),null!=i&&(l=i(l))&&(l=l.selection()),null==s?f.remove():s(f),a&&l?a.merge(l).order():l},merge:function $e(n){for(var i=n.selection?n.selection():n,s=this._groups,a=i._groups,l=s.length,h=Math.min(l,a.length),g=new Array(l),_=0;_<h;++_)for(var E,w=s[_],m=a[_],b=w.length,M=g[_]=new Array(b),N=0;N<b;++N)(E=w[N]||m[N])&&(M[N]=E);for(;_<l;++_)g[_]=s[_];return new ve(g,this._parents)},selection:function Po(){return this},order:function Pr(){for(var n=this._groups,i=-1,s=n.length;++i<s;)for(var h,a=n[i],l=a.length-1,f=a[l];--l>=0;)(h=a[l])&&(f&&4^h.compareDocumentPosition(f)&&f.parentNode.insertBefore(h,f),f=h);return this},sort:function mi(n){function i(b,M){return b&&M?n(b.__data__,M.__data__):!b-!M}n||(n=Cu);for(var s=this._groups,a=s.length,l=new Array(a),f=0;f<a;++f){for(var w,h=s[f],g=h.length,_=l[f]=new Array(g),m=0;m<g;++m)(w=h[m])&&(_[m]=w);_.sort(i)}return new ve(l,this._parents).order()},call:function Lr(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function Zu(){return Array.from(this)},node:function Ur(){for(var n=this._groups,i=0,s=n.length;i<s;++i)for(var a=n[i],l=0,f=a.length;l<f;++l){var h=a[l];if(h)return h}return null},size:function gr(){let n=0;for(const i of this)++n;return n},empty:function xo(){return!this.node()},each:function bo(n){for(var i=this._groups,s=0,a=i.length;s<a;++s)for(var g,l=i[s],f=0,h=l.length;f<h;++f)(g=l[f])&&n.call(g,g.__data__,f,l);return this},attr:function Ou(n,i){var s=dr(n);if(arguments.length<2){var a=this.node();return s.local?a.getAttributeNS(s.space,s.local):a.getAttribute(s)}return this.each((null==i?s.local?To:Ao:"function"==typeof i?s.local?Su:Eu:s.local?Co:Mo)(s,i))},style:function Lu(n,i,s){return arguments.length>1?this.each((null==i?qs:"function"==typeof i?Pu:ku)(n,i,null==s?"":s)):_r(this.node(),n)},property:function Ru(n,i){return arguments.length>1?this.each((null==i?Ns:"function"==typeof i?Iu:Uu)(n,i)):this.node()[n]},classed:function qu(n,i){var s=yi(n+"");if(arguments.length<2){for(var a=Eo(this.node()),l=-1,f=s.length;++l<f;)if(!a.contains(s[l]))return!1;return!0}return this.each(("function"==typeof i?Fu:i?zu:Du)(s,i))},text:function Bu(n){return arguments.length?this.each(null==n?Nu:("function"==typeof n?Js:Hu)(n)):this.node().textContent},html:function Gu(n){return arguments.length?this.each(null==n?Ju:("function"==typeof n?$u:Wu)(n)):this.node().innerHTML},raise:function xi(){return this.each(Yu)},lower:function bi(){return this.each(Qu)},append:function $s(n){var i="function"==typeof n?n:Ws(n);return this.select(function(){return this.appendChild(i.apply(this,arguments))})},insert:function Ys(n,i){var s="function"==typeof n?n:Ws(n),a=null==i?Gs:"function"==typeof i?i:Bn(i);return this.select(function(){return this.insertBefore(s.apply(this,arguments),a.apply(this,arguments)||null)})},remove:function ju(){return this.each(Vu)},clone:function Qs(n){return this.select(n?el:tl)},datum:function Xs(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function Ai(n,i,s){var l,h,a=So(n+""),f=a.length;if(!(arguments.length<2)){for(g=i?Vs:nl,l=0;l<f;++l)this.each(g(a[l],i,s));return this}var g=this.node().__on;if(g)for(var m,_=0,w=g.length;_<w;++_)for(l=0,m=g[_];l<f;++l)if((h=a[l]).type===m.type&&h.name===m.name)return m.value},dispatch:function ta(n,i){return this.each(("function"==typeof i?js:rl)(n,i))},[Symbol.iterator]:function*ko(){for(var n=this._groups,i=0,s=n.length;i<s;++i)for(var h,a=n[i],l=0,f=a.length;l<f;++l)(h=a[l])&&(yield h)}};const nn=Ti;var na={value:()=>{}};function Lo(){for(var a,n=0,i=arguments.length,s={};n<i;++n){if(!(a=arguments[n]+"")||a in s||/[\s.]/.test(a))throw new Error("illegal type: "+a);s[a]=[]}return new Mi(s)}function Mi(n){this._=n}function ra(n,i){return n.trim().split(/^|\s+/).map(function(s){var a="",l=s.indexOf(".");if(l>=0&&(a=s.slice(l+1),s=s.slice(0,l)),s&&!i.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:a}})}function ia(n,i){for(var l,s=0,a=n.length;s<a;++s)if((l=n[s]).name===i)return l.value}function Uo(n,i,s){for(var a=0,l=n.length;a<l;++a)if(n[a].name===i){n[a]=na,n=n.slice(0,a).concat(n.slice(a+1));break}return null!=s&&n.push({name:i,value:s}),n}Mi.prototype=Lo.prototype={constructor:Mi,on:function(n,i){var l,s=this._,a=ra(n+"",s),f=-1,h=a.length;if(!(arguments.length<2)){if(null!=i&&"function"!=typeof i)throw new Error("invalid callback: "+i);for(;++f<h;)if(l=(n=a[f]).type)s[l]=Uo(s[l],n.name,i);else if(null==i)for(l in s)s[l]=Uo(s[l],n.name,null);return this}for(;++f<h;)if((l=(n=a[f]).type)&&(l=ia(s[l],n.name)))return l},copy:function(){var n={},i=this._;for(var s in i)n[s]=i[s].slice();return new Mi(n)},call:function(n,i){if((l=arguments.length-2)>0)for(var l,f,s=new Array(l),a=0;a<l;++a)s[a]=arguments[a+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(a=0,l=(f=this._[n]).length;a<l;++a)f[a].value.apply(i,s)},apply:function(n,i,s){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var a=this._[n],l=0,f=a.length;l<f;++l)a[l].value.apply(i,s)}};const oa=Lo;var Ci,Dr,mr=0,Rr=0,zr=0,Zi=0,Jn=0,vr=0,Fr="object"==typeof performance&&performance.now?performance:Date,sa="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Ro(){return Jn||(sa(il),Jn=Fr.now()+vr)}function il(){Jn=0}function Ei(){this._call=this._time=this._next=null}function It(n,i,s){var a=new Ei;return a.restart(n,i,s),a}function aa(){Jn=(Zi=Fr.now())+vr,mr=Rr=0;try{!function Rt(){Ro(),++mr;for(var i,n=Ci;n;)(i=Jn-n._time)>=0&&n._call.call(void 0,i),n=n._next;--mr}()}finally{mr=0,function sl(){for(var n,s,i=Ci,a=1/0;i;)i._call?(a>i._time&&(a=i._time),n=i,i=i._next):(s=i._next,i._next=null,i=n?n._next=s:Ci=s);Dr=n,zo(a)}(),Jn=0}}function ol(){var n=Fr.now(),i=n-Zi;i>1e3&&(vr-=i,Zi=n)}function zo(n){mr||(Rr&&(Rr=clearTimeout(Rr)),n-Jn>24?(n<1/0&&(Rr=setTimeout(aa,n-Fr.now()-vr)),zr&&(zr=clearInterval(zr))):(zr||(Zi=Fr.now(),zr=setInterval(ol,1e3)),mr=1,sa(aa)))}function ua(n,i,s){var a=new Ei;return a.restart(l=>{a.stop(),n(l+i)},i=null==i?0:+i,s),a}Ei.prototype=It.prototype={constructor:Ei,restart:function(n,i,s){if("function"!=typeof n)throw new TypeError("callback is not a function");s=(null==s?Ro():+s)+(null==i?0:+i),!this._next&&Dr!==this&&(Dr?Dr._next=this:Ci=this,Dr=this),this._call=n,this._time=s,zo()},stop:function(){this._call&&(this._call=null,this._time=1/0,zo())}};var al=oa("start","end","cancel","interrupt"),la=[];function Nr(n,i,s,a,l,f){var h=n.__transition;if(h){if(s in h)return}else n.__transition={};!function fa(n,i,s){var l,a=n.__transition;function h(w){var m,b,M,E;if(1!==s.state)return _();for(m in a)if((E=a[m]).name===s.name){if(3===E.state)return ua(h);4===E.state?(E.state=6,E.timer.stop(),E.on.call("interrupt",n,n.__data__,E.index,E.group),delete a[m]):+m<i&&(E.state=6,E.timer.stop(),E.on.call("cancel",n,n.__data__,E.index,E.group),delete a[m])}if(ua(function(){3===s.state&&(s.state=4,s.timer.restart(g,s.delay,s.time),g(w))}),s.state=2,s.on.call("start",n,n.__data__,s.index,s.group),2===s.state){for(s.state=3,l=new Array(M=s.tween.length),m=0,b=-1;m<M;++m)(E=s.tween[m].value.call(n,n.__data__,s.index,s.group))&&(l[++b]=E);l.length=b+1}}function g(w){for(var m=w<s.duration?s.ease.call(null,w/s.duration):(s.timer.restart(_),s.state=5,1),b=-1,M=l.length;++b<M;)l[b].call(n,m);5===s.state&&(s.on.call("end",n,n.__data__,s.index,s.group),_())}function _(){for(var w in s.state=6,s.timer.stop(),delete a[i],a)return;delete n.__transition}a[i]=s,s.timer=It(function f(w){s.state=1,s.timer.restart(h,s.delay,s.time),s.delay<=w&&h(w-s.delay)},0,s.time)}(n,s,{name:i,index:a,group:l,on:al,tween:la,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:0})}function Oi(n,i){var s=Le(n,i);if(s.state>0)throw new Error("too late; already scheduled");return s}function Ge(n,i){var s=Le(n,i);if(s.state>3)throw new Error("too late; already running");return s}function Le(n,i){var s=n.__transition;if(!s||!(s=s[i]))throw new Error("transition not found");return s}function Ye(n,i){return n=+n,i=+i,function(s){return n*(1-s)+i*s}}var Qe,Ze=180/Math.PI,Fo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qo(n,i,s,a,l,f){var h,g,_;return(h=Math.sqrt(n*n+i*i))&&(n/=h,i/=h),(_=n*s+i*a)&&(s-=n*_,a-=i*_),(g=Math.sqrt(s*s+a*a))&&(s/=g,a/=g,_/=g),n*a<i*s&&(n=-n,i=-i,_=-_,h=-h),{translateX:l,translateY:f,rotate:Math.atan2(i,n)*Ze,skewX:Math.atan(_)*Ze,scaleX:h,scaleY:g}}function Dt(n,i,s,a){function l(w){return w.length?w.pop()+" ":""}return function(w,m){var b=[],M=[];return w=n(w),m=n(m),function f(w,m,b,M,E,N){if(w!==b||m!==M){var Q=E.push("translate(",null,i,null,s);N.push({i:Q-4,x:Ye(w,b)},{i:Q-2,x:Ye(m,M)})}else(b||M)&&E.push("translate("+b+i+M+s)}(w.translateX,w.translateY,m.translateX,m.translateY,b,M),function h(w,m,b,M){w!==m?(w-m>180?m+=360:m-w>180&&(w+=360),M.push({i:b.push(l(b)+"rotate(",null,a)-2,x:Ye(w,m)})):m&&b.push(l(b)+"rotate("+m+a)}(w.rotate,m.rotate,b,M),function g(w,m,b,M){w!==m?M.push({i:b.push(l(b)+"skewX(",null,a)-2,x:Ye(w,m)}):m&&b.push(l(b)+"skewX("+m+a)}(w.skewX,m.skewX,b,M),function _(w,m,b,M,E,N){if(w!==b||m!==M){var Q=E.push(l(E)+"scale(",null,",",null,")");N.push({i:Q-4,x:Ye(w,b)},{i:Q-2,x:Ye(m,M)})}else(1!==b||1!==M)&&E.push(l(E)+"scale("+b+","+M+")")}(w.scaleX,w.scaleY,m.scaleX,m.scaleY,b,M),w=m=null,function(E){for(var k,N=-1,Q=M.length;++N<Q;)b[(k=M[N]).i]=k.x(E);return b.join("")}}}var Ln=Dt(function ki(n){const i=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return i.isIdentity?Fo:qo(i.a,i.b,i.c,i.d,i.e,i.f)},"px, ","px)","deg)"),Ho=Dt(function No(n){return null!=n&&(Qe||(Qe=document.createElementNS("http://www.w3.org/2000/svg","g")),Qe.setAttribute("transform",n),n=Qe.transform.baseVal.consolidate())?qo((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):Fo},", ",")",")");function ul(n,i){var s,a;return function(){var l=Ge(this,n),f=l.tween;if(f!==s)for(var h=0,g=(a=s=f).length;h<g;++h)if(a[h].name===i){(a=a.slice()).splice(h,1);break}l.tween=a}}function Bo(n,i,s){var a,l;if("function"!=typeof s)throw new Error;return function(){var f=Ge(this,n),h=f.tween;if(h!==a){l=(a=h).slice();for(var g={name:i,value:s},_=0,w=l.length;_<w;++_)if(l[_].name===i){l[_]=g;break}_===w&&l.push(g)}f.tween=l}}function Jo(n,i,s){var a=n._id;return n.each(function(){var l=Ge(this,a);(l.value||(l.value={}))[i]=s.apply(this,arguments)}),function(l){return Le(l,a).value[i]}}function Wo(n,i,s){n.prototype=i.prototype=s,s.constructor=n}function $o(n,i){var s=Object.create(n.prototype);for(var a in i)s[a]=i[a];return s}function Un(){}var Pi=1/.7,Wn="\\s*([+-]?\\d+)\\s*",yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Go=/^#([0-9a-f]{3,8})$/,pa=new RegExp(`^rgb\\(${Wn},${Wn},${Wn}\\)$`),cl=new RegExp(`^rgb\\(${Ue},${Ue},${Ue}\\)$`),Yo=new RegExp(`^rgba\\(${Wn},${Wn},${Wn},${yr}\\)$`),Qo=new RegExp(`^rgba\\(${Ue},${Ue},${Ue},${yr}\\)$`),fl=new RegExp(`^hsl\\(${yr},${Ue},${Ue}\\)$`),ga=new RegExp(`^hsla\\(${yr},${Ue},${Ue},${yr}\\)$`),ye={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Li(){return this.rgb().formatHex()}function Xo(){return this.rgb().formatRgb()}function $n(n){var i,s;return n=(n+"").trim().toLowerCase(),(i=Go.exec(n))?(s=i[1].length,i=parseInt(i[1],16),6===s?_a(i):3===s?new Yt(i>>8&15|i>>4&240,i>>4&15|240&i,(15&i)<<4|15&i,1):8===s?Ui(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):4===s?Ui(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|240&i,((15&i)<<4|15&i)/255):null):(i=pa.exec(n))?new Yt(i[1],i[2],i[3],1):(i=cl.exec(n))?new Yt(255*i[1]/100,255*i[2]/100,255*i[3]/100,1):(i=Yo.exec(n))?Ui(i[1],i[2],i[3],i[4]):(i=Qo.exec(n))?Ui(255*i[1]/100,255*i[2]/100,255*i[3]/100,i[4]):(i=fl.exec(n))?va(i[1],i[2]/100,i[3]/100,1):(i=ga.exec(n))?va(i[1],i[2]/100,i[3]/100,i[4]):ye.hasOwnProperty(n)?_a(ye[n]):"transparent"===n?new Yt(NaN,NaN,NaN,0):null}function _a(n){return new Yt(n>>16&255,n>>8&255,255&n,1)}function Ui(n,i,s,a){return a<=0&&(n=i=s=NaN),new Yt(n,i,s,a)}function hl(n){return n instanceof Un||(n=$n(n)),n?new Yt((n=n.rgb()).r,n.g,n.b,n.opacity):new Yt}function Ii(n,i,s,a){return 1===arguments.length?hl(n):new Yt(n,i,s,null==a?1:a)}function Yt(n,i,s,a){this.r=+n,this.g=+i,this.b=+s,this.opacity=+a}function ma(){return`#${on(this.r)}${on(this.g)}${on(this.b)}`}function Ri(){const n=Br(this.opacity);return`${1===n?"rgb(":"rgba("}${we(this.r)}, ${we(this.g)}, ${we(this.b)}${1===n?")":`, ${n})`}`}function Br(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function we(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function on(n){return((n=we(n))<16?"0":"")+n.toString(16)}function va(n,i,s,a){return a<=0?n=i=s=NaN:s<=0||s>=1?n=i=NaN:i<=0&&(n=NaN),new ue(n,i,s,a)}function ya(n){if(n instanceof ue)return new ue(n.h,n.s,n.l,n.opacity);if(n instanceof Un||(n=$n(n)),!n)return new ue;if(n instanceof ue)return n;var i=(n=n.rgb()).r/255,s=n.g/255,a=n.b/255,l=Math.min(i,s,a),f=Math.max(i,s,a),h=NaN,g=f-l,_=(f+l)/2;return g?(h=i===f?(s-a)/g+6*(s<a):s===f?(a-i)/g+2:(i-s)/g+4,g/=_<.5?f+l:2-f-l,h*=60):g=_>0&&_<1?0:h,new ue(h,g,_,n.opacity)}function ue(n,i,s,a){this.h=+n,this.s=+i,this.l=+s,this.opacity=+a}function Ie(n){return(n=(n||0)%360)<0?n+360:n}function Jr(n){return Math.max(0,Math.min(1,n||0))}function Ko(n,i,s){return 255*(n<60?i+(s-i)*n/60:n<180?s:n<240?i+(s-i)*(240-n)/60:i)}function wa(n,i,s,a,l){var f=n*n,h=f*n;return((1-3*n+3*f-h)*i+(4-6*f+3*h)*s+(1+3*n+3*f-3*h)*a+h*l)/6}Wo(Un,$n,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Li,formatHex:Li,formatHex8:function Hr(){return this.rgb().formatHex8()},formatHsl:function da(){return ya(this).formatHsl()},formatRgb:Xo,toString:Xo}),Wo(Yt,Ii,$o(Un,{brighter(n){return n=null==n?Pi:Math.pow(Pi,n),new Yt(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Yt(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Yt(we(this.r),we(this.g),we(this.b),Br(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ma,formatHex:ma,formatHex8:function pl(){return`#${on(this.r)}${on(this.g)}${on(this.b)}${on(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ri,toString:Ri})),Wo(ue,function gl(n,i,s,a){return 1===arguments.length?ya(n):new ue(n,i,s,null==a?1:a)},$o(Un,{brighter(n){return n=null==n?Pi:Math.pow(Pi,n),new ue(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new ue(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),i=isNaN(n)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*i,l=2*s-a;return new Yt(Ko(n>=240?n-240:n+120,l,a),Ko(n,l,a),Ko(n<120?n+240:n-120,l,a),this.opacity)},clamp(){return new ue(Ie(this.h),Jr(this.s),Jr(this.l),Br(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Br(this.opacity);return`${1===n?"hsl(":"hsla("}${Ie(this.h)}, ${100*Jr(this.s)}%, ${100*Jr(this.l)}%${1===n?")":`, ${n})`}`}}));const Vo=n=>()=>n;function J(n,i){var s=i-n;return s?function Wr(n,i){return function(s){return n+s*i}}(n,s):Vo(isNaN(n)?i:n)}const lt=function n(i){var s=function Z(n){return 1==(n=+n)?J:function(i,s){return s-i?function A(n,i,s){return n=Math.pow(n,s),i=Math.pow(i,s)-n,s=1/s,function(a){return Math.pow(n+a*i,s)}}(i,s,n):Vo(isNaN(i)?s:i)}}(i);function a(l,f){var h=s((l=Ii(l)).r,(f=Ii(f)).r),g=s(l.g,f.g),_=s(l.b,f.b),w=J(l.opacity,f.opacity);return function(m){return l.r=h(m),l.g=g(m),l.b=_(m),l.opacity=w(m),l+""}}return a.gamma=n,a}(1);function Et(n){return function(i){var h,g,s=i.length,a=new Array(s),l=new Array(s),f=new Array(s);for(h=0;h<s;++h)g=Ii(i[h]),a[h]=g.r||0,l[h]=g.g||0,f[h]=g.b||0;return a=n(a),l=n(l),f=n(f),g.opacity=1,function(_){return g.r=a(_),g.g=l(_),g.b=f(_),g+""}}}Et(function dl(n){var i=n.length-1;return function(s){var a=s<=0?s=0:s>=1?(s=1,i-1):Math.floor(s*i),l=n[a],f=n[a+1];return wa((s-a/i)*i,a>0?n[a-1]:2*l-f,l,f,a<i-1?n[a+2]:2*f-l)}}),Et(function _l(n){var i=n.length;return function(s){var a=Math.floor(((s%=1)<0?++s:s)*i);return wa((s-a/i)*i,n[(a+i-1)%i],n[a%i],n[(a+1)%i],n[(a+2)%i])}});var $r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jo=new RegExp($r.source,"g");function xa(n,i){var a,l,f,s=$r.lastIndex=jo.lastIndex=0,h=-1,g=[],_=[];for(n+="",i+="";(a=$r.exec(n))&&(l=jo.exec(i));)(f=l.index)>s&&(f=i.slice(s,f),g[h]?g[h]+=f:g[++h]=f),(a=a[0])===(l=l[0])?g[h]?g[h]+=l:g[++h]=l:(g[++h]=null,_.push({i:h,x:Ye(a,l)})),s=jo.lastIndex;return s<i.length&&(f=i.slice(s),g[h]?g[h]+=f:g[++h]=f),g.length<2?_[0]?function zi(n){return function(i){return n(i)+""}}(_[0].x):function Re(n){return function(){return n}}(i):(i=_.length,function(w){for(var b,m=0;m<i;++m)g[(b=_[m]).i]=b.x(w);return g.join("")})}function Gn(n,i){var s;return("number"==typeof i?Ye:i instanceof $n?lt:(s=$n(i))?(i=s,lt):xa)(n,i)}function Di(n){return function(){this.removeAttribute(n)}}function Fi(n){return function(){this.removeAttributeNS(n.space,n.local)}}function kt(n,i,s){var a,f,l=s+"";return function(){var h=this.getAttribute(n);return h===l?null:h===a?f:f=i(a=h,s)}}function ml(n,i,s){var a,f,l=s+"";return function(){var h=this.getAttributeNS(n.space,n.local);return h===l?null:h===a?f:f=i(a=h,s)}}function ba(n,i,s){var a,l,f;return function(){var h,_,g=s(this);return null==g?void this.removeAttribute(n):(h=this.getAttribute(n))===(_=g+"")?null:h===a&&_===l?f:(l=_,f=i(a=h,g))}}function qi(n,i,s){var a,l,f;return function(){var h,_,g=s(this);return null==g?void this.removeAttributeNS(n.space,n.local):(h=this.getAttributeNS(n.space,n.local))===(_=g+"")?null:h===a&&_===l?f:(l=_,f=i(a=h,g))}}function yl(n,i){return function(s){this.setAttribute(n,i.call(this,s))}}function wl(n,i){return function(s){this.setAttributeNS(n.space,n.local,i.call(this,s))}}function Ni(n,i){var s,a;function l(){var f=i.apply(this,arguments);return f!==a&&(s=(a=f)&&wl(n,f)),s}return l._value=i,l}function In(n,i){var s,a;function l(){var f=i.apply(this,arguments);return f!==a&&(s=(a=f)&&yl(n,f)),s}return l._value=i,l}function Aa(n,i){return function(){Oi(this,n).delay=+i.apply(this,arguments)}}function Bi(n,i){return i=+i,function(){Oi(this,n).delay=i}}function Ma(n,i){return function(){Ge(this,n).duration=+i.apply(this,arguments)}}function Ji(n,i){return i=+i,function(){Ge(this,n).duration=i}}function Gr(n,i){if("function"!=typeof i)throw new Error;return function(){Ge(this,n).ease=i}}function Gi(n,i,s){var a,l,f=function $i(n){return(n+"").trim().split(/^|\s+/).every(function(i){var s=i.indexOf(".");return s>=0&&(i=i.slice(0,s)),!i||"start"===i})}(i)?Oi:Ge;return function(){var h=f(this,n),g=h.on;g!==a&&(l=(a=g).copy()).on(i,s),h.on=l}}var Qt=nn.prototype.constructor;function Ea(n){return function(){this.style.removeProperty(n)}}function ns(n,i,s){return function(a){this.style.setProperty(n,i.call(this,a),s)}}function wr(n,i,s){var a,l;function f(){var h=i.apply(this,arguments);return h!==l&&(a=(l=h)&&ns(n,h,s)),a}return f._value=i,f}function Sl(n){return function(i){this.textContent=n.call(this,i)}}function Ol(n){var i,s;function a(){var l=n.apply(this,arguments);return l!==s&&(i=(s=l)&&Sl(l)),i}return a._value=n,a}var Qi=0;function Ee(n,i,s,a){this._groups=n,this._parents=i,this._name=s,this._id=a}function p(){return++Qi}var xe=nn.prototype;Ee.prototype=function Oa(n){return nn().transition(n)}.prototype={constructor:Ee,select:function Ml(n){var i=this._name,s=this._id;"function"!=typeof n&&(n=Bn(n));for(var a=this._groups,l=a.length,f=new Array(l),h=0;h<l;++h)for(var m,b,g=a[h],_=g.length,w=f[h]=new Array(_),M=0;M<_;++M)(m=g[M])&&(b=n.call(m,m.__data__,M,g))&&("__data__"in m&&(b.__data__=m.__data__),w[M]=b,Nr(w[M],i,s,M,w,Le(m,s)));return new Ee(f,this._parents,i,s)},selectAll:function Cl(n){var i=this._name,s=this._id;"function"!=typeof n&&(n=di(n));for(var a=this._groups,l=a.length,f=[],h=[],g=0;g<l;++g)for(var m,_=a[g],w=_.length,b=0;b<w;++b)if(m=_[b]){for(var E,M=n.call(m,m.__data__,b,_),N=Le(m,s),Q=0,k=M.length;Q<k;++Q)(E=M[Q])&&Nr(E,i,s,Q,M,N);f.push(M),h.push(m)}return new Ee(f,h,i,s)},selectChild:xe.selectChild,selectChildren:xe.selectChildren,filter:function bl(n){"function"!=typeof n&&(n=Or(n));for(var i=this._groups,s=i.length,a=new Array(s),l=0;l<s;++l)for(var _,f=i[l],h=f.length,g=a[l]=[],w=0;w<h;++w)(_=f[w])&&n.call(_,_.__data__,w,f)&&g.push(_);return new Ee(a,this._parents,this._name,this._id)},merge:function Al(n){if(n._id!==this._id)throw new Error;for(var i=this._groups,s=n._groups,a=i.length,f=Math.min(a,s.length),h=new Array(a),g=0;g<f;++g)for(var M,_=i[g],w=s[g],m=_.length,b=h[g]=new Array(m),E=0;E<m;++E)(M=_[E]||w[E])&&(b[E]=M);for(;g<a;++g)h[g]=i[g];return new Ee(h,this._parents,this._name,this._id)},selection:function le(){return new Qt(this._groups,this._parents)},transition:function Pl(){for(var n=this._name,i=this._id,s=p(),a=this._groups,l=a.length,f=0;f<l;++f)for(var _,h=a[f],g=h.length,w=0;w<g;++w)if(_=h[w]){var m=Le(_,i);Nr(_,n,s,w,h,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Ee(a,this._parents,n,s)},call:xe.call,nodes:xe.nodes,node:xe.node,size:xe.size,empty:xe.empty,each:xe.each,on:function ts(n,i){var s=this._id;return arguments.length<2?Le(this.node(),s).on.on(n):this.each(Gi(s,n,i))},attr:function vl(n,i){var s=dr(n),a="transform"===s?Ho:Gn;return this.attrTween(n,"function"==typeof i?(s.local?qi:ba)(s,a,Jo(this,"attr."+n,i)):null==i?(s.local?Fi:Di)(s):(s.local?ml:kt)(s,a,i))},attrTween:function Hi(n,i){var s="attr."+n;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(null==i)return this.tween(s,null);if("function"!=typeof i)throw new Error;var a=dr(n);return this.tween(s,(a.local?Ni:In)(a,i))},style:function Yr(n,i,s){var a="transform"==(n+="")?Ln:Gn;return null==i?this.styleTween(n,function Zl(n,i){var s,a,l;return function(){var f=_r(this,n),h=(this.style.removeProperty(n),_r(this,n));return f===h?null:f===s&&h===a?l:l=i(s=f,a=h)}}(n,a)).on("end.style."+n,Ea(n)):"function"==typeof i?this.styleTween(n,function El(n,i,s){var a,l,f;return function(){var h=_r(this,n),g=s(this),_=g+"";return null==g&&(this.style.removeProperty(n),_=g=_r(this,n)),h===_?null:h===a&&_===l?f:(l=_,f=i(a=h,g))}}(n,a,Jo(this,"style."+n,i))).each(function es(n,i){var s,a,l,g,f="style."+i,h="end."+f;return function(){var _=Ge(this,n),w=_.on,m=null==_.value[f]?g||(g=Ea(i)):void 0;(w!==s||l!==m)&&(a=(s=w).copy()).on(h,l=m),_.on=a}}(this._id,n)):this.styleTween(n,function Sa(n,i,s){var a,f,l=s+"";return function(){var h=_r(this,n);return h===l?null:h===a?f:f=i(a=h,s)}}(n,a,i),s).on("end.style."+n,null)},styleTween:function Qr(n,i,s){var a="style."+(n+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==i)return this.tween(a,null);if("function"!=typeof i)throw new Error;return this.tween(a,wr(n,i,null==s?"":s))},text:function xr(n){return this.tween("text","function"==typeof n?function Yi(n){return function(){var i=n(this);this.textContent=null==i?"":i}}(Jo(this,"text",n)):function Xr(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function kl(n){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,Ol(n))},remove:function Za(){return this.on("end.remove",function Tl(n){return function(){var i=this.parentNode;for(var s in this.__transition)if(+s!==n)return;i&&i.removeChild(this)}}(this._id))},tween:function ll(n,i){var s=this._id;if(n+="",arguments.length<2){for(var h,a=Le(this.node(),s).tween,l=0,f=a.length;l<f;++l)if((h=a[l]).name===n)return h.value;return null}return this.each((null==i?ul:Bo)(s,n,i))},delay:function Ta(n){var i=this._id;return arguments.length?this.each(("function"==typeof n?Aa:Bi)(i,n)):Le(this.node(),i).delay},duration:function Ca(n){var i=this._id;return arguments.length?this.each(("function"==typeof n?Ma:Ji)(i,n)):Le(this.node(),i).duration},ease:function Yn(n){var i=this._id;return arguments.length?this.each(Gr(i,n)):Le(this.node(),i).ease},easeVarying:function xl(n){if("function"!=typeof n)throw new Error;return this.each(function Wi(n,i){return function(){var s=i.apply(this,arguments);if("function"!=typeof s)throw new Error;Ge(this,n).ease=s}}(this._id,n))},end:function Ll(){var n,i,s=this,a=s._id,l=s.size();return new Promise(function(f,h){var g={value:h},_={value:function(){0==--l&&f()}};s.each(function(){var w=Ge(this,a),m=w.on;m!==n&&((i=(n=m).copy())._.cancel.push(g),i._.interrupt.push(g),i._.end.push(_)),w.on=i}),0===l&&f()})},[Symbol.iterator]:xe[Symbol.iterator]};var Ul={time:null,delay:0,duration:250,ease:function bt(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function Il(n,i){for(var s;!(s=n.__transition)||!(s=s[i]);)if(!(n=n.parentNode))throw new Error(`transition ${i} not found`);return s}nn.prototype.interrupt=function Ce(n){return this.each(function(){!function ha(n,i){var a,l,h,s=n.__transition,f=!0;if(s){for(h in i=null==i?null:i+"",s)(a=s[h]).name===i?(l=a.state>2&&a.state<5,a.state=6,a.timer.stop(),a.on.call(l?"interrupt":"cancel",n,n.__data__,a.index,a.group),delete s[h]):f=!1;f&&delete n.__transition}}(this,n)})},nn.prototype.transition=function Rl(n){var i,s;n instanceof Ee?(i=n._id,n=n._name):(i=p(),(s=Ul).time=Ro(),n=null==n?null:n+"");for(var a=this._groups,l=a.length,f=0;f<l;++f)for(var _,h=a[f],g=h.length,w=0;w<g;++w)(_=h[w])&&Nr(_,n,i,w,h,s||Il(_,i));return new Ee(a,this._parents,n,i)};Math;function Kr(n){return{type:n}}["w","e"].map(Kr),["n","s"].map(Kr),["n","w","e","s","nw","ne","sw","se"].map(Kr);var ss={},as={};function Vr(n){return new Function("d","return {"+n.map(function(i,s){return JSON.stringify(i)+": d["+s+'] || ""'}).join(",")+"}")}function ls(n){var i=Object.create(null),s=[];return n.forEach(function(a){for(var l in a)l in i||s.push(i[l]=l)}),s}function be(n,i){var s=n+"",a=s.length;return a<i?new Array(i-a+1).join(0)+s:s}function zn(n){var i=new RegExp('["'+n+"\n\r]"),s=n.charCodeAt(0);function l(b,M){var S,E=[],N=b.length,Q=0,k=0,z=N<=0,R=!1;function X(){if(z)return as;if(R)return R=!1,ss;var K,ht,V=Q;if(34===b.charCodeAt(V)){for(;Q++<N&&34!==b.charCodeAt(Q)||34===b.charCodeAt(++Q););return(K=Q)>=N?z=!0:10===(ht=b.charCodeAt(Q++))?R=!0:13===ht&&(R=!0,10===b.charCodeAt(Q)&&++Q),b.slice(V+1,K-1).replace(/""/g,'"')}for(;Q<N;){if(10===(ht=b.charCodeAt(K=Q++)))R=!0;else if(13===ht)R=!0,10===b.charCodeAt(Q)&&++Q;else if(ht!==s)continue;return b.slice(V,K)}return z=!0,b.slice(V,N)}for(10===b.charCodeAt(N-1)&&--N,13===b.charCodeAt(N-1)&&--N;(S=X())!==as;){for(var G=[];S!==ss&&S!==as;)G.push(S),S=X();M&&null==(G=M(G,k++))||E.push(G)}return E}function f(b,M){return b.map(function(E){return M.map(function(N){return m(E[N])}).join(n)})}function w(b){return b.map(m).join(n)}function m(b){return null==b?"":b instanceof Date?function cs(n){var i=n.getUTCHours(),s=n.getUTCMinutes(),a=n.getUTCSeconds(),l=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":function yn(n){return n<0?"-"+be(-n,6):n>9999?"+"+be(n,6):be(n,4)}(n.getUTCFullYear())+"-"+be(n.getUTCMonth()+1,2)+"-"+be(n.getUTCDate(),2)+(l?"T"+be(i,2)+":"+be(s,2)+":"+be(a,2)+"."+be(l,3)+"Z":a?"T"+be(i,2)+":"+be(s,2)+":"+be(a,2)+"Z":s||i?"T"+be(i,2)+":"+be(s,2)+"Z":"")}(b):i.test(b+="")?'"'+b.replace(/"/g,'""')+'"':b}return{parse:function a(b,M){var E,N,Q=l(b,function(k,S){if(E)return E(k,S-1);N=k,E=M?function Bl(n,i){var s=Vr(n);return function(a,l){return i(s(a),l,n)}}(k,M):Vr(k)});return Q.columns=N||[],Q},parseRows:l,format:function h(b,M){return null==M&&(M=ls(b)),[M.map(m).join(n)].concat(f(b,M)).join("\n")},formatBody:function g(b,M){return null==M&&(M=ls(b)),f(b,M).join("\n")},formatRows:function _(b){return b.map(w).join("\n")},formatRow:w,formatValue:m}}var Jl=zn(",").parse,Yl=zn("\t").parse;function to(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.text()}function Dn(n,i){return fetch(n,i).then(to)}function fs(n){return function(i,s,a){return 2===arguments.length&&"function"==typeof s&&(a=s,s=void 0),Dn(i,s).then(function(l){return n(l,a)})}}var eo=fs(Jl);function Kl(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);if(204!==n.status&&205!==n.status)return n.json()}function jr(n){return(i,s)=>Dn(i,s).then(a=>(new DOMParser).parseFromString(a,n))}fs(Yl);const an=jr("application/xml");function ro(n,i){if((s=(n=i?n.toExponential(i-1):n.toExponential()).indexOf("e"))<0)return null;var s,a=n.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+n.slice(s+1)]}function un(n){return(n=ro(Math.abs(n)))?n[1]:NaN}jr("text/html"),jr("image/svg+xml");var za,hs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ti(n){if(!(i=hs.exec(n)))throw new Error("invalid format: "+n);var i;return new ps({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function ps(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function io(n,i){var s=ro(n,i);if(!s)return n+"";var a=s[0],l=s[1];return l<0?"0."+new Array(-l).join("0")+a:a.length>l+1?a.slice(0,l+1)+"."+a.slice(l+1):a+new Array(l-a.length+2).join("0")}ti.prototype=ps.prototype,ps.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Fa={"%":(n,i)=>(100*n).toFixed(i),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function tc(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,i)=>n.toExponential(i),f:(n,i)=>n.toFixed(i),g:(n,i)=>n.toPrecision(i),o:n=>Math.round(n).toString(8),p:(n,i)=>io(100*n,i),r:io,s:function Da(n,i){var s=ro(n,i);if(!s)return n+"";var a=s[0],l=s[1],f=l-(za=3*Math.max(-8,Math.min(8,Math.floor(l/3))))+1,h=a.length;return f===h?a:f>h?a+new Array(f-h+1).join("0"):f>0?a.slice(0,f)+"."+a.slice(f):"0."+new Array(1-f).join("0")+ro(n,Math.max(0,i+f-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function oo(n){return n}var jn,ei,_s,gs=Array.prototype.map,ds=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ms(n,i){var h,s=i?i.length:0,a=n?Math.min(s,n.length):0,l=new Array(a),f=new Array(s);for(h=0;h<a;++h)l[h]=so(n[h],i[h]);for(;h<s;++h)f[h]=i[h];return function(g){for(h=0;h<a;++h)f[h]=l[h](g);return f}}function ic(n,i){var s=new Date;return n=+n,i=+i,function(a){return s.setTime(n*(1-a)+i*a),s}}function vs(n,i){var l,s={},a={};for(l in(null===n||"object"!=typeof n)&&(n={}),(null===i||"object"!=typeof i)&&(i={}),i)l in n?s[l]=so(n[l],i[l]):a[l]=i[l];return function(f){for(l in s)a[l]=s[l](f);return a}}function Ha(n,i){i||(i=[]);var l,s=n?Math.min(i.length,n.length):0,a=i.slice();return function(f){for(l=0;l<s;++l)a[l]=n[l]*(1-f)+i[l]*f;return a}}function so(n,i){var a,s=typeof i;return null==i||"boolean"===s?Vo(i):("number"===s?Ye:"string"===s?(a=$n(i))?(i=a,lt):xa:i instanceof $n?lt:i instanceof Date?ic:function ys(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(i)?Ha:Array.isArray(i)?ms:"function"!=typeof i.valueOf&&"function"!=typeof i.toString||isNaN(i)?vs:Ye)(n,i)}function ws(n,i,s){n=+n,i=+i,s=(l=arguments.length)<2?(i=n,n=0,1):l<3?1:+s;for(var a=-1,l=0|Math.max(0,Math.ceil((i-n)/s)),f=new Array(l);++a<l;)f[a]=n+a*s;return f}function gt(n,i){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(i).domain(n)}return this}!function Na(n){jn=function qa(n){var i=void 0===n.grouping||void 0===n.thousands?oo:function ec(n,i){return function(s,a){for(var l=s.length,f=[],h=0,g=n[0],_=0;l>0&&g>0&&(_+g+1>a&&(g=Math.max(1,a-_)),f.push(s.substring(l-=g,l+g)),!((_+=g+1)>a));)g=n[h=(h+1)%n.length];return f.reverse().join(i)}}(gs.call(n.grouping,Number),n.thousands+""),s=void 0===n.currency?"":n.currency[0]+"",a=void 0===n.currency?"":n.currency[1]+"",l=void 0===n.decimal?".":n.decimal+"",f=void 0===n.numerals?oo:function nc(n){return function(i){return i.replace(/[0-9]/g,function(s){return n[+s]})}}(gs.call(n.numerals,String)),h=void 0===n.percent?"%":n.percent+"",g=void 0===n.minus?"\u2212":n.minus+"",_=void 0===n.nan?"NaN":n.nan+"";function w(b){var M=(b=ti(b)).fill,E=b.align,N=b.sign,Q=b.symbol,k=b.zero,S=b.width,z=b.comma,R=b.precision,X=b.trim,G=b.type;"n"===G?(z=!0,G="g"):Fa[G]||(void 0===R&&(R=12),X=!0,G="g"),(k||"0"===M&&"="===E)&&(k=!0,M="0",E="=");var K="$"===Q?s:"#"===Q&&/[boxX]/.test(G)?"0"+G.toLowerCase():"",V="$"===Q?a:/[%p]/.test(G)?h:"",ht=Fa[G],At=/[defgprs%]/.test(G);function ft(W){var C,H,P,Mt=K,vt=V;if("c"===G)vt=ht(W)+vt,W="";else{var D=(W=+W)<0||1/W<0;if(W=isNaN(W)?_:ht(Math.abs(W),R),X&&(W=function rc(n){t:for(var l,i=n.length,s=1,a=-1;s<i;++s)switch(n[s]){case".":a=l=s;break;case"0":0===a&&(a=s),l=s;break;default:if(!+n[s])break t;a>0&&(a=0)}return a>0?n.slice(0,a)+n.slice(l+1):n}(W)),D&&0==+W&&"+"!==N&&(D=!1),Mt=(D?"("===N?N:g:"-"===N||"("===N?"":N)+Mt,vt=("s"===G?ds[8+za/3]:"")+vt+(D&&"("===N?")":""),At)for(C=-1,H=W.length;++C<H;)if(48>(P=W.charCodeAt(C))||P>57){vt=(46===P?l+W.slice(C+1):W.slice(C))+vt,W=W.slice(0,C);break}}z&&!k&&(W=i(W,1/0));var et=Mt.length+W.length+vt.length,B=et<S?new Array(S-et+1).join(M):"";switch(z&&k&&(W=i(B+W,B.length?S-vt.length:1/0),B=""),E){case"<":W=Mt+W+vt+B;break;case"=":W=Mt+B+W+vt;break;case"^":W=B.slice(0,et=B.length>>1)+Mt+W+vt+B.slice(et);break;default:W=B+Mt+W+vt}return f(W)}return R=void 0===R?6:/[gprs]/.test(G)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R)),ft.toString=function(){return b+""},ft}return{format:w,formatPrefix:function m(b,M){var E=w(((b=ti(b)).type="f",b)),N=3*Math.max(-8,Math.min(8,Math.floor(un(M)/3))),Q=Math.pow(10,-N),k=ds[8+N/3];return function(S){return E(Q*S)+k}}}}(n),ei=jn.format,_s=jn.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class Ba extends Map{constructor(i,s=Oe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),null!=i)for(const[a,l]of i)this.set(a,l)}get(i){return super.get(uo(this,i))}has(i){return super.has(uo(this,i))}set(i,s){return super.set(function Ja({_intern:n,_key:i},s){const a=i(s);return n.has(a)?n.get(a):(n.set(a,s),s)}(this,i),s)}delete(i){return super.delete(function Wa({_intern:n,_key:i},s){const a=i(s);return n.has(a)&&(s=n.get(a),n.delete(a)),s}(this,i))}}function uo({_intern:n,_key:i},s){const a=i(s);return n.has(a)?n.get(a):s}function Oe(n){return null!==n&&"object"==typeof n?n.valueOf():n}Set;const $a=Symbol("implicit");function ni(){var n=new Ba,i=[],s=[],a=$a;function l(f){let h=n.get(f);if(void 0===h){if(a!==$a)return a;n.set(f,h=i.push(f)-1)}return s[h%s.length]}return l.domain=function(f){if(!arguments.length)return i.slice();i=[],n=new Ba;for(const h of f)n.has(h)||n.set(h,i.push(h)-1);return l},l.range=function(f){return arguments.length?(s=Array.from(f),l):s.slice()},l.unknown=function(f){return arguments.length?(a=f,l):a},l.copy=function(){return ni(i,s).unknown(a)},gt.apply(l,arguments),l}function ri(){var f,h,n=ni().unknown(void 0),i=n.domain,s=n.range,a=0,l=1,g=!1,_=0,w=0,m=.5;function b(){var M=i().length,E=l<a,N=E?l:a,Q=E?a:l;f=(Q-N)/Math.max(1,M-_+2*w),g&&(f=Math.floor(f)),N+=(Q-N-f*(M-_))*m,h=f*(1-_),g&&(N=Math.round(N),h=Math.round(h));var k=ws(M).map(function(S){return N+f*S});return s(E?k.reverse():k)}return delete n.unknown,n.domain=function(M){return arguments.length?(i(M),b()):i()},n.range=function(M){return arguments.length?([a,l]=M,a=+a,l=+l,b()):[a,l]},n.rangeRound=function(M){return[a,l]=M,a=+a,l=+l,g=!0,b()},n.bandwidth=function(){return h},n.step=function(){return f},n.round=function(M){return arguments.length?(g=!!M,b()):g},n.padding=function(M){return arguments.length?(_=Math.min(1,w=+M),b()):_},n.paddingInner=function(M){return arguments.length?(_=Math.min(1,M),b()):_},n.paddingOuter=function(M){return arguments.length?(w=+M,b()):w},n.align=function(M){return arguments.length?(m=Math.max(0,Math.min(1,M)),b()):m},n.copy=function(){return ri(i(),[a,l]).round(g).paddingInner(_).paddingOuter(w).align(m)},gt.apply(b(),arguments)}var _e=Math.sqrt(50),ln=Math.sqrt(10),ii=Math.sqrt(2);function oi(n,i,s){var a=(i-n)/Math.max(0,s),l=Math.floor(Math.log(a)/Math.LN10),f=a/Math.pow(10,l);return l>=0?(f>=_e?10:f>=ln?5:f>=ii?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(f>=_e?10:f>=ln?5:f>=ii?2:1)}const As=qe(hr).right,Fn=(qe(function bs(n){return null===n?NaN:+n}),As);function Qa(n,i){return n=+n,i=+i,function(s){return Math.round(n*(1-s)+i*s)}}function Ts(n){return+n}var Ka=[0,1];function Tr(n){return n}function Ms(n,i){return(i-=n=+n)?function(s){return(s-n)/i}:function Xa(n){return function(){return n}}(isNaN(i)?NaN:.5)}function ja(n,i,s){var a=n[0],l=n[1],f=i[0],h=i[1];return l<a?(a=Ms(l,a),f=s(h,f)):(a=Ms(a,l),f=s(f,h)),function(g){return f(a(g))}}function ac(n,i,s){var a=Math.min(n.length,i.length)-1,l=new Array(a),f=new Array(a),h=-1;for(n[a]<n[0]&&(n=n.slice().reverse(),i=i.slice().reverse());++h<a;)l[h]=Ms(n[h],n[h+1]),f[h]=s(i[h],i[h+1]);return function(g){var _=Fn(n,g,1,a)-1;return f[_](l[_](g))}}function tu(n,i){return i.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Te(){return function eu(){var a,l,f,g,_,w,n=Ka,i=Ka,s=so,h=Tr;function m(){var M=Math.min(n.length,i.length);return h!==Tr&&(h=function Va(n,i){var s;return n>i&&(s=n,n=i,i=s),function(a){return Math.max(n,Math.min(i,a))}}(n[0],n[M-1])),g=M>2?ac:ja,_=w=null,b}function b(M){return null==M||isNaN(M=+M)?f:(_||(_=g(n.map(a),i,s)))(a(h(M)))}return b.invert=function(M){return h(l((w||(w=g(i,n.map(a),Ye)))(M)))},b.domain=function(M){return arguments.length?(n=Array.from(M,Ts),m()):n.slice()},b.range=function(M){return arguments.length?(i=Array.from(M),m()):i.slice()},b.rangeRound=function(M){return i=Array.from(M),s=Qa,m()},b.clamp=function(M){return arguments.length?(h=!!M||Tr,m()):h!==Tr},b.interpolate=function(M){return arguments.length?(s=M,m()):s},b.unknown=function(M){return arguments.length?(f=M,b):f},function(M,E){return a=M,l=E,m()}}()(Tr,Tr)}function Mr(n){var i=n.domain;return n.ticks=function(s){var a=i();return function Ga(n,i,s){var a,f,h,g,l=-1;if(s=+s,(n=+n)==(i=+i)&&s>0)return[n];if((a=i<n)&&(f=n,n=i,i=f),0===(g=oi(n,i,s))||!isFinite(g))return[];if(g>0){let _=Math.round(n/g),w=Math.round(i/g);for(_*g<n&&++_,w*g>i&&--w,h=new Array(f=w-_+1);++l<f;)h[l]=(_+l)*g}else{g=-g;let _=Math.round(n*g),w=Math.round(i*g);for(_/g<n&&++_,w/g>i&&--w,h=new Array(f=w-_+1);++l<f;)h[l]=(_+l)/g}return a&&h.reverse(),h}(a[0],a[a.length-1],null==s?10:s)},n.tickFormat=function(s,a){var l=i();return function co(n,i,s,a){var f,l=function Ya(n,i,s){var a=Math.abs(i-n)/Math.max(0,s),l=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),f=a/l;return f>=_e?l*=10:f>=ln?l*=5:f>=ii&&(l*=2),i<n?-l:l}(n,i,s);switch((a=ti(null==a?",f":a)).type){case"s":var h=Math.max(Math.abs(n),Math.abs(i));return null==a.precision&&!isNaN(f=function cn(n,i){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(un(i)/3)))-un(Math.abs(n)))}(l,h))&&(a.precision=f),_s(a,h);case"":case"e":case"g":case"p":case"r":null==a.precision&&!isNaN(f=function uc(n,i){return n=Math.abs(n),i=Math.abs(i)-n,Math.max(0,un(i)-un(n))+1}(l,Math.max(Math.abs(n),Math.abs(i))))&&(a.precision=f-("e"===a.type));break;case"f":case"%":null==a.precision&&!isNaN(f=function lc(n){return Math.max(0,-un(Math.abs(n)))}(l))&&(a.precision=f-2*("%"===a.type))}return ei(a)}(l[0],l[l.length-1],null==s?10:s,a)},n.nice=function(s){null==s&&(s=10);var _,w,a=i(),l=0,f=a.length-1,h=a[l],g=a[f],m=10;for(g<h&&(w=h,h=g,g=w,w=l,l=f,f=w);m-- >0;){if((w=oi(h,g,s))===_)return a[l]=h,a[f]=g,i(a);if(w>0)h=Math.floor(h/w)*w,g=Math.ceil(g/w)*w;else{if(!(w<0))break;h=Math.ceil(h*w)/w,g=Math.floor(g*w)/w}_=w}return n},n}function xn(){var n=Te();return n.copy=function(){return tu(n,xn())},gt.apply(n,arguments),Mr(n)}function ru(n,i){if(n=function nu(n){let i;for(;i=n.sourceEvent;)n=i;return n}(n),void 0===i&&(i=n.currentTarget),i){var s=i.ownerSVGElement||i;if(s.createSVGPoint){var a=s.createSVGPoint();return a.x=n.clientX,a.y=n.clientY,[(a=a.matrixTransform(i.getScreenCTM().inverse())).x,a.y]}if(i.getBoundingClientRect){var l=i.getBoundingClientRect();return[n.clientX-l.left-i.clientLeft,n.clientY-l.top-i.clientTop]}}return[n.pageX,n.pageY]}function Ot(n){return"string"==typeof n?new ve([[document.querySelector(n)]],[document.documentElement]):new ve([[n]],ea)}const qn=Math.PI,er=2*qn,nr=1e-6,iu=er-nr;function fo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function si(){return new fo}fo.prototype=si.prototype={constructor:fo,moveTo:function(n,i){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+i)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,i){this._+="L"+(this._x1=+n)+","+(this._y1=+i)},quadraticCurveTo:function(n,i,s,a){this._+="Q"+ +n+","+ +i+","+(this._x1=+s)+","+(this._y1=+a)},bezierCurveTo:function(n,i,s,a,l,f){this._+="C"+ +n+","+ +i+","+ +s+","+ +a+","+(this._x1=+l)+","+(this._y1=+f)},arcTo:function(n,i,s,a,l){var f=this._x1,h=this._y1,g=(s=+s)-(n=+n),_=(a=+a)-(i=+i),w=f-n,m=h-i,b=w*w+m*m;if((l=+l)<0)throw new Error("negative radius: "+l);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=i);else if(b>nr)if(Math.abs(m*g-_*w)>nr&&l){var M=s-f,E=a-h,N=g*g+_*_,Q=M*M+E*E,k=Math.sqrt(N),S=Math.sqrt(b),z=l*Math.tan((qn-Math.acos((N+b-Q)/(2*k*S)))/2),R=z/S,X=z/k;Math.abs(R-1)>nr&&(this._+="L"+(n+R*w)+","+(i+R*m)),this._+="A"+l+","+l+",0,0,"+ +(m*M>w*E)+","+(this._x1=n+X*g)+","+(this._y1=i+X*_)}else this._+="L"+(this._x1=n)+","+(this._y1=i)},arc:function(n,i,s,a,l,f){n=+n,i=+i,f=!!f;var h=(s=+s)*Math.cos(a),g=s*Math.sin(a),_=n+h,w=i+g,m=1^f,b=f?a-l:l-a;if(s<0)throw new Error("negative radius: "+s);null===this._x1?this._+="M"+_+","+w:(Math.abs(this._x1-_)>nr||Math.abs(this._y1-w)>nr)&&(this._+="L"+_+","+w),s&&(b<0&&(b=b%er+er),b>iu?this._+="A"+s+","+s+",0,1,"+m+","+(n-h)+","+(i-g)+"A"+s+","+s+",0,1,"+m+","+(this._x1=_)+","+(this._y1=w):b>nr&&(this._+="A"+s+","+s+",0,"+ +(b>=qn)+","+m+","+(this._x1=n+s*Math.cos(l))+","+(this._y1=i+s*Math.sin(l))))},rect:function(n,i,s,a){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+i)+"h"+ +s+"v"+ +a+"h"+-s+"Z"},toString:function(){return this._}};const Cs=si;function ho(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function Ht(n){return function(){return n}}function ou(n){this._context=n}function Es(n){return new ou(n)}function ai(n){return n[0]}function Ss(n){return n[1]}function ui(n,i){var s=Ht(!0),a=null,l=Es,f=null;function h(g){var _,m,M,w=(g=ho(g)).length,b=!1;for(null==a&&(f=l(M=Cs())),_=0;_<=w;++_)!(_<w&&s(m=g[_],_,g))===b&&((b=!b)?f.lineStart():f.lineEnd()),b&&f.point(+n(m,_,g),+i(m,_,g));if(M)return f=null,M+""||null}return n="function"==typeof n?n:void 0===n?ai:Ht(n),i="function"==typeof i?i:void 0===i?Ss:Ht(i),h.x=function(g){return arguments.length?(n="function"==typeof g?g:Ht(+g),h):n},h.y=function(g){return arguments.length?(i="function"==typeof g?g:Ht(+g),h):i},h.defined=function(g){return arguments.length?(s="function"==typeof g?g:Ht(!!g),h):s},h.curve=function(g){return arguments.length?(l=g,null!=a&&(f=l(a)),h):l},h.context=function(g){return arguments.length?(null==g?a=f=null:f=l(a=g),h):a},h}function su(n,i,s){var a=null,l=Ht(!0),f=null,h=Es,g=null;function _(m){var b,M,E,Q,S,N=(m=ho(m)).length,k=!1,z=new Array(N),R=new Array(N);for(null==f&&(g=h(S=Cs())),b=0;b<=N;++b){if(!(b<N&&l(Q=m[b],b,m))===k)if(k=!k)M=b,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),E=b-1;E>=M;--E)g.point(z[E],R[E]);g.lineEnd(),g.areaEnd()}k&&(z[b]=+n(Q,b,m),R[b]=+i(Q,b,m),g.point(a?+a(Q,b,m):z[b],s?+s(Q,b,m):R[b]))}if(S)return g=null,S+""||null}function w(){return ui().defined(l).curve(h).context(f)}return n="function"==typeof n?n:void 0===n?ai:Ht(+n),i="function"==typeof i?i:Ht(void 0===i?0:+i),s="function"==typeof s?s:void 0===s?Ss:Ht(+s),_.x=function(m){return arguments.length?(n="function"==typeof m?m:Ht(+m),a=null,_):n},_.x0=function(m){return arguments.length?(n="function"==typeof m?m:Ht(+m),_):n},_.x1=function(m){return arguments.length?(a=null==m?null:"function"==typeof m?m:Ht(+m),_):a},_.y=function(m){return arguments.length?(i="function"==typeof m?m:Ht(+m),s=null,_):i},_.y0=function(m){return arguments.length?(i="function"==typeof m?m:Ht(+m),_):i},_.y1=function(m){return arguments.length?(s=null==m?null:"function"==typeof m?m:Ht(+m),_):s},_.lineX0=_.lineY0=function(){return w().x(n).y(i)},_.lineY1=function(){return w().x(n).y(s)},_.lineX1=function(){return w().x(a).y(i)},_.defined=function(m){return arguments.length?(l="function"==typeof m?m:Ht(!!m),_):l},_.curve=function(m){return arguments.length?(h=m,null!=f&&(g=h(f)),_):h},_.context=function(m){return arguments.length?(null==m?f=g=null:g=h(f=m),_):f},_}function Os(n,i,s){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+i)/6,(n._y0+4*n._y1+s)/6)}function fn(n){this._context=n}function li(n){return new fn(n)}function rr(n,i,s){this.k=n,this.x=i,this.y=s}ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,i){switch(n=+n,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 1:this._point=2;default:this._context.lineTo(n,i)}}},fn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Os(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,i){switch(n=+n,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Os(this,n,i)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=i}},rr.prototype={constructor:rr,scale:function(n){return 1===n?this:new rr(this.k*n,this.x,this.y)},translate:function(n,i){return 0===n&0===i?this:new rr(this.k,this.x+this.k*n,this.y+this.k*i)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new rr(1,0,0);var Cr=jt(7489),r=jt(2096),ci=jt(5719),Is=jt(2313);let ir=(()=>{class n{constructor(s){this.sanitizer=s}transform(s,a){switch(a){case"html":return this.sanitizer.bypassSecurityTrustHtml(s);case"style":return this.sanitizer.bypassSecurityTrustStyle(s);case"script":return this.sanitizer.bypassSecurityTrustScript(s);case"url":return this.sanitizer.bypassSecurityTrustUrl(s);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(s);default:throw new Error(`Invalid safe type specified: ${a}`)}}}return n.\u0275fac=function(s){return new(s||n)(r.Y36(Is.H7,16))},n.\u0275pipe=r.Yjl({name:"safehtml",type:n,pure:!0}),n})();const pc=["popover"],Rs=["freshwater_index_chart_container"],uu=["possible_futures_viz_chart_small_dams"],he=["possible_futures_viz_chart_protected_dams"],gc=["possible_futures_viz_chart_balkans_dams"],dc=["barrier_removal_projects_chart_container"],lu=["barrierCounter"],_c=["breadcrumb"],cu=["breadcrumbMobile"],mc=["ecosystem_impacts_title"],vc=["ecosystem_impacts_viz"],yc=["healthy_rivers_figure"],bn=["anthropogenic_threats_figure"],me=["ecosystem_impacts_viz_figure"];function zs(n,i){if(1&n){const s=r.EpF();r.TgZ(0,"ion-breadcrumb",158),r.NdJ("click",function(l){const h=r.CHM(s).$implicit;return r.oxw().onBreadCrumbClick(l,h)}),r.TgZ(1,"span"),r._uU(2),r.qZA(),r._UZ(3,"span",13),r.qZA()}if(2&n){const s=i.$implicit;r.s9C("href",s.href),r.Q6J("active",s.active),r.xp6(2),r.Oqu(s.text)}}function wc(n,i){1&n&&(r.TgZ(0,"img-comparison-slider",159),r._UZ(1,"img",160)(2,"img",161),r.qZA())}function Ds(n,i){1&n&&(r.TgZ(0,"img-comparison-slider",162),r._UZ(1,"img",160)(2,"img",161),r.qZA())}function xc(n,i){1&n&&(r.TgZ(0,"img-comparison-slider",159),r._UZ(1,"img",163)(2,"img",164),r.qZA())}function bc(n,i){1&n&&(r.TgZ(0,"img-comparison-slider",162),r._UZ(1,"img",163)(2,"img",164),r.qZA())}function fi(n,i){1&n&&(r.TgZ(0,"img-comparison-slider",159),r._UZ(1,"img",165)(2,"img",166),r.qZA())}function fu(n,i){1&n&&(r.TgZ(0,"img-comparison-slider",162),r._UZ(1,"img",165)(2,"img",166),r.qZA())}const hu=function(n){return{mobile:n}},pu=function(n,i){return{"scrolly-sticky-side":n,"scrolly-overlay":i}},Ac=[{path:"",component:(()=>{class n{constructor(s){this.platform=s,this.breadcrumbItems=[{href:"#healthy_rivers_title",text:"Healthy Rivers",active:!1},{href:"#anthropogenic_threats-title",text:"Anthropogenic Threats",active:!1},{href:"#ecosystem_impacts_title",text:"Ecosystem Impacts",active:!1},{href:"#possible_futures_title",text:"Possible Futures",active:!1},{href:"#about_title",text:"About",active:!1}],this.hovercardData={title:"I'm a title",imgSrc:"",imgAlt:"",definition:"definition"},this.sliderDirection="horizontal",this.maxBreadcrumbItems=1,this.isMobile=!1,this.futureDamsMargin={top:10,right:30,bottom:10,left:60},this.ecosystem_viz_drill_offset=1,this.isFullscreen=!1,this.futureDamsWidth=460-this.futureDamsMargin.left-this.futureDamsMargin.right,this.futureDamsHeight=200-this.futureDamsMargin.top-this.futureDamsMargin.bottom,this.isOpen=!1,this.collapsedBreadcrumbs=[],this.barrierCount=0,this.sliderDirection=this.platform.is("mobile")?"vertical":"horizontal",this.maxBreadcrumbItems=this.platform.is("mobile")?3:5,this.isMobile=this.platform.is("mobile"),this.isMobile&&(this.futureDamsMargin.left=10,this.futureDamsMargin.right=15)}ngAfterViewInit(){return(0,fr.mG)(this,void 0,void 0,function*(){let s=Ot("main");this.maxBreadcrumbItems=this.platform.is("mobile")?1:4;let a=s.select("#healthy_rivers"),l=a.select("figure"),h=a.select("article").selectAll(".step"),g=s.select("#river_connectivities"),_=g.select("figure"),m=g.select("article").selectAll(".step"),b=yield an("assets/imgs/svg/connectivity/connectivity.svg");b.documentElement.setAttribute("width","auto"),b.documentElement.setAttribute("height","auto"),Ot(b.documentElement).style("height","100%"),g.select("#connectivity_image").node().append(b.documentElement);let M=s.select("#anthropogenic_threats"),E=M.select("figure"),Q=M.select("article").selectAll(".step"),k=s.select("#ecosystem_impacts_viz"),S=k.select("figure"),R=k.select("article").selectAll(".step"),X=s.select("#possible_futures_viz"),G=X.select("figure"),V=X.select("article").selectAll(".step");yield this.loadThreatsCharts(M),yield this.loadEcosystemImpactsCharts(k);let ht=Jt(),At=Jt(),ft=Jt(),W=Jt(),Mt=Jt();this.healthyRiversScroller=ht,this.riverConnectivityScroller=At,this.threatsScroller=ft,this.ecosystemImpactsScroller=W,this.possibleFuturesScroller=Mt;let vt=()=>{let ot=Math.floor(.5*window.innerHeight);h.style("height",ot+"px"),m.style("height",ot+"px"),Q.style("height",ot+"px"),R.style("height",ot+"px"),V.style("height",ot+"px");let F=window.innerHeight/(this.isMobile?2:1);_.style("height",F+"px").style("top","36px"),g.select(".step:last-child").style("height",2*ot+"px"),l.style("height",F+"px").style("top","36px"),a.select(".step:last-child").style("height",2*ot+"px"),E.style("height",F+"px").style("top","36px"),M.select(".step:last-child").style("height",2*ot+"px"),S.style("height",F+"px").style("top","36px"),k.select(".step:last-child").style("height",2*ot+"px"),G.style("height",F+"px").style("top","36px"),X.select(".step:last-child").style("height",2*ot+"px"),At.resize(),ht.resize(),ft.resize(),W.resize(),Mt.resize()};function C(ot){m.classed("is-active",function(st,dt){return dt===ot.index});let F=_.selectAll(".river_connectivity_animation"),nt=Ot("#connectivity_image svg"),rt=ot.index+1;nt.select("#base").classed("active",()=>1==rt),nt.select("#longitudinal1").classed("active",()=>2==rt),nt.select("#longitudinal2").classed("active",()=>2==rt),nt.select("#lateral1").classed("active",()=>3==rt),nt.select("#lateral2").classed("active",()=>3==rt),nt.select("#vertical1").classed("active",()=>4==rt),nt.select("#vertical2").classed("active",()=>4==rt),nt.select("#temporal1").classed("active",()=>5==rt),nt.select("#temporal2").classed("active",()=>5==rt),F.each(function(){let st=this.dataset.step.split(","),dt="all"===st[0]||st.includes(""+rt);this.classList.toggle("active",dt)})}let H=ot=>{if(this.isFullscreen)return;console.log("handleStepEnterHealthyRivers : ",ot),h.classed("is-active",function(rt,st){return st===ot.index});let F=l.selectAll("img"),nt=ot.index+1;F.each(function(){let rt=this.dataset.step.split(","),st="all"===rt[0]||rt.includes(""+nt);this.classList.toggle("active",st)})},P=ot=>{Q.classed("is-active",function(st,dt){return dt===ot.index});let F=[62293,199744,197752,112898,8528,59577],nt=E.selectAll(".anthropogenic_threats"),rt=ot.index+1;nt.each(function(){let st=this.dataset.step.split(","),dt=this.dataset.transitionStep||1/0,Ut="all"===st[0]||st.includes(""+rt),or=16!==rt&&rt>=+dt,po=this.dataset.foregroundStep==rt;this.classList.toggle("active",Ut),this.classList.toggle("transitioned",or),E.style("z-index",po&&Ut?1e3:0),16!=rt&&Ot("#hovercard").classed("active",!1)}),4==rt&&(this.barrierCount=F[0]),6==rt&&(this.barrierCount=F[1]+F[0]),8==rt&&(this.barrierCount=F[2]+F[1]+F[0]),10==rt&&(this.barrierCount=F[3]+F[2]+F[1]+F[0]),12==rt&&(this.barrierCount=F[4]+F[3]+F[2]+F[1]+F[0]),14==rt&&(this.barrierCount=F[5]+F[4]+F[3]+F[2]+F[1]+F[0])};function D(ot){R.classed("is-active",function(rt,st){return st===ot.index});let F=S.selectAll(".ecosystem_impacts_viz"),nt=ot.index+1;F.each(function(){let st=this.dataset.step.split(","),dt="all"===st[0]||st.includes(""+nt);this.classList.toggle("active",dt);let Ut=Ot(this);"freshwater_only"===Ut.select("svg").attr("id")&&(Ut.select("#extinct").classed("active",dt&&nt>1),Ut.select("#endangered").classed("active",dt&&nt>2),Ut.select("#low_risk").classed("active",dt&&nt>3),Ut.select("#no_data").classed("active",dt&&nt>4)),"all_species"===Ut.select("svg").attr("id")&&(Ut.select("#freshwater_aggregated").classed("active",dt&&nt>5),Ut.select("#fishes").classed("active",dt&&nt>6),Ut.select("#invertebrates").classed("active",dt&&nt>8),Ut.select("#mammals").classed("active",dt&&nt>8),Ut.select("#reptiles").classed("active",dt&&nt>8),Ut.select("#amphibian").classed("active",dt&&nt>8),Ut.select("#birds").classed("active",dt&&nt>8))})}function et(ot){V.classed("is-active",function(st,dt){return dt===ot.index});let F=this,nt=G.selectAll(".possible_futures_viz"),rt=ot.index+1;try{nt.each(function(){let dt=this.dataset.step.split(","),Ut="all"===dt[0]||dt.includes(""+rt);switch(this.classList.toggle("active",Ut),rt){case 1:F.updateFutureDamsChart(F.smallDamsChart.node().querySelector("#smallDamsChart"),"existing");break;case 2:F.updateFutureDamsChart(F.smallDamsChart.node().querySelector("#smallDamsChart"),"planned");break;case 3:F.updateFutureDamsChart(F.protectedDamsChart.node().querySelector("#protectedDamsChart"),"existing");break;case 4:F.updateFutureDamsChart(F.protectedDamsChart.node().querySelector("#protectedDamsChart"),"planned");break;case 5:F.updateFutureDamsChart(F.balkansDamsChart.node().querySelector("#balkansDamsChart"),"existing");break;case 6:F.updateFutureDamsChart(F.balkansDamsChart.node().querySelector("#balkansDamsChart"),"planned");break;case 7:F.addFutureDamsBar(F.balkansDamsChart.node().querySelector("#balkansDamsChart"))}})}catch(st){}}function B(ot){ot.element.classList.remove("is-active")}let $=ot=>{B(ot),ot.index+1==17&&Ot("#hovercard").classed("active",!1)},it=ot=>{};return this.renderFreshWaterIndexChart(),this.renderDamRemovalProjectsChart(),this.renderPossibleFuturesChart(),(()=>(vt(),ht.setup({step:"#healthy_rivers article .step",offset:.75}).onStepEnter(H).onStepExit(B),At.setup({step:"#river_connectivities article .step",offset:.75}).onStepEnter(C).onStepExit(B),ft.setup({step:"#anthropogenic_threats article .step",offset:.75}).onStepEnter(P).onStepExit($),W.setup({step:"#ecosystem_impacts_viz article .step",offset:.75}).onStepEnter(D).onStepExit(it),Mt.setup({step:"#possible_futures_viz article .step",offset:.75}).onStepEnter(et.bind(this)).onStepExit(B),Promise.resolve()))()})}loadEcosystemImpactsCharts(s){return(0,fr.mG)(this,void 0,void 0,function*(){let a=yield an("assets/imgs/svg/eu_fishes_danger/01_eu_fishes_danger_freshwater.svg");Ot(a.documentElement).style("height","100%"),s.select("#ecosystem_impacts_viz_figure_chart").node().append(a.documentElement);let l=yield an("assets/imgs/svg/eu_fishes_danger/02_eu_fishes_danger_all.svg");return l.documentElement.setAttribute("width","auto"),l.documentElement.setAttribute("height","auto"),Ot(l.documentElement).style("height","100%"),s.select("#ecosystem_impacts_viz_figure_chart_all").node().append(l.documentElement),document.addEventListener("fullscreenchange",f=>{this.isFullscreen=null!==document.fullscreenElement,this.isFullscreen?(this.healthyRiversScroller.disable(),this.riverConnectivityScroller.disable(),this.threatsScroller.disable(),this.ecosystemImpactsScroller.disable(),this.possibleFuturesScroller.disable()):(this.healthyRiversScroller.enable(),this.riverConnectivityScroller.enable(),this.threatsScroller.enable(),this.ecosystemImpactsScroller.enable(),this.possibleFuturesScroller.enable())}),Promise.resolve()})}loadThreatsCharts(s){return(0,fr.mG)(this,void 0,void 0,function*(){let a=yield an("assets/imgs/svg/map_eu/2.map_eu_dams.svg"),l=yield an("assets/imgs/svg/map_eu/2.map_eu_ramps.svg"),f=yield an("assets/imgs/svg/map_eu/2.map_eu_weirs.svg"),h=yield an("assets/imgs/svg/map_eu/2.map_eu_culverts.svg"),g=yield an("assets/imgs/svg/map_eu/2.map_eu_sluices.svg"),_=yield an("assets/imgs/svg/map_eu/2.map_eu_fords_other.svg"),w=yield an("assets/imgs/svg/map_eu/2.map_eu_count_wgs84_more_data.svg");a.documentElement.setAttribute("width","auto"),a.documentElement.setAttribute("height","auto"),l.documentElement.setAttribute("width","auto"),l.documentElement.setAttribute("height","auto"),f.documentElement.setAttribute("width","auto"),f.documentElement.setAttribute("height","auto"),h.documentElement.setAttribute("width","auto"),h.documentElement.setAttribute("height","auto"),g.documentElement.setAttribute("width","auto"),g.documentElement.setAttribute("height","auto"),_.documentElement.setAttribute("width","auto"),_.documentElement.setAttribute("height","auto"),w.documentElement.setAttribute("width","auto"),w.documentElement.setAttribute("height","auto"),Ot(a.documentElement).style("height","100%"),Ot(l.documentElement).style("height","100%"),Ot(f.documentElement).style("height","100%"),Ot(h.documentElement).style("height","100%"),Ot(g.documentElement).style("height","100%"),Ot(_.documentElement).style("height","100%"),Ot(w.documentElement).style("height","100%"),s.select("#anthropogenic_threats_dams").node().append(a.documentElement),s.select("#anthropogenic_threats_ramps").node().append(l.documentElement),s.select("#anthropogenic_threats_weirs").node().append(f.documentElement),s.select("#anthropogenic_threats_culverts").node().append(h.documentElement),s.select("#anthropogenic_threats_sluices").node().append(g.documentElement),s.select("#anthropogenic_threats_others").node().append(_.documentElement),s.select("#anthropogenic_threats_hex_bin").node().append(w.documentElement),s.selectAll("#anthropogenic_threats_hex_bin #eu_barrier_count .hex").each(function(){Ot(this).on("click",function(b){let E=this.getBoundingClientRect().x,N=this.getBoundingClientRect().y;Ot("#hovercard").style("left",E+"px").style("top",N+"px").classed("active",!0)})})})}presentPopover(s){return(0,fr.mG)(this,void 0,void 0,function*(){this.collapsedBreadcrumbs=s.detail.collapsedBreadcrumbs,this.popover.el.event=s,this.isOpen=!0})}onBreadCrumbClick(s,a){s.preventDefault(),this.breadcrumbItems.map(f=>f.active=f.href===a.href);let l=this.breadcrumb.el.getBoundingClientRect().height;this.scrollSectionIntoView(a.href,l)}onBreadCrumbPopoverClick(s){s.preventDefault();let a=s.target.parentElement.dataset.href;this.isOpen=!1;let l=this.breadcrumbMobile.el.getBoundingClientRect().height;this.scrollSectionIntoView(a,l)}scrollSectionIntoView(s,a=0){let l=document.querySelector(s);Cr.isNil(l)||(l.scrollIntoView({behavior:"smooth"}),l.scrollBy({top:-2*a}))}renderFreshWaterIndexChart(){let a=520,l=340,f=Ot(this.freshwater_index_chart_container.nativeElement).append("svg").attr("width","auto").attr("height","auto").attr("viewBox","0 0 700 400").append("g").attr("transform","translate(60,30)");eo("assets/data/linechart_fish_simple.csv").then(g=>function h(g){let _=xn().domain([1970,2017]).range([0,a]),w=Zn().scale(_).ticks(10).tickFormat(function(V){return Math.floor(V)}).tickSizeInner(0).tickSizeOuter(0);f.append("g").attr("transform","translate(0,350)").call(w);let m=xn().domain([0,100]).range([l,0]),b=Sr().scale(m).ticks(3).tickFormat(function(V){return Math.floor(V)+"%"}).tickSizeInner(0).tickSizeOuter(0);f.append("g").call(b).select(".domain").attr("opacity",0);let M=qe(function(V){return V.year}).left,E=f.append("path").datum(g).transition().duration(2500).attr("fill","rgba(117, 147, 206, 0.3)").attr("stroke","rgba(117, 147, 206, 0.37").attr("d",su().curve(li).x(function(V){return _(V.year)}).y0(function(V){return m(V.Freshwater_upper)}).y1(function(V){return m(V.Freshwater_lower)}));f.append("path").datum(g).attr("fill","none").attr("stroke","#7593ce").attr("stroke-width",1.5).attr("d",ui().curve(li).x(function(V){return _(V.year)}).y(function(V){return m(V.Freshwater_index)})).node().getTotalLength(),E.node().getTotalLength();let S=f.append("g");S.append("line").attr("class","upper_axis").attr("x1",0).attr("x2",a).attr("y1",V=>m(100)).attr("y2",V=>m(100)).attr("stroke-dasharray",4).attr("stroke","var(--ion-color-text-color-standard)"),S.append("text").attr("class","upper_axis_text_left").text("1970").attr("x",_(2016)).attr("y",V=>m(100));let z=f.append("g").append("circle").style("fill","#7593ce").attr("r",4).style("opacity",0),R=f.append("g").append("text").attr("class","focus_text").style("opacity",0).attr("fill","#7593ce").attr("alignment-baseline","middle");f.append("rect").style("fill","none").style("pointer-events","all").attr("width",a).attr("height",l).on("mouseover",function X(){z.style("opacity",1),R.style("opacity",1)}).on("mousemove",function G(V){let ht=_.invert(ru(V)[0]);if(isNaN(ht))return;let At=M(g,ht,1),ft=g[At];ft&&(z.attr("cx",_(ft.year)).attr("cy",m(ft.Freshwater_index)),R.attr("text-anchor","left").html(()=>`${ft.year}:${ei(".2f")(ft.Freshwater_index)}%`).attr("x",_(ft.year)+15).attr("y",m(ft.Freshwater_index)))}).on("mouseout",function K(){z.style("opacity",0),R.style("opacity",0)})}(g))}renderDamRemovalProjectsChart(){let l=340,f=Ot(this.barrier_removal_projects_chart_container.nativeElement).append("svg").attr("width","auto").attr("height","auto").attr("viewBox","0 0 700 400").append("g").attr("transform","translate(60,30)");eo("assets/data/dam_removal_projects.csv").then(g=>function h(g){let _=xn().domain([1940,2020]).range([0,520]),w=Zn().scale(_).ticks(10).tickFormat(function(K){return Math.floor(K)}).tickSizeInner(0).tickSizeOuter(0);f.append("g").attr("transform","translate(0,340)").call(w);let m=xn().domain([429,4984]).range([l,0]),b=Sr().scale(m).ticks(3).tickFormat(function(K){return Math.floor(K)+"%"}).tickSizeInner(0).tickSizeOuter(0);f.append("g").call(b).select(".domain").attr("opacity",0);let M=qe(function(K){return K.year}).left,E=f.append("path").datum(g).transition().duration(2500).attr("fill","var( --ion-color-secondary-shade-transarency)").attr("stroke","none").attr("d",su().curve(li).x(function(K){return _(K.year)}).y0(function(K){return m(K.cumulative)}).y1(function(K){return m(429)}));f.append("path").datum(g).attr("fill","none").attr("stroke","var(--ion-color-secondary-shade)").attr("stroke-width",1.5).attr("d",ui().curve(li).x(function(K){return _(K.year)}).y(function(K){return m(K.cumulative)})).node().getTotalLength(),E.node().getTotalLength();let S=f.append("g").append("circle").style("fill","var(--ion-color-secondary-shade)").attr("r",4).style("opacity",0),z=f.append("g").append("text").attr("class","focus_text").style("opacity",0).attr("fill","var(--ion-color-secondary-shade)").attr("alignment-baseline","middle");f.append("rect").style("fill","none").style("pointer-events","all").attr("width",520).attr("height",l).on("mouseover",function R(){S.style("opacity",1),z.style("opacity",1)}).on("mousemove",function X(K){let V=_.invert(ru(K)[0]);if(isNaN(V))return;let ht=M(g,V,1),At=g[ht];At&&(S.attr("cx",_(At.year)).attr("cy",m(At.cumulative)),z.attr("text-anchor","left").html(()=>`${At.year}:${ei(".2f")(At.cumulative)}%`).attr("x",_(At.year)+15).attr("y",m(At.cumulative)))}).on("mouseout",function G(){S.style("opacity",0),z.style("opacity",0)})}(g))}renderPossibleFuturesChart(){this.smallDamsChart=Ot(this.possible_futures_viz_chart_small_dams_container.nativeElement).append("svg").attr("width","auto").attr("height","auto").attr("viewBox",`0 0 ${this.futureDamsWidth+this.futureDamsMargin.left+this.futureDamsMargin.right} ${this.futureDamsHeight+this.futureDamsMargin.top+this.futureDamsMargin.bottom}`),this.protectedDamsChart=Ot(this.possible_futures_viz_chart_protected_dams_container.nativeElement).append("svg").attr("width","auto").attr("height","auto").attr("viewBox",`0 0 ${this.futureDamsWidth+this.futureDamsMargin.left+this.futureDamsMargin.right} ${this.futureDamsHeight+this.futureDamsMargin.top+this.futureDamsMargin.bottom}`),this.balkansDamsChart=Ot(this.possible_futures_viz_chart_balkans_dams_container.nativeElement).append("svg").attr("width","auto").attr("height","auto").attr("viewBox",`0 0 ${this.futureDamsWidth+this.futureDamsMargin.left+this.futureDamsMargin.right} ${this.futureDamsHeight+this.futureDamsMargin.top+this.futureDamsMargin.bottom}`),function Vl(n,i){return fetch(n,i).then(Kl)}("assets/data/future_dams.json").then(s=>{this.futureDamsdata=s,this.createFutureDamsChart(s.small,this.possible_futures_viz_chart_small_dams_container.nativeElement.querySelector("svg"),"smallDamsChart",!1),this.createFutureDamsChart(s.protected,this.possible_futures_viz_chart_protected_dams_container.nativeElement.querySelector("svg"),"protectedDamsChart",!1),this.createFutureDamsChart(s.balkans,this.possible_futures_viz_chart_balkans_dams_container.nativeElement.querySelector("svg"),"balkansDamsChart",!0)})}createFutureDamsChart(s,a,l,f=!1){let h={existing:"var(--ion-color-warning)",planned:"var(--ion-color-danger)"};var g=xn().domain([0,100]).range([0,this.futureDamsWidth]),_=ri().range([0,this.futureDamsHeight]).domain(s.map(m=>m.type)).padding(1);let w=Ot(a).append("g").attr("id",l);if(w.attr("transform","translate("+this.futureDamsMargin.left+","+this.futureDamsMargin.top+")"),w.selectAll(".lollipop_line").data(s).enter().append("line").attr("class","lollipop_line").attr("data-type",m=>m.type).attr("x1",0).attr("x2",0).attr("y1",m=>_(m.type)).attr("y2",m=>_(m.type)).attr("fill",m=>h[m.type]).attr("stroke",m=>h[m.type]).attr("stroke-width",7),w.selectAll(".lollipop_circle").data(s).enter().append("circle").attr("class","lollipop_circle").attr("data-type",m=>m.type).attr("cx",g(0)).attr("cy",m=>_(m.type)).attr("r","7").style("fill",m=>h[m.type]).attr("stroke",m=>h[m.type]),w.selectAll(".lollipop_type_label").data(s).enter().append("text").text(m=>m.type).style("fill",m=>h[m.type]).attr("x",5).attr("y",m=>_(m.type)-10),w.selectAll(".lollipop_value_label").data(s).enter().append("text").attr("data-type",m=>m.type).style("fill",m=>h[m.type]).text(m=>"0%").attr("x",()=>g(100)-10).attr("y",m=>_(m.type)+3.5).attr("class","lollipop_value_label"),f){let m=s[1].small_of_planned;w.selectAll(".lollipop_line_small_of_planned").data([m]).enter().append("line").attr("class","lollipop_line_small_of_planned").attr("data-type",b=>b.type).attr("x1",0).attr("x2",()=>0).attr("y1",()=>_("planned")).attr("y2",()=>_("planned")).attr("fill","none").attr("stroke","darkred").attr("stroke-width",7)}}updateFutureDamsChart(s,a){var l=xn().domain([0,100]).range([0,this.futureDamsWidth]);let f=Ot(s);return f.selectAll(".lollipop_line").each(function(h){this.dataset.type==a&&Ot(this).transition().duration(2e3).attr("x2",g=>l(g.value))}),f.selectAll(".lollipop_circle").each(function(h){this.dataset.type==a&&Ot(this).transition().duration(2e3).attr("cx",g=>l(g.value))}),f.selectAll(".lollipop_value_label").each(function(h){this.dataset.type==a&&Ot(this).transition().duration(2e3).textTween(function(g){this._current||(this._current=0);const _=so(this._current,g.value);return function(w){let m=ei(".2")(this._current=_(w));return`${Math.floor(m)}%`}})}),Promise.resolve()}addFutureDamsBar(s){var a=xn().domain([0,100]).range([0,this.futureDamsWidth]);Ot(s).selectAll(".lollipop_line_small_of_planned").transition().duration(2e3).attr("x2",f=>a(f.value))}setToFullscreen(s){this[s].nativeElement.requestFullscreen()}disposeHovercard(){Ot("#hovercard").classed("active",!1)}exitFullScreen(){null!==document.fullscreenElement&&document.exitFullscreen()}}return n.\u0275fac=function(s){return new(s||n)(r.Y36(v.t4))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(s,a){if(1&s&&(r.Gf(pc,5),r.Gf(Rs,5),r.Gf(uu,5),r.Gf(he,5),r.Gf(gc,5),r.Gf(dc,5),r.Gf(lu,5),r.Gf(_c,5),r.Gf(cu,5),r.Gf(mc,5),r.Gf(vc,5),r.Gf(yc,5),r.Gf(bn,5),r.Gf(me,5)),2&s){let l;r.iGM(l=r.CRH())&&(a.popover=l.first),r.iGM(l=r.CRH())&&(a.freshwater_index_chart_container=l.first),r.iGM(l=r.CRH())&&(a.possible_futures_viz_chart_small_dams_container=l.first),r.iGM(l=r.CRH())&&(a.possible_futures_viz_chart_protected_dams_container=l.first),r.iGM(l=r.CRH())&&(a.possible_futures_viz_chart_balkans_dams_container=l.first),r.iGM(l=r.CRH())&&(a.barrier_removal_projects_chart_container=l.first),r.iGM(l=r.CRH())&&(a.barrierCounter=l.first),r.iGM(l=r.CRH())&&(a.breadcrumb=l.first),r.iGM(l=r.CRH())&&(a.breadcrumbMobile=l.first),r.iGM(l=r.CRH())&&(a.ecosystem_impacts_title=l.first),r.iGM(l=r.CRH())&&(a.ecosystem_impacts_viz=l.first),r.iGM(l=r.CRH())&&(a.healthy_rivers_figure=l.first),r.iGM(l=r.CRH())&&(a.anthropogenic_threats_figure=l.first),r.iGM(l=r.CRH())&&(a.ecosystem_impacts_viz_figure=l.first)}},decls:541,vars:296,consts:[[3,"fullscreen"],["id","container"],["id","hovercard",3,"click"],[3,"src","alt"],[3,"innerText"],[3,"ngClass"],["id","header"],[1,"centered_text_block"],[1,"intro__hed"],["id","intro",1,"centered_text_block"],["id","breadcrumb"],["breadcrumb",""],["active","true",2,"display","none"],["slot","separator"],[3,"active","href","click",4,"ngFor","ngForOf"],["id","healthy_rivers",1,"scrolly","scrolly-overlay"],[1,"sticky_section_title","section_title","ion-no-margin"],[1,"ion-no-margin"],["size","10",1,"ion-no-margin"],["id","healthy_rivers_title",1,""],["size","2",1,"ion-no-margin"],["size","small","fill","outline","expand","block","color","light",1,"ion-no-margin",3,"click"],["slot","icon-only","name","search-outline"],[3,"click"],["healthy_rivers_figure",""],["src","assets/imgs/svg/map_global_rivers/1.map_global_rivers_land.svg","id","map_global_rivers_land","data-step","all",1,"stacked_img","map_global_rivers","active"],["src","assets/imgs/svg/map_global_rivers/1.map_global_rivers_all.svg","id","map_global_rivers_all","data-step","1",1,"stacked_img","map_global_rivers","active"],["src","assets/imgs/svg/map_global_rivers/1.map_global_rivers_not.svg","id","map_global_rivers_not","data-step","2,7",1,"stacked_img","map_global_rivers"],["src","assets/imgs/svg/map_global_rivers/1.map_global_rivers_ffr.svg","id","map_global_rivers_ffr","data-step","3,4,5,6,7",1,"stacked_img","map_global_rivers"],["data-step","1",1,"step","flex-step"],[3,"innerHTML"],[1,"step-footer",3,"innerHTML"],["data-step","2",1,"step"],["data-step","3",1,"step"],["data-step","4",1,"step"],["data-step","5",1,"step"],["data-step","6",1,"step"],["data-step","7",1,"step","separator"],[1,"section_title"],["id","river_connectivities",1,"scrolly",3,"ngClass"],["id","connectivity_image","data-step","1,2,3,4,5",1,"stacked_img","river_connectivity_animation"],["data-step","1","data-offset","0.75","id","connectivities_step1",1,"step"],["id","free_flowing_rivers_text",1,"centered_text_block"],["size-xs","12","size-sm","12","size-md","12","size-lg","12","size-xl","6"],[1,"font-bold"],["src","assets/imgs/jpg/foto1.jpeg"],["id","anthropogenic_threats",1,"scrolly","scrolly-overlay"],["id","anthropogenic_threats-title",1,""],["id","anthropogenic_threats_figure",3,"click"],["anthropogenic_threats_figure",""],["autoplay","","loop","","muted","","id","anthropogenic_threats_dam_background","data-step","1,2",1,"stacked_img","anthropogenic_threats"],["src","assets/video/video2_20_sec.mp4"],["src","assets/video/video2_20_sec.webm"],["src","assets/imgs/svg/map_eu/2.map_eu_land.svg","id","anthropogenic_threats_land","data-step","3,4,5,6,7,8,9,10,11,12,13,14,15",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_dams","data-step","4,5,6,7,8,9,10,11,12,13,14,15","data-transition-step","6",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_ramps","data-step","6,7,8,9,10,11,12,13,14,15","data-transition-step","8",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_weirs","data-step","8,9,10,11,12,13,14,15","data-transition-step","10",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_culverts","data-step","10,11,12,13,14,15","data-transition-step","12",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_sluices","data-step","12,13,14,15","data-transition-step","14",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_others","data-step","14,15",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_barrier_counter","data-step","4,5,6,7,8,9,10,11,12,13,14,15",1,"stacked_img","anthropogenic_threats"],["id","barrier_counter"],["barrierCounter",""],["id","anthropogenic_threats_hex_bin","data-step","16,17","data-foreground-step","16",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_article"],["data-step","1",1,"step"],["data-step","5",1,"step","separator"],["data-step","8",1,"step"],["data-step","9",1,"step","separator"],["data-step","10",1,"step"],["data-step","11",1,"step","separator"],["data-step","12",1,"step"],["data-step","13",1,"step","separator"],["data-step","14",1,"step"],["data-step","15",1,"step","separator"],["data-step","16",1,"step","separator"],["data-step","17",1,"step"],["id","anthropogenic_threats_text",1,"centered_text_block"],["color","secondary",1,"font-bold"],["src","assets/imgs/gif/foto7.gif"],["size-xs","12","size-sm","12","size-md","12","size-lg","12","size-xl","4"],["src","assets/imgs/jpg/foto15.jpeg"],["src","assets/imgs/jpg/foto16.jpeg"],["id","canalizzazione",1,"centered_text_block"],["direction","vertical",4,"ngIf"],["direction","horizontal",4,"ngIf"],["size-xs","12","size-sm","12","size-md","12","size-lg","12","size-xl","6",1,"ion-no-margin"],["src","assets/imgs/jpg/foto11.jpeg"],["size-xs","12","size-sm","12","size-md","12","size-lg","12","size-xl","6",1,"ion-no-margin","ion-no-padding"],["id","ecosystem_impacts_title",1,"centered_text_block","sticky_section_title"],["ecosystem_impacts_title",""],["id","ecosystem_impacts_text",1,"centered_text_block"],["href","https://livingplanet.panda.org/freshwater","target","_blank"],["id","freshwater_index_chart_container"],["freshwater_index_chart_container",""],["autoplay","","autoPlay","","muted","","loop","","playsinline","","controls",""],["src","assets/video/video3.mp4","type","video/mp4"],["src","assets/video/video3.webm","type","video/webm"],["href","https://onlinelibrary.wiley.com/doi/full/10.1002/rra.3386","target","_blank"],["id","ecosystem_impacts_viz",1,"scrolly","scrolly-overlay"],["ecosystem_impacts_viz",""],["id","ecosystem_impacts_viz_figure",3,"click"],["ecosystem_impacts_viz_figure",""],["id","ecosystem_impacts_viz_figure_chart","data-step","2,3,4,5",1,"stacked_img","ecosystem_impacts_viz"],["id","ecosystem_impacts_viz_figure_chart_all","data-step","6,7,8,9",1,"stacked_img","ecosystem_impacts_viz"],["id","ecosystem_impacts_viz_article"],["data-step","1",1,"step","is-active",3,"innerHTML"],["data-step","2",1,"step",3,"innerHTML"],["data-step","3",1,"step",3,"innerHTML"],["data-step","4",1,"step",3,"innerHTML"],["data-step","5",1,"step",3,"innerHTML"],["data-step","6",1,"step","smaller-font","quick-transition",3,"innerHTML"],["data-step","7",1,"step","smaller-font","quick-transition",3,"innerHTML"],["data-step","8",1,"step","smaller-font","quick-transition",3,"innerHTML"],["data-step","9",1,"step","smaller-font","quick-transition",3,"innerHTML"],["id","ecosystem_impacts_sediment_text",1,"centered_text_block"],["href","https://www.forbes.com/sites/jeffopperman/2019/09/27/worlds-major-deltas-threatened-by-climate-change-and-also-by-how-we-develop-power-systems/?sh=c8de97a60e1f","target","_blank"],["id","possible_futures_text",1,"centered_text_block"],["id","possible_futures_title",1,"section_title"],["href","https://wwfeu.awsassets.panda.org/downloads/hydropower_pressure_on_european_rivers_the_story_in_numbers_web.pdf"],["id","possible_futures_viz",1,"scrolly",3,"ngClass"],["id","possible_futures_viz_figure"],["id","possible_futures_viz_chart_small_dams","data-step","1,2","data-transition-step","",1,"stacked_img","possible_futures_viz"],["possible_futures_viz_chart_small_dams",""],["id","possible_futures_viz_chart_protected_dams","data-step","3,4","data-transition-step","",1,"stacked_img","possible_futures_viz"],["possible_futures_viz_chart_protected_dams",""],["id","possible_futures_viz_chart_balkans_dams","data-step","5,6,7","data-transition-step","",1,"stacked_img","possible_futures_viz"],["possible_futures_viz_chart_balkans_dams",""],["id","possible_futures_viz_article"],["data-step","1",1,"step",3,"innerHTML"],["data-step","6",1,"step",3,"innerHTML"],["data-step","7",1,"step",3,"innerHTML"],["id","possible_futures_balkans_map",1,"centered_text_block"],[2,"color","var(--ion-color-warning-dark)"],[2,"color","var(--ion-color-danger-dark)"],["id","possible_futures_dam_removoval_text",1,"centered_text_block"],["href","https://damremoval.eu/about/","target","_blank"],["href","https://restorerivers.eu/wiki/index.php?title=Main_Page","target","_blank"],["id","barrier_removal_projects_chart_container"],["barrier_removal_projects_chart_container",""],["href","https://openrivers.eu/open-rivers-programme-supports-19-new-dam-removal-projects-opening-up-386-km-of-river/","target","_blank"],["src","assets/video/video5.mp4","type","video/mp4"],["src","assets/video/video5.webm","type","video/webm"],["href","https://ec.europa.eu/commission/presscorner/detail/en/ip_22_3746","target","_blank"],["src","assets/imgs/jpg/foto14.jpeg"],["id","about_credits",1,"centered_text_block"],["id","about_title",1,"section_title"],["target","_blank","href","https://www.cirf.org/it/home/"],["target","_blank","href","mailto:info@cirf.org"],["target","_blank","href","https://europe.wetlands.org/"],["id","about_data",1,"centered_text_block"],["href","https://doi.org/10.1038/s41586-019-1111-9","target","_blank"],["href","https://amber.international/european-barrier-atlas/","target","_blank"],["href","https://wwfeu.awsassets.panda.org/downloads/hydropower_pressure_on_european_rivers_the_story_in_numbers_web.pdf","target","_blank"],["href","https://www.sandre.eaufrance.fr/atlas/srv/fre/catalog.search#/metadata/59057026-b40c-4cf9-9e3e-7296e0aa1a78","target","_blank"],["href","https://www.livingplanetindex.org","target","_blank"],["href","https://www.iucnredlist.org","target","_blank"],["href","https://www.nature.org/content/dam/tnc/nature/en/documents/powerofriversreport_final3.pdf","target","_blank"],[3,"active","href","click"],["direction","vertical"],["slot","first","src","assets/imgs/png/foto9.png"],["slot","second","src","assets/imgs/png/foto10.png"],["direction","horizontal"],["slot","first","src","assets/imgs/png/foto12.png"],["slot","second","src","assets/imgs/png/foto13.png"],["slot","first","src","assets/imgs/png/balkans_existing.png"],["slot","second","src","assets/imgs/png/balkans_all.png"]],template:function(s,a){1&s&&(r.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2),r.NdJ("click",function(){return a.disposeHovercard()}),r.TgZ(3,"ion-grid")(4,"ion-row")(5,"h4"),r._uU(6),r.qZA()(),r.TgZ(7,"ion-row")(8,"ion-col"),r._UZ(9,"img",3),r.qZA(),r.TgZ(10,"ion-col"),r._UZ(11,"span",4),r.qZA()()()(),r.TgZ(12,"main",5)(13,"section",6)(14,"div",7)(15,"h1",8),r._uU(16),r.ALo(17,"transloco"),r.qZA(),r.TgZ(18,"h4",8),r._uU(19),r.ALo(20,"transloco"),r.qZA()()(),r.TgZ(21,"section",9)(22,"p"),r._uU(23," Rivers are complex systems whose dynamics shape life on Earth as we know it. They are home to a wide range of freshwater species. They transport sediments and nutrients. They form wetlands, deltas, and floodplains which nurture flora, fauna, and human communities and protect us from floods, droughts, and other natural disasters. They collect water from the atmosphere and land and replenish groundwater systems, which are key for our survival. "),r.qZA(),r.TgZ(24,"p"),r._uU(25," To provide these essential ecosystem services, rivers must be able to flow freely, moving unobstructed in multiple directions. However, only a small fraction of the world\u2019s rivers can still do so: a myriad of human-made works fragment, deviate, constrict, and regulate river flow, dramatically impacting natural functions and surrounding ecosystems. "),r.qZA()(),r.TgZ(26,"ion-breadcrumbs",10,11)(28,"ion-breadcrumb",12),r._UZ(29,"span",13),r.qZA(),r.YNc(30,zs,4,3,"ion-breadcrumb",14),r.qZA(),r.TgZ(31,"section",15)(32,"ion-grid",16)(33,"ion-row",17)(34,"ion-col",18)(35,"h1",19),r._uU(36,"healthy rivers"),r.qZA()(),r.TgZ(37,"ion-col",20)(38,"ion-button",21),r.NdJ("click",function(){return a.setToFullscreen("healthy_rivers_figure")}),r._UZ(39,"ion-icon",22),r.qZA()()()(),r.TgZ(40,"figure",23,24),r.NdJ("click",function(){return a.exitFullScreen()}),r._UZ(42,"img",25)(43,"img",26)(44,"img",27)(45,"img",28),r.qZA(),r.TgZ(46,"article")(47,"div",29),r._UZ(48,"div",30),r.ALo(49,"safehtml"),r.ALo(50,"transloco"),r._UZ(51,"div",31),r.ALo(52,"safehtml"),r.ALo(53,"transloco"),r.qZA(),r.TgZ(54,"div",32),r._UZ(55,"div",30),r.ALo(56,"safehtml"),r.ALo(57,"transloco"),r.qZA(),r.TgZ(58,"div",33),r._UZ(59,"div",30),r.ALo(60,"safehtml"),r.ALo(61,"transloco"),r.qZA(),r.TgZ(62,"div",34),r._UZ(63,"div",30),r.ALo(64,"safehtml"),r.ALo(65,"transloco"),r.qZA(),r.TgZ(66,"div",35),r._UZ(67,"div",30),r.ALo(68,"safehtml"),r.ALo(69,"transloco"),r.qZA(),r.TgZ(70,"div",36),r._UZ(71,"div",30),r.ALo(72,"safehtml"),r.ALo(73,"transloco"),r.qZA(),r.TgZ(74,"div",37),r._UZ(75,"div",30),r.ALo(76,"safehtml"),r.ALo(77,"transloco"),r.qZA()()(),r.TgZ(78,"section")(79,"h1",38),r._uU(80,"THE FOUR DIMENSIONS OF CONNECTIVITY"),r.qZA()(),r.TgZ(81,"section",39)(82,"figure"),r._UZ(83,"div",40),r.qZA(),r.TgZ(84,"article")(85,"div",41),r._UZ(86,"div",30),r.ALo(87,"safehtml"),r.ALo(88,"transloco"),r.qZA(),r.TgZ(89,"div",32),r._UZ(90,"div",30),r.ALo(91,"safehtml"),r.ALo(92,"transloco"),r.qZA(),r.TgZ(93,"div",33),r._UZ(94,"div",30),r.ALo(95,"safehtml"),r.ALo(96,"transloco"),r.qZA(),r.TgZ(97,"div",34),r._UZ(98,"div",30),r.ALo(99,"safehtml"),r.ALo(100,"transloco"),r.qZA(),r.TgZ(101,"div",35),r._UZ(102,"div",30),r.ALo(103,"safehtml"),r.ALo(104,"transloco"),r.qZA()()(),r.TgZ(105,"section",42)(106,"ion-grid")(107,"ion-row")(108,"ion-col",43)(109,"p")(110,"ion-text",44),r._uU(111,"Free-flowing rivers"),r.qZA(),r._uU(112," are those in which all four types of connectivity are present. "),r._UZ(113,"br"),r._uU(114," There are, however, many potential threats to maintaining a free-flowing status from the headwaters to the outlet. "),r._UZ(115,"br"),r._uU(116," For example, barriers like dams impact longitudinal and temporal connectivity, while bank protection and levees hinder lateral connectivity. "),r.qZA(),r.TgZ(117,"p"),r._uU(118," The human pressures that impact a river\u2019s flow and dynamics are multiple, often linked to urbanization, agriculture, roads and infrastructure built in riparian areas, water abstraction and energy production - to name a few. "),r.qZA()(),r.TgZ(119,"ion-col",43)(120,"figure"),r._UZ(121,"img",45),r.TgZ(122,"figcaption"),r._uU(123,"lorem ipsum"),r.qZA()()()()()(),r.TgZ(124,"section",46)(125,"ion-grid",16)(126,"ion-row",17)(127,"ion-col",18)(128,"h1",47),r._uU(129,"The Main Threats to rivers' connectivity"),r.qZA()(),r.TgZ(130,"ion-col",20)(131,"ion-button",21),r.NdJ("click",function(){return a.setToFullscreen("anthropogenic_threats_figure")}),r._UZ(132,"ion-icon",22),r.qZA()()()(),r.TgZ(133,"figure",48,49),r.NdJ("click",function(){return a.exitFullScreen()}),r.TgZ(135,"video",50),r._UZ(136,"source",51)(137,"source",52),r.qZA(),r._UZ(138,"img",53)(139,"div",54)(140,"div",55)(141,"div",56)(142,"div",57)(143,"div",58)(144,"div",59),r.TgZ(145,"div",60)(146,"div",61)(147,"h5"),r._uU(148),r.ALo(149,"transloco"),r.qZA(),r.TgZ(150,"h5",null,62),r._uU(152),r.ALo(153,"number"),r.qZA()()(),r._UZ(154,"div",63),r.qZA(),r.TgZ(155,"article",64)(156,"div",65),r._UZ(157,"div",30),r.ALo(158,"safehtml"),r.ALo(159,"transloco"),r.qZA(),r.TgZ(160,"div",32),r._UZ(161,"div",30),r.ALo(162,"safehtml"),r.ALo(163,"transloco"),r.qZA(),r.TgZ(164,"div",33),r._UZ(165,"div",30),r.ALo(166,"safehtml"),r.ALo(167,"transloco"),r.qZA(),r.TgZ(168,"div",34),r._UZ(169,"div",30),r.ALo(170,"safehtml"),r.ALo(171,"transloco"),r.qZA(),r.TgZ(172,"div",66),r._UZ(173,"div",30),r.ALo(174,"safehtml"),r.ALo(175,"transloco"),r.qZA(),r.TgZ(176,"div",36),r._UZ(177,"div",30),r.ALo(178,"safehtml"),r.ALo(179,"transloco"),r.qZA(),r.TgZ(180,"div",37),r._UZ(181,"div",30),r.ALo(182,"safehtml"),r.ALo(183,"transloco"),r.qZA(),r.TgZ(184,"div",67),r._UZ(185,"div",30),r.ALo(186,"safehtml"),r.ALo(187,"transloco"),r.qZA(),r.TgZ(188,"div",68),r._UZ(189,"div",30),r.ALo(190,"safehtml"),r.ALo(191,"transloco"),r.qZA(),r.TgZ(192,"div",69),r._UZ(193,"div",30),r.ALo(194,"safehtml"),r.ALo(195,"transloco"),r.qZA(),r.TgZ(196,"div",70),r._UZ(197,"div",30),r.ALo(198,"safehtml"),r.ALo(199,"transloco"),r.qZA(),r.TgZ(200,"div",71),r._UZ(201,"div",30),r.ALo(202,"safehtml"),r.ALo(203,"transloco"),r.qZA(),r.TgZ(204,"div",72),r._UZ(205,"div",30),r.ALo(206,"safehtml"),r.ALo(207,"transloco"),r.qZA(),r.TgZ(208,"div",73),r._UZ(209,"div",30),r.ALo(210,"safehtml"),r.ALo(211,"transloco"),r.qZA(),r.TgZ(212,"div",74),r._UZ(213,"div",30),r.ALo(214,"safehtml"),r.ALo(215,"transloco"),r.qZA(),r.TgZ(216,"div",75),r._UZ(217,"div",30),r.ALo(218,"safehtml"),r.ALo(219,"transloco"),r.qZA(),r.TgZ(220,"div",76),r._UZ(221,"div",30),r.ALo(222,"safehtml"),r.ALo(223,"transloco"),r.qZA()()(),r.TgZ(224,"section",77)(225,"p"),r._uU(226," These barriers mostly impact "),r.TgZ(227,"ion-text",78),r._uU(228,"longitudinal connectivity "),r.qZA(),r._uU(229,", blocking or limiting the passage of fish and sediments. "),r.qZA(),r.TgZ(230,"p"),r._uU(231," Some obstacles, like dams, also impact "),r.TgZ(232,"ion-text",78),r._uU(233,"temporal connectivity"),r.qZA(),r._uU(234,", as they regulate the flow of water and sediments according to human needs rather than allowing the river to follow its natural seasonal patterns. "),r.qZA(),r.TgZ(235,"figure"),r._UZ(236,"img",79),r.qZA(),r.TgZ(237,"p"),r._uU(238," Other types of human interventions put pressure on "),r.TgZ(239,"ion-text",78),r._uU(240," lateral connectivity"),r.qZA(),r._uU(241,", for example artificial levees and bank protection works. Such barriers are built in the floodplains and run parallel to the river. Levees are used to stop water from flooding the nearby land but, depending on how far they are from the river channel, they could still allow for some lateral movements. Bank protection works, on the other hand, are made specifically to prevent the river channel from shifting its path sideways, although they don\u2019t necessarily block the river\u2019s waters from reaching the floodplains, for example if they are built with rocks that let water pass through. "),r.qZA(),r.TgZ(242,"ion-grid")(243,"ion-row")(244,"ion-col",80)(245,"figure"),r._UZ(246,"img",81),r.TgZ(247,"figcaption"),r._uU(248,"loren ipsum"),r.qZA()()(),r.TgZ(249,"ion-col",80)(250,"figure"),r._UZ(251,"img",82),r.TgZ(252,"figcaption"),r._uU(253,"loren ipsum"),r.qZA()()()()()(),r.TgZ(254,"section",83)(255,"div")(256,"p"),r._uU(257," Rivers with lateral barriers quickly become channels that follow a strict path, rather than live elements that weave in the environment and change shape over time. This can cause catastrophic floods when rivers overflow embankments and also increases flood risk further downstream. "),r.qZA()(),r.TgZ(258,"figure"),r.YNc(259,wc,3,0,"img-comparison-slider",84),r.YNc(260,Ds,3,0,"img-comparison-slider",85),r.TgZ(261,"figcaption"),r._uU(262,"lorem ipsum"),r.qZA()(),r.TgZ(263,"div")(264,"p"),r._uU(265," Lateral obstacles are less likely to be noticed as they are deeply ingrained in the anthropized landscape, but they are even more numerous than the shocking number of longitudinal obstacles like dams, weirs, ramps, and sluices. "),r.qZA()(),r.TgZ(266,"ion-grid",17)(267,"ion-row",17)(268,"ion-col",86)(269,"figure"),r._UZ(270,"img",87),r.TgZ(271,"figcaption"),r._uU(272,"lorem ipsum"),r.qZA()()(),r.TgZ(273,"ion-col",88)(274,"p"),r._uU(275," Lastly, human interventions hinder the "),r.TgZ(276,"ion-text",78),r._uU(277," vertical connectivity"),r.qZA(),r._uU(278," of the riverbed. Activities like paving, dredging, or clogging with fine sediments limit the exchange between surface and groundwater. "),r.qZA()()()()(),r.TgZ(279,"section",89,90)(281,"h1",38),r._uU(282,"The ecological impacts of the loss of connectivity"),r.qZA()(),r.TgZ(283,"section",91)(284,"div")(285,"p"),r._uU(286," As rivers encounter man-made barriers to their free flow, the complex habitats they sustain are degraded or lost and animal species become increasingly vulnerable. Freshwater biodiversity is taking the hardest hit, declining at a faster rate than that of oceans and forests, according to WWF\u2019s "),r.TgZ(287,"a",92),r._uU(288,"Living Planet Index."),r.qZA()(),r.TgZ(289,"p"),r._uU(290,"Freshwater species have declined by 84% on average across monitored species compared to 1970. "),r.qZA(),r._UZ(291,"div",93,94),r.TgZ(293,"p"),r._uU(294," The reasons why freshwater species are declining are multiple, from overfishing to rising water temperatures. The loss of river connectivity impacts biodiversity in many ways. Barriers block rivers\u2019 longitudinal and lateral movements, fragmenting habitats and making entire portions inaccessible. For example, migratory fish might get cut off from their breeding areas, but even non-migratory fish species are impacted, as they can\u2019t reach sheltered or nutrient-rich areas of the river that are critical to their survival. "),r.qZA(),r.TgZ(295,"figure")(296,"video",95),r._UZ(297,"source",96)(298,"source",97),r.qZA(),r.TgZ(299,"figcaption"),r._uU(300,"loren ipsum"),r.qZA()(),r.TgZ(301,"p"),r._uU(302," Fish get caught in dam turbines as they move downstream, or get stuck and disoriented as they move upstream and in reservoirs. In short, the negative impact of river fragmentation on the survival of fish species is great, and has been "),r.TgZ(303,"a",98),r._uU(304,"documented and quantified"),r.qZA(),r._uU(305,". "),r.qZA(),r.TgZ(306,"p"),r._uU(307," Barriers also transform the physical and chemical characteristics of rivers and negatively impact a wide range of freshwater species. Sediments of different sizes, especially the coarser ones, get trapped, leading to riverbed erosion. The latter, together with the altered water flows due to barriers, is linked to more salty water from the sea penetrating the river. Such change in salinity affects species\u2019 distribution, behavior, and limits the reproduction rate. "),r.qZA(),r.TgZ(308,"p"),r._uU(309," Lateral barriers such as bank protection works have an impact on floodplain habitats and cause the loss of wetlands by preventing natural-occurring inundations and sediment redistribution and reducing the exchange with the groundwater. "),r.qZA(),r.TgZ(310,"p"),r._uU(311," Migratory birds face growing challenges as they lose access to wetlands, which offer safe havens of food and habitat throughout their journeys. Critical nesting habitat such as gravel bed bars and islands can disappear due to altered river flows. "),r.qZA()()(),r.TgZ(312,"section",99,100)(314,"ion-grid",16)(315,"ion-row",17)(316,"ion-col",18)(317,"h1",19),r._uU(318,"Freshwater Species"),r.qZA()(),r.TgZ(319,"ion-col",20)(320,"ion-button",21),r.NdJ("click",function(){return a.setToFullscreen("ecosystem_impacts_viz_figure")}),r._UZ(321,"ion-icon",22),r.qZA()()()(),r.TgZ(322,"figure",101,102),r.NdJ("click",function(){return a.exitFullScreen()}),r._UZ(324,"div",103)(325,"div",104),r.qZA(),r.TgZ(326,"article",105),r._UZ(327,"div",106),r.ALo(328,"safehtml"),r.ALo(329,"transloco"),r._UZ(330,"div",107),r.ALo(331,"safehtml"),r.ALo(332,"transloco"),r._UZ(333,"div",108),r.ALo(334,"safehtml"),r.ALo(335,"transloco"),r._UZ(336,"div",109),r.ALo(337,"safehtml"),r.ALo(338,"transloco"),r._UZ(339,"div",110),r.ALo(340,"safehtml"),r.ALo(341,"transloco"),r._UZ(342,"div",111),r.ALo(343,"safehtml"),r.ALo(344,"transloco"),r._UZ(345,"div",112),r.ALo(346,"safehtml"),r.ALo(347,"transloco"),r._UZ(348,"div",113),r.ALo(349,"safehtml"),r.ALo(350,"transloco"),r._UZ(351,"div",114),r.ALo(352,"safehtml"),r.ALo(353,"transloco"),r.qZA()(),r.TgZ(354,"section",115)(355,"div")(356,"p"),r._uU(357," The trapping of sediments by barriers doesn\u2019t only alter riparian habitats. Without obstacles sediments would eventually reach the coastal zone, preventing coastal erosion and the loss of river deltas. Areas rich in sediments are often also rich in biodiversity since they supplement the soil with nutrients. It is "),r.TgZ(358,"a",116),r._uU(359,"estimated"),r.qZA(),r._uU(360," that the Nile river delta is losing 98% of its sediment supply because of upstream dams and reservoirs. "),r.qZA(),r.TgZ(361,"p"),r._uU(362,"Sediment trapping and downstream erosion threaten the lives and economic activities of the millions of people who belong to communities settled along river deltas and coasts. "),r.qZA(),r.TgZ(363,"p"),r._uU(364," Erosion makes these environments increasingly susceptible to heavy floods, a risk aggravated by rising sea levels. "),r.qZA(),r.TgZ(365,"figure"),r.YNc(366,xc,3,0,"img-comparison-slider",84),r.YNc(367,bc,3,0,"img-comparison-slider",85),r.TgZ(368,"figcaption"),r._uU(369,"lorem ipsum"),r.qZA()()()(),r.TgZ(370,"section",117)(371,"h1",118),r._uU(372,"The future for European rivers"),r.qZA(),r.TgZ(373,"div")(374,"p"),r._uU(375," While many other factors contribute to changing landscapes and declining freshwater populations, a river system where connectivity is compromised is surely exacerbating such trends. It is not only the environment and wildlife that are suffering the consequences of the absence of river connectivity. Humans too are already bearing the cost. Is there hope for things to change in Europe, hosting one of the most fragmented and compromised river networks in the world? "),r.qZA(),r.TgZ(376,"p"),r._uU(377,"A particular source of concern is the development of new hydropower dams. In the search for renewable energy sources, hydropower is often valued as a solid option."),r.TgZ(378,"a",119),r._uU(379," A 2019 study by WWF "),r.qZA(),r._uU(380,"found that there are at least 8,785 new dams either planned or already under construction in Europe, which would add to the 21,387 existing ones. "),r.qZA(),r.TgZ(381,"p"),r._uU(382," And these new barriers are likely going to be even more impactful than those already in place. "),r.qZA()()(),r.TgZ(383,"section",120)(384,"figure",121),r._UZ(385,"div",122,123)(387,"div",124,125)(389,"div",126,127),r.TgZ(391,"figcaption"),r._uU(392,"loren ipsum"),r.qZA()(),r.TgZ(393,"article",128),r._UZ(394,"div",129),r.ALo(395,"transloco"),r._UZ(396,"div",107),r.ALo(397,"transloco"),r._UZ(398,"div",108),r.ALo(399,"transloco"),r._UZ(400,"div",109),r.ALo(401,"transloco"),r._UZ(402,"div",110),r.ALo(403,"transloco"),r._UZ(404,"div",130),r.ALo(405,"transloco"),r._UZ(406,"div",131),r.ALo(407,"transloco"),r.qZA()(),r.TgZ(408,"section",132)(409,"div")(410,"h4")(411,"ion-text",133),r._uU(412,"Existing"),r.qZA(),r._uU(413,", "),r.TgZ(414,"ion-text",134),r._uU(415,"planned / in construction "),r.qZA(),r._uU(416," medium-large and small hydropower dams in the Balkans and Eastern Mediterranean Region "),r.qZA()(),r.TgZ(417,"figure"),r.YNc(418,fi,3,0,"img-comparison-slider",84),r.YNc(419,fu,3,0,"img-comparison-slider",85),r.qZA()(),r.TgZ(420,"section",135)(421,"div")(422,"h4"),r._uU(423,"Dam Removal"),r.qZA(),r.TgZ(424,"p"),r._uU(425," A significant number of the man-made obstacles that have hindered river connectivity in Europe could be removed, as they are no longer useful, and in some cases the reconnected reaches can bring back migratory fish. "),r.qZA(),r.TgZ(426,"p"),r._uU(427,"Small and obsolete barriers in particular cause significant harm while providing little benefits - or even representing an economic burden in maintenance costs and safety risks. "),r.qZA(),r.TgZ(428,"p"),r._uU(429," It is on this basis that movements all over the world are organizing to restore global free-flowing rivers by removing the infrastructure that inhibits their free flows. In Europe, Dam Removal Europe has "),r.TgZ(430,"a",136),r._uU(431,"documented"),r.qZA(),r._uU(432," the removal of at least 4,984 longitudinal barriers, and the "),r.TgZ(433,"a",137),r._uU(434,"RiverWiki: Restoring Europe\u2019s rivers"),r.qZA(),r._uU(435," has collected over 1,400 case studies. These case studies portray the complexity of what river restoration can mean in different contexts: not only the demolition of obsolete dams and longitudinal barriers, but also the dismantling of riverbank protections to allow lateral movements, and the mitigation of the impacts, for example through sediment reinjection, when removal is not possible. "),r.qZA(),r._UZ(436,"div",138,139),r.TgZ(438,"p"),r._uU(439,"These numbers capture only a fraction of the overall removed barriers, but there are likely more. Yet, even a small number of strategic removals can have a significant positive impact: the Open Rivers Programme, for example, "),r.TgZ(440,"a",140),r._uU(441,"claims"),r.qZA(),r._uU(442," that by removing just 19 specific dams the programme-supported projects will free 386 km of rivers. "),r.qZA(),r.TgZ(443,"figure")(444,"video",95),r._UZ(445,"source",141)(446,"source",142),r.qZA(),r.TgZ(447,"figcaption"),r._uU(448,"loren ipsum"),r.qZA()(),r.TgZ(449,"p"),r._uU(450," Associations and grassroots movements for the restoration of rivers might finally have found strong institutional support for their actions, with the European Commission presenting the proposal for a "),r.TgZ(451,"a",143),r._uU(452,'"Nature Restoration Law"'),r.qZA(),r._uU(453," in June 2022. "),r.qZA(),r.TgZ(454,"p"),r._uU(455," If approved, the legislation would bind EU Member States to restore rivers and wetlands, along with other natural habitats experiencing degradation and biodiversity loss. In particular, the Nature Restoration Law requires an inventory of barriers and plans for removals, with an ambition for the restoration of at least 25,000 km of free-flowing rivers by 2030. "),r.qZA(),r.TgZ(456,"p"),r._uU(457," The existing experiences of barrier removals and the potential support of the EU legislation show that restoring rivers is not only possible, but can be spectacularly impactful for humans, biodiversity, and landscapes. "),r.qZA(),r.TgZ(458,"p"),r._uU(459," The strategic removal of existing obstacles, the mitigation of the impacts of those that cannot be removed, together with the conservation of existing free-flowing river reaches, and a critical assessment of future hydropower dam developments, are much-needed actions to counter the loss of river connectivity in Europe. "),r.qZA(),r.TgZ(460,"figure"),r._UZ(461,"img",144),r.TgZ(462,"figcaption"),r._uU(463,"lorem ipsum"),r.qZA()()()(),r.TgZ(464,"section",145)(465,"h1",146),r._uU(466,"About the project"),r.qZA(),r.TgZ(467,"h4"),r._uU(468,"Credits:"),r.qZA(),r.TgZ(469,"p")(470,"ion-label",44),r._uU(471,"Project financed by:"),r.qZA(),r._uU(472," CIRF, Wetlands International Europe, LIFE Programme "),r.qZA(),r.TgZ(473,"p")(474,"ion-label",44),r._uU(475,"Scientific supervision:"),r.qZA(),r._uU(476," Andrea Goltara (CIRF), Paul Brotherton (Wetlands International Europe) "),r.qZA(),r.TgZ(477,"p")(478,"ion-label",44),r._uU(479,"Science Communication:"),r.qZA(),r._uU(480," Erica Villa "),r.qZA(),r.TgZ(481,"p")(482,"ion-label",44),r._uU(483,"Data, visualizations, and content:"),r.qZA(),r._uU(484," Alice Corona "),r.qZA(),r.TgZ(485,"p")(486,"ion-label",44),r._uU(487,"Website design and development:"),r.qZA(),r._uU(488," Lorenzo Brutti "),r.qZA(),r.TgZ(489,"h4"),r._uU(490,"Info:"),r.qZA(),r.TgZ(491,"p")(492,"a",147),r._uU(493,"CIRF - Centro Italiano per la Riqualificazione Fluviale"),r.qZA(),r._uU(494," ("),r.TgZ(495,"a",148),r._uU(496,"info@cirf.org"),r.qZA(),r._uU(497,") "),r.qZA(),r.TgZ(498,"p")(499,"a",149),r._uU(500,"Wetlands International Europe"),r.qZA()()(),r.TgZ(501,"section",150)(502,"h4"),r._uU(503,"About the data:"),r.qZA(),r.TgZ(504,"p"),r._uU(505," Grill, G., Lehner, B., Thieme, M. et al. Mapping the world\u2019s free-flowing rivers. Nature 569, 215-221 (2019). "),r._UZ(506,"br"),r.TgZ(507,"a",151),r._uU(508," https://doi.org/10.1038/s41586-019-1111-9"),r.qZA()(),r.TgZ(509,"p"),r._uU(510," AMBER Consortium (2020). The AMBER Barrier Atlas. A Pan-European database of artificial instream barriers. Version 1.0 June 29th 2020. "),r._UZ(511,"br"),r.TgZ(512,"a",152),r._uU(513," https://amber.international/european-barrier-atlas/"),r.qZA()(),r.TgZ(514,"p"),r._uU(515," Hydropower pressure on European rivers: The story in numbers by WWF, RiverWatch, EuroNatur,GEOTA "),r._UZ(516,"br"),r.TgZ(517,"a",153),r._uU(518," https://wwfeu.awsassets.panda.org/downloads/hydropower_pressure_on_european_rivers_the_story_in_numbers_web.pdf"),r.qZA()(),r.TgZ(519,"p"),r._uU(520," R\xe9f\xe9rentiel des obstacles \xe0 l'\xe9coulement (ROE)- Sandre. "),r._UZ(521,"br"),r.TgZ(522,"a",154),r._uU(523," https://www.sandre.eaufrance.fr/atlas/srv/fre/catalog.search#/metadata/59057026-b40c-4cf9-9e3e-7296e0aa1a78"),r.qZA()(),r.TgZ(524,"p"),r._uU(525," LPI 2016. Living Planet Index database. 2016. "),r._UZ(526,"br"),r.TgZ(527,"a",155),r._uU(528," https://www.livingplanetindex.org"),r.qZA(),r._UZ(529,"br"),r._uU(530," Downloaded on 24 July 2022 "),r.qZA(),r.TgZ(531,"p"),r._uU(532," IUCN. 2022. The IUCN Red List of Threatened Species. Version 2022-1. "),r._UZ(533,"br"),r.TgZ(534,"a",156),r._uU(535," https://www.iucnredlist.org"),r.qZA(),r._UZ(536,"br"),r._uU(537," Accessed on 24 July 2022. "),r.qZA(),r.TgZ(538,"p")(539,"a",157),r._uU(540," https://www.nature.org/content/dam/tnc/nature/en/documents/powerofriversreport_final3.pdf"),r.qZA()()()()()()),2&s&&(r.Q6J("fullscreen",!0),r.xp6(6),r.Oqu(a.hovercardData.title),r.xp6(3),r.s9C("src",a.hovercardData.imgSrc,r.LSH),r.s9C("alt",a.hovercardData.imgAlt),r.xp6(2),r.Q6J("innerText",a.hovercardData.content),r.xp6(1),r.Q6J("ngClass",r.VKq(288,hu,a.platform.is("mobile")&&a.platform.isPortrait())),r.xp6(4),r.Oqu(r.lcZ(17,69,"introTitle")),r.xp6(3),r.Oqu(r.lcZ(20,71,"introSubtitle")),r.xp6(11),r.Q6J("ngForOf",a.breadcrumbItems),r.xp6(18),r.Q6J("innerHTML",r.xi3(49,73,r.lcZ(50,76,"healthyRivers.step-1"),"html"),r.oJD),r.xp6(3),r.Q6J("innerHTML",r.xi3(52,78,r.lcZ(53,81,"healthyRivers.step-1-subtitle"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(56,83,r.lcZ(57,86,"healthyRivers.step-2"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(60,88,r.lcZ(61,91,"healthyRivers.step-3"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(64,93,r.lcZ(65,96,"healthyRivers.step-4"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(68,98,r.lcZ(69,101,"healthyRivers.step-5"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(72,103,r.lcZ(73,106,"healthyRivers.step-6"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(76,108,r.lcZ(77,111,"healthyRivers.step-7"),"html"),r.oJD),r.xp6(6),r.Q6J("ngClass",r.WLB(290,pu,a.platform.is("desktop"),a.platform.is("mobile"))),r.xp6(5),r.Q6J("innerHTML",r.xi3(87,113,r.lcZ(88,116,"connectivity.step-1"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(91,118,r.lcZ(92,121,"connectivity.step-2"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(95,123,r.lcZ(96,126,"connectivity.step-3"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(99,128,r.lcZ(100,131,"connectivity.step-4"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(103,133,r.lcZ(104,136,"connectivity.step-5"),"html"),r.oJD),r.xp6(46),r.Oqu(r.lcZ(149,138,"anthropogenicThreats.barrierCounterTitle")),r.xp6(4),r.Oqu(r.Dn7(153,140,a.barrierCount,"","en-US")),r.xp6(5),r.Q6J("innerHTML",r.xi3(158,144,r.lcZ(159,147,"anthropogenicThreats.step-1"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(162,149,r.lcZ(163,152,"anthropogenicThreats.step-2"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(166,154,r.lcZ(167,157,"anthropogenicThreats.step-3"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(170,159,r.lcZ(171,162,"anthropogenicThreats.step-4"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(174,164,r.lcZ(175,167,"anthropogenicThreats.step-5"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(178,169,r.lcZ(179,172,"anthropogenicThreats.step-6"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(182,174,r.lcZ(183,177,"anthropogenicThreats.step-7"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(186,179,r.lcZ(187,182,"anthropogenicThreats.step-8"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(190,184,r.lcZ(191,187,"anthropogenicThreats.step-9"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(194,189,r.lcZ(195,192,"anthropogenicThreats.step-10"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(198,194,r.lcZ(199,197,"anthropogenicThreats.step-11"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(202,199,r.lcZ(203,202,"anthropogenicThreats.step-12"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(206,204,r.lcZ(207,207,"anthropogenicThreats.step-13"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(210,209,r.lcZ(211,212,"anthropogenicThreats.step-14"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(214,214,r.lcZ(215,217,"anthropogenicThreats.step-15"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(218,219,r.lcZ(219,222,"anthropogenicThreats.step-16"),"html"),r.oJD),r.xp6(4),r.Q6J("innerHTML",r.xi3(222,224,r.lcZ(223,227,"anthropogenicThreats.step-17"),"html"),r.oJD),r.xp6(38),r.Q6J("ngIf",a.platform.is("mobile")),r.xp6(1),r.Q6J("ngIf",a.platform.is("desktop")),r.xp6(67),r.Q6J("innerHTML",r.xi3(328,229,r.lcZ(329,232,"ecosystemImpacts.step-1"),"html"),r.oJD),r.xp6(3),r.Q6J("innerHTML",r.xi3(331,234,r.lcZ(332,237,"ecosystemImpacts.step-2"),"html"),r.oJD),r.xp6(3),r.Q6J("innerHTML",r.xi3(334,239,r.lcZ(335,242,"ecosystemImpacts.step-3"),"html"),r.oJD),r.xp6(3),r.Q6J("innerHTML",r.xi3(337,244,r.lcZ(338,247,"ecosystemImpacts.step-4"),"html"),r.oJD),r.xp6(3),r.Q6J("innerHTML",r.xi3(340,249,r.lcZ(341,252,"ecosystemImpacts.step-5"),"html"),r.oJD),r.xp6(3),r.Q6J("innerHTML",r.xi3(343,254,r.lcZ(344,257,"ecosystemImpacts.step-6"),"html"),r.oJD),r.uIk("data-offset",a.ecosystem_viz_drill_offset),r.xp6(3),r.Q6J("innerHTML",r.xi3(346,259,r.lcZ(347,262,"ecosystemImpacts.step-7"),"html"),r.oJD),r.uIk("data-offset",a.ecosystem_viz_drill_offset),r.xp6(3),r.Q6J("innerHTML",r.xi3(349,264,r.lcZ(350,267,"ecosystemImpacts.step-8"),"html"),r.oJD),r.uIk("data-offset",a.ecosystem_viz_drill_offset),r.xp6(3),r.Q6J("innerHTML",r.xi3(352,269,r.lcZ(353,272,"ecosystemImpacts.step-9"),"html"),r.oJD),r.uIk("data-offset",a.ecosystem_viz_drill_offset),r.xp6(15),r.Q6J("ngIf",a.platform.is("mobile")),r.xp6(1),r.Q6J("ngIf",a.platform.is("desktop")),r.xp6(16),r.Q6J("ngClass",r.WLB(293,pu,a.platform.is("desktop"),a.platform.is("mobile"))),r.xp6(11),r.Q6J("innerHTML",r.lcZ(395,274,"possibleFutures.step-1"),r.oJD),r.xp6(2),r.Q6J("innerHTML",r.lcZ(397,276,"possibleFutures.step-2"),r.oJD),r.xp6(2),r.Q6J("innerHTML",r.lcZ(399,278,"possibleFutures.step-3"),r.oJD),r.xp6(2),r.Q6J("innerHTML",r.lcZ(401,280,"possibleFutures.step-4"),r.oJD),r.xp6(2),r.Q6J("innerHTML",r.lcZ(403,282,"possibleFutures.step-5"),r.oJD),r.xp6(2),r.Q6J("innerHTML",r.lcZ(405,284,"possibleFutures.step-6"),r.oJD),r.xp6(2),r.Q6J("innerHTML",r.lcZ(407,286,"possibleFutures.step-7"),r.oJD),r.xp6(12),r.Q6J("ngIf",a.platform.is("mobile")),r.xp6(1),r.Q6J("ngIf",a.platform.is("desktop")))},directives:[v.W2,v.jY,v.Nd,v.wI,dn.mk,v.gZ,v.fn,dn.sg,v.YG,v.gu,v.yW,dn.O5,v.Q$],pipes:[ci.Ot,ir,dn.JJ],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0}body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;min-height:1280px;color:#3b3b3b;font-size:24px}p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{margin:0;font-weight:400}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:teal;text-decoration:none;border-bottom:2px solid currentColor}nav[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between;background:#f3f3f3;padding:1rem 5rem 1rem 1rem;flex-wrap:wrap}.nav__examples[_ngcontent-%COMP%]{display:flex;align-items:baseline;flex-wrap:wrap;margin-top:1rem}#outro[_ngcontent-%COMP%]{height:640px}@media (min-width: 840px){.nav__examples[_ngcontent-%COMP%]{margin-top:0;margin-left:2rem}}[_ngcontent-%COMP%]::ng-dee   svg[_ngcontent-%COMP%]{font-family:var(--ion-font-family)!important}  .active .hex{cursor:context-menu}  .hex[data-quantile="1"]{fill:#ffd8cd}  .hex[data-quantile="2"]{fill:#e48f87}  .hex[data-quantile="3"]{fill:#b65752}  .hex[data-quantile="4"]{fill:#812a27}  .hex[data-quantile="5"]{fill:#4f0000}  #connectivity #base,   #connectivity #longitudinal1,   #connectivity #longitudinal2,   #connectivity #lateral1,   #connectivity #lateral2,   #connectivity #vertical1,   #connectivity #vertical2,   #connectivity #temporal1,   #connectivity #temporal2{opacity:0}  #connectivity #base.active,   #connectivity #longitudinal1.active,   #connectivity #longitudinal2.active,   #connectivity #lateral1.active,   #connectivity #lateral2.active,   #connectivity #vertical1.active,   #connectivity #vertical2.active,   #connectivity #temporal1.active,   #connectivity #temporal2.active{opacity:1}  #connectivity #longitudinal2.active,   #connectivity #lateral2.active,   #connectivity #vertical2.active,   #connectivity #temporal2.active{animation:blinker 1s step-end infinite}  #connectivity #longitudinal1.active,   #connectivity #lateral1.active,   #connectivity #vertical1.active,   #connectivity #temporal1.active{animation:blinker 1s step-start infinite}@keyframes blinker{50%{opacity:0}}  #freshwater_only #extinct,   #freshwater_only #endangered,   #freshwater_only #low_risk,   #freshwater_only #no_data{transition-property:all;transition-duration:.5s;fill-opacity:0;stroke-opacity:0}  #freshwater_only #extinct.active,   #freshwater_only #endangered.active,   #freshwater_only #low_risk.active,   #freshwater_only #no_data.active{transition-property:all;transition-duration:.5s;fill-opacity:1;stroke-opacity:1}  #freshwater_only #low_risk.active{fill-opacity:.403922}  #all_species #freshwater_aggregated,   #all_species #fishes,   #all_species #invertebrates,   #all_species #mammals,   #all_species #reptiles,   #all_species #amphibian,   #all_species #birds{transition-property:all;transition-duration:.5s;opacity:0}  #all_species #freshwater_aggregated.active,   #all_species #fishes.active,   #all_species #invertebrates.active,   #all_species #mammals.active,   #all_species #reptiles.active,   #all_species #amphibian.active,   #all_species #birds.active{transition-property:all;transition-duration:.5s;opacity:1}[_ngcontent-%COMP%]:root{--ion-section-background-color: #e9e4d8;--ion-background-color: #3c372f;--ion-font-family: Century-Gothic, sans-serif;--ion-color-primary: #6C948D;--ion-color-primary-rgb: 108, 148, 141;--ion-color-primary-contrast: #f3f3f3;--ion-color-primary-contrast-rgb: 0, 0, 0;--ion-color-primary-shade: #5f827c;--ion-color-primary-tint: #7b9f98;--ion-color-secondary: #7593ce;--ion-color-secondary-rgb: 117, 147, 206;--ion-color-secondary-contrast: #f3f3f3;--ion-color-secondary-contrast-rgb: 0, 0, 0;--ion-color-secondary-shade: #6781b5;--ion-color-secondary-shade-transarency: #6781b567;--ion-color-secondary-tint: #839ed3;--ion-color-tertiary: #C0A19F;--ion-color-tertiary-rgb: 192, 161, 159;--ion-color-tertiary-contrast: #f3f3f3;--ion-color-tertiary-contrast-rgb: 0, 0, 0;--ion-color-tertiary-shade: #a98e8c;--ion-color-tertiary-tint: #c6aaa9;--ion-color-success: #75938d;--ion-color-success-rgb: 117, 147, 141;--ion-color-success-contrast: #f3f3f3;--ion-color-success-contrast-rgb: 0, 0, 0;--ion-color-success-shade: #67817c;--ion-color-success-tint: #839e98;--ion-color-warning: #CBAA85;--ion-color-warning-dark: #968262;--ion-color-warning-rgb: 203, 170, 133;--ion-color-warning-contrast: #f3f3f3;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #b39675;--ion-color-warning-tint: #d0b391;--ion-color-warning-low-risk: #dbcdb9;--ion-color-danger: #db7870;--ion-color-danger-rgb: 219, 120, 112;--ion-color-danger-contrast: #f3f3f3;--ion-color-danger-contrast-rgb: 0, 0, 0;--ion-color-danger-shade: #c16a63;--ion-color-danger-tint: #df867e;--ion-color-danger-dark: #af6059;--ion-color-medium: #75938d;--ion-color-medium-rgb: 117, 147, 141;--ion-color-medium-contrast: #f3f3f3;--ion-color-medium-contrast-rgb: 0, 0, 0;--ion-color-medium-shade: #67817c;--ion-color-medium-tint: #839e98;--ion-color-light: #BCC2BC;--ion-color-light-rgb: 188, 194, 188;--ion-color-light-contrast: #f3f3f3;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #a5aba5;--ion-color-light-tint: #c3c8c3;--ion-color-text-color-standard: #4d4f4a;--ion-color-no-data: #f3eee7}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}main[_ngcontent-%COMP%]{margin-left:20vw;margin-right:20vw}.centered_text_block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.centered_text_block[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;justify-content:center;flex-direction:column}#hovercard[_ngcontent-%COMP%]{position:fixed;opacity:0;display:none}#hovercard.active[_ngcontent-%COMP%]{display:block;opacity:1;z-index:5000;background-color:red}#breadcrumb[_ngcontent-%COMP%]{background-color:var(--ion-section-background-color);position:sticky;font-size:small!important;top:0;z-index:2000;width:auto;overflow-x:auto;height:36px;display:flex;flex-direction:row;flex-wrap:nowrap}#breadcrumb[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;flex-wrap:nowrap}#breadcrumb[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin:auto}.section_title[_ngcontent-%COMP%]{padding-top:36px;background-color:var(--ion-section-background-color)}.sticky_section_title[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;height:auto;max-height:calc(10vh + 36px)}.stacked_img[_ngcontent-%COMP%]{position:absolute}section[_ngcontent-%COMP%]{position:relative;background-color:var(--ion-section-background-color);padding:1rem}section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{position:relative;max-width:80vw}section[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{position:sticky;margin:auto;transform:translate(0);z-index:0;background-color:var(--ion-section-background-color)}section[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{margin:0 auto 2rem;color:var(--ion-color-text-color-standard);font-size:3rem;text-align:center;opacity:0;transition-duration:.5s;transition-property:opacity;background-color:rgba(var(--ion-section-background-color),.5)}section[_ngcontent-%COMP%]   .step.quick-transition[_ngcontent-%COMP%]{transition-duration:0ms}section[_ngcontent-%COMP%]   .step.smaller-font[_ngcontent-%COMP%]{font-size:1.25rem}section[_ngcontent-%COMP%]   .step.separator[_ngcontent-%COMP%]{background-color:transparent}section[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}section[_ngcontent-%COMP%]   .step.is-active[_ngcontent-%COMP%]{opacity:1}section[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:last-child{margin-bottom:0}section[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;padding:1rem;font-size:1.3rem}.flex-step[_ngcontent-%COMP%]{display:flex;flex-direction:column}.step-footer[_ngcontent-%COMP%]{font-size:medium}.scrolly-sticky-side[_ngcontent-%COMP%]{display:flex}.scrolly-sticky-side[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin:0;display:flex;flex-direction:column;justify-content:center}.scrolly-sticky-side[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{font-size:1.3rem;text-align:left}.scrolly-sticky-side[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{flex:1}.scrolly-sticky-side[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{padding:0 1rem}.scrolly-overlay[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{padding:0;margin:0 auto}.scrolly-overlay[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{left:0}.scrolly-overlay[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:#3b3b3b}#healthy_rivers[_ngcontent-%COMP%]   .map_global_rivers[_ngcontent-%COMP%]{top:10vh;height:calc(100% - 20vh);width:100%;opacity:0;transition-property:opacity;transition-duration:.5s}#healthy_rivers[_ngcontent-%COMP%]   .map_global_rivers.active[_ngcontent-%COMP%]{opacity:1}#river_connectivities[_ngcontent-%COMP%]   .river_connectivity_animation[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transition-duration:.5s;display:flex}#river_connectivities[_ngcontent-%COMP%]   .river_connectivity_animation.active[_ngcontent-%COMP%]{opacity:1}#river_connectivities[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:last-child{height:744px}#river_connectivities[_ngcontent-%COMP%]   #connectivities_step1[_ngcontent-%COMP%]{margin-top:50%}#anthropogenic_threats[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]     ion-text{font-size:5rem;font-weight:700;color:var(--ion-background-color, #3c372f);border-bottom:1rem solid var(--ion-color-base)}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats[_ngcontent-%COMP%]{top:10vh;width:100%;height:calc(100% - 20vh);opacity:0}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats[_ngcontent-%COMP%]     svg{width:100%}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats.active[_ngcontent-%COMP%]{opacity:1}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats.active[_ngcontent-%COMP%]:not(#anthropogenic_threats_hex_bin)  svg path{fill:#db7870;transition:fill .5s}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats.active#anthropogenic_threats_hex_bin[_ngcontent-%COMP%]  svg path.focused{stroke:#000!important;stroke-width:1px!important}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100%}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats.transitioned[_ngcontent-%COMP%]:not(#anthropogenic_threats_hex_bin)  svg path{fill:#1e0e04;fill-opacity:.3}#anthropogenic_threats[_ngcontent-%COMP%]   #barrier_counter[_ngcontent-%COMP%]{position:absolute;top:88%;background-color:transparent;color:var(--ion-color-danger);z-index:20}#ecosystem_impacts_viz[_ngcontent-%COMP%]   .ecosystem_impacts_viz[_ngcontent-%COMP%]{top:calc(10vh + 36px);height:calc(100% - 20vh);width:100%;opacity:0;transition-duration:.5s}#ecosystem_impacts_viz[_ngcontent-%COMP%]   .ecosystem_impacts_viz[_ngcontent-%COMP%]     svg{width:100%}#ecosystem_impacts_viz[_ngcontent-%COMP%]   .ecosystem_impacts_viz.active[_ngcontent-%COMP%]{opacity:1}#ecosystem_impacts_viz[_ngcontent-%COMP%]   .ecosystem_impacts_viz[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100%}#ecosystem_impacts_viz[_ngcontent-%COMP%]   #ecosystem_impacts_viz_figure_chart_all[_ngcontent-%COMP%]{height:unset}#ecosystem_impacts_viz_article[_ngcontent-%COMP%]     ion-text[highlight-color=danger-dark]{border-bottom:solid .75rem var(--ion-color-danger-dark)}#ecosystem_impacts_viz_article[_ngcontent-%COMP%]     ion-text[highlight-color=danger]{border-bottom:solid .75rem var(--ion-color-danger)}#ecosystem_impacts_viz_article[_ngcontent-%COMP%]     ion-text[highlight-color=least-concern]{border-bottom:solid .75rem var(--ion-color-warning-low-risk)}#ecosystem_impacts_viz_article[_ngcontent-%COMP%]     ion-text[highlight-color=no-data]{border-bottom:solid .75rem var(--ion-color-no-data)}#possible_futures_viz[_ngcontent-%COMP%]   .possible_futures_viz[_ngcontent-%COMP%]{top:10vh;width:100%;height:calc(100% - 20vh);opacity:0;transition-duration:.5s;display:flex;flex-direction:column;justify-content:center}#possible_futures_viz[_ngcontent-%COMP%]   .possible_futures_viz[_ngcontent-%COMP%]     svg{width:100%}#possible_futures_viz[_ngcontent-%COMP%]   .possible_futures_viz.active[_ngcontent-%COMP%]{opacity:1}#possible_futures_viz[_ngcontent-%COMP%]   .possible_futures_viz[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100%}main.mobile[_ngcontent-%COMP%]{--ion-color-primary-contrast: #e9e4d8;--ion-color-secondary-contrast: #e9e4d8;--ion-color-tertiary-contrast: #e9e4d8;--ion-color-success-contrast: #e9e4d8;--ion-color-warning-contrast: #e9e4d8;--ion-color-danger-contrast: #e9e4d8;--ion-color-medium-contrast: #e9e4d8;--ion-color-light-contrast: #e9e4d8;margin-left:1vw;margin-right:1vw}main.mobile[_ngcontent-%COMP%]   section[_ngcontent-%COMP%], main.mobile[_ngcontent-%COMP%]   #breadcrumb[_ngcontent-%COMP%]{background-color:var(--ion-section-background-color)}main.mobile[_ngcontent-%COMP%]   #healthy_rivers[_ngcontent-%COMP%]   .map_global_rivers[_ngcontent-%COMP%]{top:2.5vh}main.mobile[_ngcontent-%COMP%]   #river_connectivities[_ngcontent-%COMP%]   .river_connectivity_animation[_ngcontent-%COMP%]{margin-top:2vh}main.mobile[_ngcontent-%COMP%]   #river_connectivities[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{font-size:1.25rem}main.mobile[_ngcontent-%COMP%]   #river_connectivities[_ngcontent-%COMP%]   #connectivities_step1[_ngcontent-%COMP%]{margin-top:unset}main.mobile[_ngcontent-%COMP%]   #ecosystem_impacts_viz[_ngcontent-%COMP%]   .ecosystem_impacts_viz[_ngcontent-%COMP%]{height:unset}main.mobile[_ngcontent-%COMP%]   #ecosystem_impacts_viz[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{font-size:1.25rem}main.mobile[_ngcontent-%COMP%]   #possible_futures_viz[_ngcontent-%COMP%]   .possible_futures_viz[_ngcontent-%COMP%]{display:unset;flex-direction:unset;justify-content:unset}main.mobile[_ngcontent-%COMP%]   #possible_futures_viz[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{font-size:1.25rem}main.mobile[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{margin:0 auto 2rem;font-size:2rem;background-color:transparent;text-align:left}']}),n})()}];let Tc=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[tn.Bz.forChild(Ac)],tn.Bz]}),n})();jt(7596);let gu=(()=>{class n{static forRoot(){return{ngModule:n,providers:[]}}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[]]}),n})(),Cc=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[dn.ez,cr.u5,v.Pc,Tc,ci.y4,gu]]}),n})()},7489:function(Mn,gn,jt){var dn;Mn=jt.nmd(Mn),function(){var v,Jt="Expected a function",Er="__lodash_hash_undefined__",_n="__lodash_placeholder__",mn=1/0,Be=9007199254740991,Pe=4294967295,wo=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Sn="[object Arguments]",On="[object Array]",Y="[object Boolean]",St="[object Date]",Lt="[object Error]",qt="[object Function]",Je="[object GeneratorFunction]",ne="[object Map]",We="[object Number]",ge="[object Object]",kn="[object Promise]",kr="[object RegExp]",$e="[object Set]",Pr="[object String]",mi="[object Symbol]",Lr="[object WeakMap]",Ur="[object ArrayBuffer]",gr="[object DataView]",xo="[object Float32Array]",bo="[object Float64Array]",Ir="[object Int8Array]",vi="[object Int16Array]",dr="[object Int32Array]",Ao="[object Uint8Array]",To="[object Uint8ClampedArray]",Mo="[object Uint16Array]",Co="[object Uint32Array]",Eu=/\b__p \+= '';/g,Su=/\b(__p \+=) '' \+/g,Ou=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Zo=/&(?:amp|lt|gt|quot|#39);/g,qs=/[&<>"']/g,ku=RegExp(Zo.source),Pu=RegExp(qs.source),Lu=/<%-([\s\S]+?)%>/g,_r=/<%([\s\S]+?)%>/g,Ns=/<%=([\s\S]+?)%>/g,Uu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Iu=/^\w*$/,Ru=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yi=/[\\^$.*+?()[\]{}|]/g,Eo=RegExp(yi.source),wi=/^\s+/,Hs=/\s/,Bs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zu=/\{\n\/\* \[wrapped with (.+)\] \*/,Du=/,? & /,Fu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qu=/[()=,{}\[\]\/\s]/,Nu=/\\(\\)?/g,Hu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Js=/\w*$/,Bu=/^[-+]0x[0-9a-f]+$/i,Ju=/^0b[01]+$/i,Wu=/^\[object .+?Constructor\]$/,$u=/^0o[0-7]+$/i,Gu=/^(?:0|[1-9]\d*)$/,Yu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xi=/($^)/,Qu=/['\n\r\u2028\u2029\\]/g,bi="\\ud800-\\udfff",$s="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Gs="\\u2700-\\u27bf",Ys="a-z\\xdf-\\xf6\\xf8-\\xff",Qs="A-Z\\xc0-\\xd6\\xd8-\\xde",Xs="\\ufe0e\\ufe0f",Ks="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nl="["+bi+"]",Vs="["+Ks+"]",Ai="["+$s+"]",Oo="\\d+",rl="["+Gs+"]",js="["+Ys+"]",ta="[^"+bi+Ks+Oo+Gs+Ys+Qs+"]",ko="\\ud83c[\\udffb-\\udfff]",ve="[^"+bi+"]",Ti="(?:\\ud83c[\\udde6-\\uddff]){2}",Po="[\\ud800-\\udbff][\\udc00-\\udfff]",nn="["+Qs+"]",Lo="(?:"+js+"|"+ta+")",Mi="(?:"+nn+"|"+ta+")",ra="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ia="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Uo="(?:"+Ai+"|"+ko+")?",oa="["+Xs+"]?",Io=oa+Uo+"(?:\\u200d(?:"+[ve,Ti,Po].join("|")+")"+oa+Uo+")*",Ci="(?:"+[rl,Ti,Po].join("|")+")"+Io,Dr="(?:"+[ve+Ai+"?",Ai,Ti,Po,nl].join("|")+")",Zi=RegExp("['\u2019]","g"),Jn=RegExp(Ai,"g"),vr=RegExp(ko+"(?="+ko+")|"+Dr+Io,"g"),Fr=RegExp([nn+"?"+js+"+"+ra+"(?="+[Vs,nn,"$"].join("|")+")",Mi+"+"+ia+"(?="+[Vs,nn+Lo,"$"].join("|")+")",nn+"?"+Lo+"+"+ra,nn+"+"+ia,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oo,Ci].join("|"),"g"),sa=RegExp("[\\u200d"+bi+$s+Xs+"]"),Ro=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,il=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ei=-1,It={};It[xo]=It[bo]=It[Ir]=It[vi]=It[dr]=It[Ao]=It[To]=It[Mo]=It[Co]=!0,It[Sn]=It[On]=It[Ur]=It[Y]=It[gr]=It[St]=It[Lt]=It[qt]=It[ne]=It[We]=It[ge]=It[kr]=It[$e]=It[Pr]=It[Lr]=!1;var Rt={};Rt[Sn]=Rt[On]=Rt[Ur]=Rt[gr]=Rt[Y]=Rt[St]=Rt[xo]=Rt[bo]=Rt[Ir]=Rt[vi]=Rt[dr]=Rt[ne]=Rt[We]=Rt[ge]=Rt[kr]=Rt[$e]=Rt[Pr]=Rt[mi]=Rt[Ao]=Rt[To]=Rt[Mo]=Rt[Co]=!0,Rt[Lt]=Rt[qt]=Rt[Lr]=!1;var zo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ua=parseFloat,al=parseInt,la="object"==typeof global&&global&&global.Object===Object&&global,ca="object"==typeof self&&self&&self.Object===Object&&self,re=la||ca||Function("return this")(),Si=gn&&!gn.nodeType&&gn,Pn=Si&&Mn&&!Mn.nodeType&&Mn,Do=Pn&&Pn.exports===Si,qr=Do&&la.process,de=function(){try{return Pn&&Pn.require&&Pn.require("util").types||qr&&qr.binding&&qr.binding("util")}catch(O){}}(),Nr=de&&de.isArrayBuffer,Oi=de&&de.isDate,Ge=de&&de.isMap,Le=de&&de.isRegExp,fa=de&&de.isSet,ha=de&&de.isTypedArray;function Ce(A,O,Z){switch(Z.length){case 0:return A.call(O);case 1:return A.call(O,Z[0]);case 2:return A.call(O,Z[0],Z[1]);case 3:return A.call(O,Z[0],Z[1],Z[2])}return A.apply(O,Z)}function Ye(A,O,Z,J){for(var lt=-1,Et=null==A?0:A.length;++lt<Et;){var ie=A[lt];O(J,ie,Z(ie),A)}return J}function Ze(A,O){for(var Z=-1,J=null==A?0:A.length;++Z<J&&!1!==O(A[Z],Z,A););return A}function Fo(A,O){for(var Z=null==A?0:A.length;Z--&&!1!==O(A[Z],Z,A););return A}function qo(A,O){for(var Z=-1,J=null==A?0:A.length;++Z<J;)if(!O(A[Z],Z,A))return!1;return!0}function Qe(A,O){for(var Z=-1,J=null==A?0:A.length,lt=0,Et=[];++Z<J;){var ie=A[Z];O(ie,Z,A)&&(Et[lt++]=ie)}return Et}function ki(A,O){return!(null==A||!A.length)&&rn(A,O,0)>-1}function No(A,O,Z){for(var J=-1,lt=null==A?0:A.length;++J<lt;)if(Z(O,A[J]))return!0;return!1}function Dt(A,O){for(var Z=-1,J=null==A?0:A.length,lt=Array(J);++Z<J;)lt[Z]=O(A[Z],Z,A);return lt}function Ln(A,O){for(var Z=-1,J=O.length,lt=A.length;++Z<J;)A[lt+Z]=O[Z];return A}function Ho(A,O,Z,J){var lt=-1,Et=null==A?0:A.length;for(J&&Et&&(Z=A[++lt]);++lt<Et;)Z=O(Z,A[lt],lt,A);return Z}function ul(A,O,Z,J){var lt=null==A?0:A.length;for(J&&lt&&(Z=A[--lt]);lt--;)Z=O(Z,A[lt],lt,A);return Z}function Bo(A,O){for(var Z=-1,J=null==A?0:A.length;++Z<J;)if(O(A[Z],Z,A))return!0;return!1}var ll=Ue("length");function $o(A,O,Z){var J;return Z(A,function(lt,Et,ie){if(O(lt,Et,ie))return J=Et,!1}),J}function Un(A,O,Z,J){for(var lt=A.length,Et=Z+(J?1:-1);J?Et--:++Et<lt;)if(O(A[Et],Et,A))return Et;return-1}function rn(A,O,Z){return O==O?function ya(A,O,Z){for(var J=Z-1,lt=A.length;++J<lt;)if(A[J]===O)return J;return-1}(A,O,Z):Un(A,Wn,Z)}function Pi(A,O,Z,J){for(var lt=Z-1,Et=A.length;++lt<Et;)if(J(A[lt],O))return lt;return-1}function Wn(A){return A!=A}function yr(A,O){var Z=null==A?0:A.length;return Z?Yo(A,O)/Z:NaN}function Ue(A){return function(O){return null==O?v:O[A]}}function Go(A){return function(O){return null==A?v:A[O]}}function pa(A,O,Z,J,lt){return lt(A,function(Et,ie,zt){Z=J?(J=!1,Et):O(Z,Et,ie,zt)}),Z}function Yo(A,O){for(var Z,J=-1,lt=A.length;++J<lt;){var Et=O(A[J]);Et!==v&&(Z=Z===v?Et:Z+Et)}return Z}function Qo(A,O){for(var Z=-1,J=Array(A);++Z<A;)J[Z]=O(Z);return J}function ga(A){return A&&A.slice(0,Jr(A)+1).replace(wi,"")}function ye(A){return function(O){return A(O)}}function Li(A,O){return Dt(O,function(Z){return A[Z]})}function Hr(A,O){return A.has(O)}function da(A,O){for(var Z=-1,J=A.length;++Z<J&&rn(O,A[Z],0)>-1;);return Z}function Xo(A,O){for(var Z=A.length;Z--&&rn(O,A[Z],0)>-1;);return Z}function $n(A,O){for(var Z=A.length,J=0;Z--;)A[Z]===O&&++J;return J}var _a=Go({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Ui=Go({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function hl(A){return"\\"+zo[A]}function Yt(A){return sa.test(A)}function Ri(A){var O=-1,Z=Array(A.size);return A.forEach(function(J,lt){Z[++O]=[lt,J]}),Z}function Br(A,O){return function(Z){return A(O(Z))}}function we(A,O){for(var Z=-1,J=A.length,lt=0,Et=[];++Z<J;){var ie=A[Z];(ie===O||ie===_n)&&(A[Z]=_n,Et[lt++]=Z)}return Et}function on(A){var O=-1,Z=Array(A.size);return A.forEach(function(J){Z[++O]=J}),Z}function ue(A){return Yt(A)?function wa(A){for(var O=vr.lastIndex=0;vr.test(A);)++O;return O}(A):ll(A)}function Ie(A){return Yt(A)?function dl(A){return A.match(vr)||[]}(A):function Jo(A){return A.split("")}(A)}function Jr(A){for(var O=A.length;O--&&Hs.test(A.charAt(O)););return O}var Ko=Go({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Wr=function A(O){var t,Z=(O=null==O?re:Wr.defaults(re.Object(),O,Wr.pick(re,il))).Array,J=O.Date,lt=O.Error,Et=O.Function,ie=O.Math,zt=O.Object,$r=O.RegExp,jo=O.String,Re=O.TypeError,zi=Z.prototype,Gn=zt.prototype,Di=O["__core-js_shared__"],Fi=Et.prototype.toString,kt=Gn.hasOwnProperty,ml=0,ba=(t=/[^.]+$/.exec(Di&&Di.keys&&Di.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",qi=Gn.toString,vl=Fi.call(zt),yl=re._,wl=$r("^"+Fi.call(kt).replace(yi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ni=Do?O.Buffer:v,In=O.Symbol,Hi=O.Uint8Array,Aa=Ni?Ni.allocUnsafe:v,Bi=Br(zt.getPrototypeOf,zt),Ta=zt.create,Ma=Gn.propertyIsEnumerable,Ji=zi.splice,Ca=In?In.isConcatSpreadable:v,Gr=In?In.iterator:v,Yn=In?In.toStringTag:v,Wi=function(){try{var t=ir(zt,"defineProperty");return t({},"",{}),t}catch(e){}}(),xl=O.clearTimeout!==re.clearTimeout&&O.clearTimeout,bl=J&&J.now!==re.Date.now&&J.now,Al=O.setTimeout!==re.setTimeout&&O.setTimeout,$i=ie.ceil,Gi=ie.floor,ts=zt.getOwnPropertySymbols,Tl=Ni?Ni.isBuffer:v,Za=O.isFinite,Ml=zi.join,Cl=Br(zt.keys,zt),Qt=ie.max,le=ie.min,Zl=J.now,Ea=O.parseInt,Sa=ie.random,El=zi.reverse,es=ir(O,"DataView"),Yr=ir(O,"Map"),ns=ir(O,"Promise"),wr=ir(O,"Set"),Qr=ir(O,"WeakMap"),Xr=ir(zt,"create"),Yi=Qr&&new Qr,xr={},Sl=w(es),Ol=w(Yr),kl=w(ns),Pl=w(wr),Ll=w(Qr),Qi=In?In.prototype:v,Ee=Qi?Qi.valueOf:v,Oa=Qi?Qi.toString:v;function p(t){if(Gt(t)&&!mt(t)&&!(t instanceof bt)){if(t instanceof Xe)return t;if(kt.call(t,"__wrapped__"))return b(t)}return new Xe(t)}var xe=function(){function t(){}return function(e){if(!Bt(e))return{};if(Ta)return Ta(e);t.prototype=e;var o=new t;return t.prototype=v,o}}();function rs(){}function Xe(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=v}function bt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pe,this.__views__=[]}function Rn(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var u=t[e];this.set(u[0],u[1])}}function Ft(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var u=t[e];this.set(u[0],u[1])}}function se(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var u=t[e];this.set(u[0],u[1])}}function Qn(t){var e=-1,o=null==t?0:t.length;for(this.__data__=new se;++e<o;)this.add(t[e])}function Se(t){var e=this.__data__=new Ft(t);this.size=e.size}function Vi(t,e){var o=mt(t),u=!o&&pi(t),c=!o&&!u&&Zr(t),d=!o&&!u&&!c&&go(t),y=o||u||c||d,x=y?Qo(t.length,jo):[],T=x.length;for(var L in t)(e||kt.call(t,L))&&(!y||!("length"==L||c&&("offset"==L||"parent"==L)||d&&("buffer"==L||"byteLength"==L||"byteOffset"==L)||bn(L,T)))&&x.push(L);return x}function ss(t){var e=t.length;return e?t[ys(0,e-1)]:v}function as(t,e){return h(Te(t),zn(e,0,t.length))}function us(t){return h(Te(t))}function Xn(t,e,o){(o!==v&&!An(t[e],o)||o===v&&!(e in t))&&yn(t,e,o)}function Kn(t,e,o){var u=t[e];(!kt.call(t,e)||!An(u,o)||o===v&&!(e in t))&&yn(t,e,o)}function Vr(t,e){for(var o=t.length;o--;)if(An(t[o][0],e))return o;return-1}function Bl(t,e,o,u){return Vn(t,function(c,d,y){e(u,c,o(c),y)}),u}function ls(t,e){return t&&cn(e,pe(e),t)}function yn(t,e,o){"__proto__"==e&&Wi?Wi(t,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[e]=o}function cs(t,e){for(var o=-1,u=e.length,c=Z(u),d=null==t;++o<u;)c[o]=d?v:Uc(t,e[o]);return c}function zn(t,e,o){return t==t&&(o!==v&&(t=t<=o?t:o),e!==v&&(t=t>=e?t:e)),t}function oe(t,e,o,u,c,d){var y,x=1&e,T=2&e,L=4&e;if(o&&(y=c?o(t,u,c,d):o(t)),y!==v)return y;if(!Bt(t))return t;var U=mt(t);if(U){if(y=function _c(t){var e=t.length,o=new t.constructor(e);return e&&"string"==typeof t[0]&&kt.call(t,"index")&&(o.index=t.index,o.input=t.input),o}(t),!x)return Te(t,y)}else{var I=he(t),q=I==qt||I==Je;if(Zr(t))return Xa(t,x);if(I==ge||I==Sn||q&&!c){if(y=T||q?{}:cu(t),!x)return T?function lc(t,e){return cn(t,uu(t),e)}(t,function be(t,e){return t&&cn(e,De(e),t)}(y,t)):function uc(t,e){return cn(t,Rs(t),e)}(t,ls(y,t))}else{if(!Rt[I])return c?t:{};y=function mc(t,e,o){var u=t.constructor;switch(e){case Ur:return Ts(t);case Y:case St:return new u(+t);case gr:return function Ka(t,e){var o=e?Ts(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}(t,o);case xo:case bo:case Ir:case vi:case dr:case Ao:case To:case Mo:case Co:return Va(t,o);case ne:return new u;case We:case Pr:return new u(t);case kr:return function Tr(t){var e=new t.constructor(t.source,Js.exec(t));return e.lastIndex=t.lastIndex,e}(t);case $e:return new u;case mi:return function Ms(t){return Ee?zt(Ee.call(t)):{}}(t)}}(t,I,x)}}d||(d=new Se);var j=d.get(t);if(j)return j;d.set(t,y),gf(t)?t.forEach(function(ut){y.add(oe(ut,e,o,ut,t,d))}):hf(t)&&t.forEach(function(ut,Tt){y.set(Tt,oe(ut,e,o,Tt,t,d))});var wt=U?v:(L?T?Ps:ks:T?De:pe)(t);return Ze(wt||t,function(ut,Tt){wt&&(ut=t[Tt=ut]),Kn(y,Tt,oe(ut,e,o,Tt,t,d))}),y}function Wl(t,e,o){var u=o.length;if(null==t)return!u;for(t=zt(t);u--;){var c=o[u],y=t[c];if(y===v&&!(c in t)||!(0,e[c])(y))return!1}return!0}function $l(t,e,o){if("function"!=typeof t)throw new Re(Jt);return s(function(){t.apply(v,o)},e)}function ji(t,e,o,u){var c=-1,d=ki,y=!0,x=t.length,T=[],L=e.length;if(!x)return T;o&&(e=Dt(e,ye(o))),u?(d=No,y=!1):e.length>=200&&(d=Hr,y=!1,e=new Qn(e));t:for(;++c<x;){var U=t[c],I=null==o?U:o(U);if(U=u||0!==U?U:0,y&&I==I){for(var q=L;q--;)if(e[q]===I)continue t;T.push(U)}else d(e,I,u)||T.push(U)}return T}p.templateSettings={escape:Lu,evaluate:_r,interpolate:Ns,variable:"",imports:{_:p}},(p.prototype=rs.prototype).constructor=p,(Xe.prototype=xe(rs.prototype)).constructor=Xe,(bt.prototype=xe(rs.prototype)).constructor=bt,Rn.prototype.clear=function is(){this.__data__=Xr?Xr(null):{},this.size=0},Rn.prototype.delete=function br(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Rn.prototype.get=function Ar(t){var e=this.__data__;if(Xr){var o=e[t];return o===Er?v:o}return kt.call(e,t)?e[t]:v},Rn.prototype.has=function ka(t){var e=this.__data__;return Xr?e[t]!==v:kt.call(e,t)},Rn.prototype.set=function ce(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Xr&&e===v?Er:e,this},Ft.prototype.clear=function Pa(){this.__data__=[],this.size=0},Ft.prototype.delete=function os(t){var e=this.__data__,o=Vr(e,t);return!(o<0||(o==e.length-1?e.pop():Ji.call(e,o,1),--this.size,0))},Ft.prototype.get=function Xi(t){var e=this.__data__,o=Vr(e,t);return o<0?v:e[o][1]},Ft.prototype.has=function Ki(t){return Vr(this.__data__,t)>-1},Ft.prototype.set=function zl(t,e){var o=this.__data__,u=Vr(o,t);return u<0?(++this.size,o.push([t,e])):o[u][1]=e,this},se.prototype.clear=function La(){this.size=0,this.__data__={hash:new Rn,map:new(Yr||Ft),string:new Rn}},se.prototype.delete=function Ua(t){var e=ci(this,t).delete(t);return this.size-=e?1:0,e},se.prototype.get=function Dl(t){return ci(this,t).get(t)},se.prototype.has=function Fl(t){return ci(this,t).has(t)},se.prototype.set=function Kr(t,e){var o=ci(this,t),u=o.size;return o.set(t,e),this.size+=o.size==u?0:1,this},Qn.prototype.add=Qn.prototype.push=function ql(t){return this.__data__.set(t,Er),this},Qn.prototype.has=function Nl(t){return this.__data__.has(t)},Se.prototype.clear=function Hl(){this.__data__=new Ft,this.size=0},Se.prototype.delete=function Bc(t){var e=this.__data__,o=e.delete(t);return this.size=e.size,o},Se.prototype.get=function Jc(t){return this.__data__.get(t)},Se.prototype.has=function Wc(t){return this.__data__.has(t)},Se.prototype.set=function $c(t,e){var o=this.__data__;if(o instanceof Ft){var u=o.__data__;if(!Yr||u.length<199)return u.push([t,e]),this.size=++o.size,this;o=this.__data__=new se(u)}return o.set(t,e),this.size=o.size,this};var Vn=xn(wn),Gl=xn(Ra,!0);function Gc(t,e){var o=!0;return Vn(t,function(u,c,d){return o=!!e(u,c,d)}),o}function sn(t,e,o){for(var u=-1,c=t.length;++u<c;){var d=t[u],y=e(d);if(null!=y&&(x===v?y==y&&!Ke(y):o(y,x)))var x=y,T=d}return T}function Ql(t,e){var o=[];return Vn(t,function(u,c,d){e(u,c,d)&&o.push(u)}),o}function fe(t,e,o,u,c){var d=-1,y=t.length;for(o||(o=yc),c||(c=[]);++d<y;){var x=t[d];e>0&&o(x)?e>1?fe(x,e-1,o,u,c):Ln(c,x):u||(c[c.length]=x)}return c}var Ia=nu(),Xl=nu(!0);function wn(t,e){return t&&Ia(t,e,pe)}function Ra(t,e){return t&&Xl(t,e,pe)}function to(t,e){return Qe(e,function(o){return ar(t[o])})}function Dn(t,e){for(var o=0,u=(e=tr(e,t)).length;null!=t&&o<u;)t=t[_(e[o++])];return o&&o==u?t:v}function fs(t,e,o){var u=e(t);return mt(t)?u:Ln(u,o(t))}function Ae(t){return null==t?t===v?"[object Undefined]":"[object Null]":Yn&&Yn in zt(t)?function pc(t){var e=kt.call(t,Yn),o=t[Yn];try{t[Yn]=v;var u=!0}catch(d){}var c=qi.call(t);return u&&(e?t[Yn]=o:delete t[Yn]),c}(t):function Tc(t){return qi.call(t)}(t)}function eo(t,e){return t>e}function Yc(t,e){return null!=t&&kt.call(t,e)}function Kl(t,e){return null!=t&&e in zt(t)}function jr(t,e,o){for(var u=o?No:ki,c=t[0].length,d=t.length,y=d,x=Z(d),T=1/0,L=[];y--;){var U=t[y];y&&e&&(U=Dt(U,ye(e))),T=le(U.length,T),x[y]=!o&&(e||c>=120&&U.length>=120)?new Qn(y&&U):v}U=t[0];var I=-1,q=x[0];t:for(;++I<c&&L.length<T;){var j=U[I],at=e?e(j):j;if(j=o||0!==j?j:0,!(q?Hr(q,at):u(L,at,o))){for(y=d;--y;){var wt=x[y];if(!(wt?Hr(wt,at):u(t[y],at,o)))continue t}q&&q.push(at),L.push(j)}}return L}function no(t,e,o){var u=null==(t=gu(t,e=tr(e,t)))?t:t[_($(e))];return null==u?v:Ce(u,t,o)}function jl(t){return Gt(t)&&Ae(t)==Sn}function un(t,e,o,u,c){return t===e||(null==t||null==e||!Gt(t)&&!Gt(e)?t!=t&&e!=e:function ec(t,e,o,u,c,d){var y=mt(t),x=mt(e),T=y?On:he(t),L=x?On:he(e),U=(T=T==Sn?ge:T)==ge,I=(L=L==Sn?ge:L)==ge,q=T==L;if(q&&Zr(t)){if(!Zr(e))return!1;y=!0,U=!1}if(q&&!U)return d||(d=new Se),y||go(t)?au(t,e,o,u,c,d):function fc(t,e,o,u,c,d,y){switch(o){case gr:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ur:return!(t.byteLength!=e.byteLength||!d(new Hi(t),new Hi(e)));case Y:case St:case We:return An(+t,+e);case Lt:return t.name==e.name&&t.message==e.message;case kr:case Pr:return t==e+"";case ne:var x=Ri;case $e:if(x||(x=on),t.size!=e.size&&!(1&u))return!1;var L=y.get(t);if(L)return L==e;u|=2,y.set(t,e);var U=au(x(t),x(e),u,c,d,y);return y.delete(t),U;case mi:if(Ee)return Ee.call(t)==Ee.call(e)}return!1}(t,e,T,o,u,c,d);if(!(1&o)){var j=U&&kt.call(t,"__wrapped__"),at=I&&kt.call(e,"__wrapped__");if(j||at){var wt=j?t.value():t,ut=at?e.value():e;return d||(d=new Se),c(wt,ut,o,u,d)}}return!!q&&(d||(d=new Se),function hc(t,e,o,u,c,d){var y=1&o,x=ks(t),T=x.length;if(T!=ks(e).length&&!y)return!1;for(var I=T;I--;){var q=x[I];if(!(y?q in e:kt.call(e,q)))return!1}var j=d.get(t),at=d.get(e);if(j&&at)return j==e&&at==t;var wt=!0;d.set(t,e),d.set(e,t);for(var ut=y;++I<T;){var Tt=t[q=x[I]],Ct=e[q];if(u)var Ve=y?u(Ct,Tt,q,e,t,d):u(Tt,Ct,q,t,e,d);if(!(Ve===v?Tt===Ct||c(Tt,Ct,o,u,d):Ve)){wt=!1;break}ut||(ut="constructor"==q)}if(wt&&!ut){var ke=t.constructor,je=e.constructor;ke!=je&&"constructor"in t&&"constructor"in e&&!("function"==typeof ke&&ke instanceof ke&&"function"==typeof je&&je instanceof je)&&(wt=!1)}return d.delete(t),d.delete(e),wt}(t,e,o,u,c,d))}(t,e,o,u,un,c))}function hs(t,e,o,u){var c=o.length,d=c,y=!u;if(null==t)return!d;for(t=zt(t);c--;){var x=o[c];if(y&&x[2]?x[1]!==t[x[0]]:!(x[0]in t))return!1}for(;++c<d;){var T=(x=o[c])[0],L=t[T],U=x[1];if(y&&x[2]){if(L===v&&!(T in t))return!1}else{var I=new Se;if(u)var q=u(L,U,T,t,e,I);if(!(q===v?un(U,L,3,u,I):q))return!1}}return!0}function ti(t){return!(!Bt(t)||function xc(t){return!!ba&&ba in t}(t))&&(ar(t)?wl:Wu).test(w(t))}function Da(t){return"function"==typeof t?t:null==t?Fe:"object"==typeof t?mt(t)?qa(t[0],t[1]):ds(t):Zf(t)}function io(t){if(!fi(t))return Cl(t);var e=[];for(var o in zt(t))kt.call(t,o)&&"constructor"!=o&&e.push(o);return e}function oo(t,e){return t<e}function gs(t,e){var o=-1,u=ze(t)?Z(t.length):[];return Vn(t,function(c,d,y){u[++o]=e(c,d,y)}),u}function ds(t){var e=Is(t);return 1==e.length&&e[0][2]?hu(e[0][0],e[0][1]):function(o){return o===t||hs(o,t,e)}}function qa(t,e){return zs(t)&&fu(e)?hu(_(t),e):function(o){var u=Uc(o,t);return u===v&&u===e?Ic(o,t):un(e,u,3)}}function jn(t,e,o,u,c){t!==e&&Ia(e,function(d,y){if(c||(c=new Se),Bt(d))!function ei(t,e,o,u,c,d,y){var x=n(t,o),T=n(e,o),L=y.get(T);if(L)Xn(t,o,L);else{var U=d?d(x,T,o+"",t,e,y):v,I=U===v;if(I){var q=mt(T),j=!q&&Zr(T),at=!q&&!j&&go(T);U=T,q||j||at?mt(x)?U=x:Kt(x)?U=Te(x):j?(I=!1,U=Xa(T,!0)):at?(I=!1,U=Va(T,!0)):U=[]:Fs(T)||pi(T)?(U=x,pi(x)?U=mf(x):(!Bt(x)||ar(x))&&(U=cu(T))):I=!1}I&&(y.set(T,U),c(U,T,u,d,y),y.delete(T)),Xn(t,o,U)}}(t,e,y,o,jn,u,c);else{var x=u?u(n(t,y),d,y+"",t,e,c):v;x===v&&(x=d),Xn(t,y,x)}},De)}function _s(t,e){var o=t.length;if(o)return bn(e+=e<0?o:0,o)?t[e]:v}function Na(t,e,o){e=e.length?Dt(e,function(d){return mt(d)?function(y){return Dn(y,1===d.length?d[0]:d)}:d}):[Fe];var u=-1;return e=Dt(e,ye(r())),function cl(A,O){var Z=A.length;for(A.sort(O);Z--;)A[Z]=A[Z].value;return A}(gs(t,function(d,y,x){return{criteria:Dt(e,function(L){return L(d)}),index:++u,value:d}}),function(d,y){return function ac(t,e,o){for(var u=-1,c=t.criteria,d=e.criteria,y=c.length,x=o.length;++u<y;){var T=ja(c[u],d[u]);if(T)return u>=x?T:T*("desc"==o[u]?-1:1)}return t.index-e.index}(d,y,o)})}function ms(t,e,o){for(var u=-1,c=e.length,d={};++u<c;){var y=e[u],x=Dn(t,y);o(x,y)&&ao(d,tr(y,t),x)}return d}function vs(t,e,o,u){var c=u?Pi:rn,d=-1,y=e.length,x=t;for(t===e&&(e=Te(e)),o&&(x=Dt(t,ye(o)));++d<y;)for(var T=0,L=e[d],U=o?o(L):L;(T=c(x,U,T,u))>-1;)x!==t&&Ji.call(x,T,1),Ji.call(t,T,1);return t}function Ha(t,e){for(var o=t?e.length:0,u=o-1;o--;){var c=e[o];if(o==u||c!==d){var d=c;bn(c)?Ji.call(t,c,1):ii(t,c)}}return t}function ys(t,e){return t+Gi(Sa()*(e-t+1))}function ws(t,e){var o="";if(!t||e<1||e>Be)return o;do{e%2&&(o+=t),(e=Gi(e/2))&&(t+=t)}while(e);return o}function gt(t,e){return a(Mc(t,e,Fe),t+"")}function Xc(t){return ss(_o(t))}function Ba(t,e){var o=_o(t);return h(o,zn(e,0,o.length))}function ao(t,e,o,u){if(!Bt(t))return t;for(var c=-1,d=(e=tr(e,t)).length,y=d-1,x=t;null!=x&&++c<d;){var T=_(e[c]),L=o;if("__proto__"===T||"constructor"===T||"prototype"===T)return t;if(c!=y){var U=x[T];(L=u?u(U,T,x):v)===v&&(L=Bt(U)?U:bn(e[c+1])?[]:{})}Kn(x,T,L),x=x[T]}return t}var uo=Yi?function(t,e){return Yi.set(t,e),t}:Fe,Ja=Wi?function(t,e){return Wi(t,"toString",{configurable:!0,enumerable:!1,value:zc(e),writable:!0})}:Fe;function Wa(t){return h(_o(t))}function Oe(t,e,o){var u=-1,c=t.length;e<0&&(e=-e>c?0:c+e),(o=o>c?c:o)<0&&(o+=c),c=e>o?0:o-e>>>0,e>>>=0;for(var d=Z(c);++u<c;)d[u]=t[u+e];return d}function $a(t,e){var o;return Vn(t,function(u,c,d){return!(o=e(u,c,d))}),!!o}function ni(t,e,o){var u=0,c=null==t?u:t.length;if("number"==typeof e&&e==e&&c<=2147483647){for(;u<c;){var d=u+c>>>1,y=t[d];null!==y&&!Ke(y)&&(o?y<=e:y<e)?u=d+1:c=d}return c}return ri(t,e,Fe,o)}function ri(t,e,o,u){var c=0,d=null==t?0:t.length;if(0===d)return 0;for(var y=(e=o(e))!=e,x=null===e,T=Ke(e),L=e===v;c<d;){var U=Gi((c+d)/2),I=o(t[U]),q=I!==v,j=null===I,at=I==I,wt=Ke(I);if(y)var ut=u||at;else ut=L?at&&(u||q):x?at&&q&&(u||!j):T?at&&q&&!j&&(u||!wt):!j&&!wt&&(u?I<=e:I<e);ut?c=U+1:d=U}return le(d,4294967294)}function xs(t,e){for(var o=-1,u=t.length,c=0,d=[];++o<u;){var y=t[o],x=e?e(y):y;if(!o||!An(x,T)){var T=x;d[c++]=0===y?0:y}}return d}function oc(t){return"number"==typeof t?t:Ke(t)?NaN:+t}function _e(t){if("string"==typeof t)return t;if(mt(t))return Dt(t,_e)+"";if(Ke(t))return Oa?Oa.call(t):"";var e=t+"";return"0"==e&&1/t==-mn?"-0":e}function ln(t,e,o){var u=-1,c=ki,d=t.length,y=!0,x=[],T=x;if(o)y=!1,c=No;else if(d>=200){var L=e?null:su(t);if(L)return on(L);y=!1,c=Hr,T=new Qn}else T=e?[]:x;t:for(;++u<d;){var U=t[u],I=e?e(U):U;if(U=o||0!==U?U:0,y&&I==I){for(var q=T.length;q--;)if(T[q]===I)continue t;e&&T.push(I),x.push(U)}else c(T,I,o)||(T!==x&&T.push(I),x.push(U))}return x}function ii(t,e){return null==(t=gu(t,e=tr(e,t)))||delete t[_($(e))]}function Ga(t,e,o,u){return ao(t,e,o(Dn(t,e)),u)}function oi(t,e,o,u){for(var c=t.length,d=u?c:-1;(u?d--:++d<c)&&e(t[d],d,t););return o?Oe(t,u?0:d,u?d+1:c):Oe(t,u?d+1:0,u?c:d)}function Ya(t,e){var o=t;return o instanceof bt&&(o=o.value()),Ho(e,function(u,c){return c.func.apply(c.thisArg,Ln([u],c.args))},o)}function bs(t,e,o){var u=t.length;if(u<2)return u?ln(t[0]):[];for(var c=-1,d=Z(u);++c<u;)for(var y=t[c],x=-1;++x<u;)x!=c&&(d[c]=ji(d[c]||y,t[x],e,o));return ln(fe(d,1),e,o)}function sc(t,e,o){for(var u=-1,c=t.length,d=e.length,y={};++u<c;)o(y,t[u],u<d?e[u]:v);return y}function lo(t){return Kt(t)?t:[]}function As(t){return"function"==typeof t?t:Fe}function tr(t,e){return mt(t)?t:zs(t,e)?[t]:g(Pt(t))}var Kc=gt;function Fn(t,e,o){var u=t.length;return o=o===v?u:o,!e&&o>=u?t:Oe(t,e,o)}var Qa=xl||function(t){return re.clearTimeout(t)};function Xa(t,e){if(e)return t.slice();var o=t.length,u=Aa?Aa(o):new t.constructor(o);return t.copy(u),u}function Ts(t){var e=new t.constructor(t.byteLength);return new Hi(e).set(new Hi(t)),e}function Va(t,e){var o=e?Ts(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}function ja(t,e){if(t!==e){var o=t!==v,u=null===t,c=t==t,d=Ke(t),y=e!==v,x=null===e,T=e==e,L=Ke(e);if(!x&&!L&&!d&&t>e||d&&y&&T&&!x&&!L||u&&y&&T||!o&&T||!c)return 1;if(!u&&!d&&!L&&t<e||L&&o&&c&&!u&&!d||x&&o&&c||!y&&c||!T)return-1}return 0}function tu(t,e,o,u){for(var c=-1,d=t.length,y=o.length,x=-1,T=e.length,L=Qt(d-y,0),U=Z(T+L),I=!u;++x<T;)U[x]=e[x];for(;++c<y;)(I||c<d)&&(U[o[c]]=t[c]);for(;L--;)U[x++]=t[c++];return U}function eu(t,e,o,u){for(var c=-1,d=t.length,y=-1,x=o.length,T=-1,L=e.length,U=Qt(d-x,0),I=Z(U+L),q=!u;++c<U;)I[c]=t[c];for(var j=c;++T<L;)I[j+T]=e[T];for(;++y<x;)(q||c<d)&&(I[j+o[y]]=t[c++]);return I}function Te(t,e){var o=-1,u=t.length;for(e||(e=Z(u));++o<u;)e[o]=t[o];return e}function cn(t,e,o,u){var c=!o;o||(o={});for(var d=-1,y=e.length;++d<y;){var x=e[d],T=u?u(o[x],t[x],x,o,t):v;T===v&&(T=t[x]),c?yn(o,x,T):Kn(o,x,T)}return o}function co(t,e){return function(o,u){var c=mt(o)?Ye:Bl,d=e?e():{};return c(o,t,r(u,2),d)}}function Mr(t){return gt(function(e,o){var u=-1,c=o.length,d=c>1?o[c-1]:v,y=c>2?o[2]:v;for(d=t.length>3&&"function"==typeof d?(c--,d):v,y&&me(o[0],o[1],y)&&(d=c<3?v:d,c=1),e=zt(e);++u<c;){var x=o[u];x&&t(e,x,u,d)}return e})}function xn(t,e){return function(o,u){if(null==o)return o;if(!ze(o))return t(o,u);for(var c=o.length,d=e?c:-1,y=zt(o);(e?d--:++d<c)&&!1!==u(y[d],d,y););return o}}function nu(t){return function(e,o,u){for(var c=-1,d=zt(e),y=u(e),x=y.length;x--;){var T=y[t?x:++c];if(!1===o(d[T],T,d))break}return e}}function Ot(t){return function(e){var o=Yt(e=Pt(e))?Ie(e):v,u=o?o[0]:e.charAt(0),c=o?Fn(o,1).join(""):e.slice(1);return u[t]()+c}}function qn(t){return function(e){return Ho(Mf(Tf(e).replace(Zi,"")),t,"")}}function er(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var o=xe(t.prototype),u=t.apply(o,e);return Bt(u)?u:o}}function iu(t){return function(e,o,u){var c=zt(e);if(!ze(e)){var d=r(o,3);e=pe(e),o=function(x){return d(c[x],x,c)}}var y=t(e,o,u);return y>-1?c[d?e[y]:y]:v}}function fo(t){return hn(function(e){var o=e.length,u=o,c=Xe.prototype.thru;for(t&&e.reverse();u--;){var d=e[u];if("function"!=typeof d)throw new Re(Jt);if(c&&!y&&"wrapper"==Us(d))var y=new Xe([],!0)}for(u=y?u:o;++u<o;){var x=Us(d=e[u]),T="wrapper"==x?Ls(d):v;y=T&&Ds(T[0])&&424==T[1]&&!T[4].length&&1==T[9]?y[Us(T[0])].apply(y,T[3]):1==d.length&&Ds(d)?y[x]():y.thru(d)}return function(){var L=arguments,U=L[0];if(y&&1==L.length&&mt(U))return y.plant(U).value();for(var I=0,q=o?e[I].apply(this,L):U;++I<o;)q=e[I].call(this,q);return q}})}function si(t,e,o,u,c,d,y,x,T,L){var U=128&e,I=1&e,q=2&e,j=24&e,at=512&e,wt=q?v:er(t);return function ut(){for(var Tt=arguments.length,Ct=Z(Tt),Ve=Tt;Ve--;)Ct[Ve]=arguments[Ve];if(j)var ke=Cr(ut),je=$n(Ct,ke);if(u&&(Ct=tu(Ct,u,c,j)),d&&(Ct=eu(Ct,d,y,j)),Tt-=je,j&&Tt<L){var Vt=we(Ct,ke);return Ss(t,e,si,ut.placeholder,o,Ct,Vt,x,T,L-Tt)}var Tn=I?o:this,lr=q?Tn[t]:t;return Tt=Ct.length,x?Ct=Cc(Ct,x):at&&Tt>1&&Ct.reverse(),U&&T<Tt&&(Ct.length=T),this&&this!==re&&this instanceof ut&&(lr=wt||er(lr)),lr.apply(Tn,Ct)}}function Cs(t,e){return function(o,u){return function an(t,e,o,u){return wn(t,function(c,d,y){e(u,o(c),d,y)}),u}(o,t,e(u),{})}}function Zs(t,e){return function(o,u){var c;if(o===v&&u===v)return e;if(o!==v&&(c=o),u!==v){if(c===v)return u;"string"==typeof o||"string"==typeof u?(o=_e(o),u=_e(u)):(o=oc(o),u=oc(u)),c=t(o,u)}return c}}function ho(t){return hn(function(e){return e=Dt(e,ye(r())),gt(function(o){var u=this;return t(e,function(c){return Ce(c,u,o)})})})}function Ht(t,e){var o=(e=e===v?" ":_e(e)).length;if(o<2)return o?ws(e,t):e;var u=ws(e,$i(t/ue(e)));return Yt(e)?Fn(Ie(u),0,t).join(""):u.slice(0,t)}function Es(t){return function(e,o,u){return u&&"number"!=typeof u&&me(e,o,u)&&(o=u=v),e=ur(e),o===v?(o=e,e=0):o=ur(o),function so(t,e,o,u){for(var c=-1,d=Qt($i((e-t)/(o||1)),0),y=Z(d);d--;)y[u?d:++c]=t,t+=o;return y}(e,o,u=u===v?e<o?1:-1:ur(u),t)}}function ai(t){return function(e,o){return"string"==typeof e&&"string"==typeof o||(e=pn(e),o=pn(o)),t(e,o)}}function Ss(t,e,o,u,c,d,y,x,T,L){var U=8&e;e|=U?32:64,4&(e&=~(U?64:32))||(e&=-4);var wt=[t,e,c,U?d:v,U?y:v,U?v:d,U?v:y,x,T,L],ut=o.apply(v,wt);return Ds(t)&&i(ut,wt),ut.placeholder=u,l(ut,t,e)}function ui(t){var e=ie[t];return function(o,u){if(o=pn(o),(u=null==u?0:le(yt(u),292))&&Za(o)){var c=(Pt(o)+"e").split("e");return+((c=(Pt(e(c[0]+"e"+(+c[1]+u)))+"e").split("e"))[0]+"e"+(+c[1]-u))}return e(o)}}var su=wr&&1/on(new wr([,-0]))[1]==mn?function(t){return new wr(t)}:qc;function Os(t){return function(e){var o=he(e);return o==ne?Ri(e):o==$e?function va(A){var O=-1,Z=Array(A.size);return A.forEach(function(J){Z[++O]=[J,J]}),Z}(e):function fl(A,O){return Dt(O,function(Z){return[Z,A[Z]]})}(e,t(e))}}function fn(t,e,o,u,c,d,y,x){var T=2&e;if(!T&&"function"!=typeof t)throw new Re(Jt);var L=u?u.length:0;if(L||(e&=-97,u=c=v),y=y===v?y:Qt(yt(y),0),x=x===v?x:yt(x),L-=c?c.length:0,64&e){var U=u,I=c;u=c=v}var q=T?v:Ls(t),j=[t,e,o,u,c,U,I,d,y,x];if(q&&function Vc(t,e){var o=t[1],u=e[1],c=o|u;if(!(c<131||(128==u&&8==o||128==u&&256==o&&t[7].length<=e[8]||384==u&&e[7].length<=e[8]&&8==o)))return t;1&u&&(t[2]=e[2],c|=1&o?0:4);var x=e[3];if(x){var T=t[3];t[3]=T?tu(T,x,e[4]):x,t[4]=T?we(t[3],_n):e[4]}(x=e[5])&&(t[5]=(T=t[5])?eu(T,x,e[6]):x,t[6]=T?we(t[5],_n):e[6]),(x=e[7])&&(t[7]=x),128&u&&(t[8]=null==t[8]?e[8]:le(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=c}(j,q),t=j[0],e=j[1],o=j[2],u=j[3],c=j[4],!(x=j[9]=j[9]===v?T?0:t.length:Qt(j[9]-L,0))&&24&e&&(e&=-25),e&&1!=e)at=8==e||16==e?function nr(t,e,o){var u=er(t);return function c(){for(var d=arguments.length,y=Z(d),x=d,T=Cr(c);x--;)y[x]=arguments[x];var L=d<3&&y[0]!==T&&y[d-1]!==T?[]:we(y,T);return(d-=L.length)<o?Ss(t,e,si,c.placeholder,v,y,L,v,v,o-d):Ce(this&&this!==re&&this instanceof c?u:t,this,y)}}(t,e,x):32!=e&&33!=e||c.length?si.apply(v,j):function ou(t,e,o,u){var c=1&e,d=er(t);return function y(){for(var x=-1,T=arguments.length,L=-1,U=u.length,I=Z(U+T),q=this&&this!==re&&this instanceof y?d:t;++L<U;)I[L]=u[L];for(;T--;)I[L++]=arguments[++x];return Ce(q,c?o:this,I)}}(t,e,o,u);else var at=function ru(t,e,o){var u=1&e,c=er(t);return function d(){return(this&&this!==re&&this instanceof d?c:t).apply(u?o:this,arguments)}}(t,e,o);return l((q?uo:i)(at,j),t,e)}function li(t,e,o,u){return t===v||An(t,Gn[o])&&!kt.call(u,o)?e:t}function rr(t,e,o,u,c,d){return Bt(t)&&Bt(e)&&(d.set(e,t),jn(t,e,v,rr,d),d.delete(e)),t}function cc(t){return Fs(t)?v:t}function au(t,e,o,u,c,d){var y=1&o,x=t.length,T=e.length;if(x!=T&&!(y&&T>x))return!1;var L=d.get(t),U=d.get(e);if(L&&U)return L==e&&U==t;var I=-1,q=!0,j=2&o?new Qn:v;for(d.set(t,e),d.set(e,t);++I<x;){var at=t[I],wt=e[I];if(u)var ut=y?u(wt,at,I,e,t,d):u(at,wt,I,t,e,d);if(ut!==v){if(ut)continue;q=!1;break}if(j){if(!Bo(e,function(Tt,Ct){if(!Hr(j,Ct)&&(at===Tt||c(at,Tt,o,u,d)))return j.push(Ct)})){q=!1;break}}else if(at!==wt&&!c(at,wt,o,u,d)){q=!1;break}}return d.delete(t),d.delete(e),q}function hn(t){return a(Mc(t,v,At),t+"")}function ks(t){return fs(t,pe,Rs)}function Ps(t){return fs(t,De,uu)}var Ls=Yi?function(t){return Yi.get(t)}:qc;function Us(t){for(var e=t.name+"",o=xr[e],u=kt.call(xr,e)?o.length:0;u--;){var c=o[u],d=c.func;if(null==d||d==t)return c.name}return e}function Cr(t){return(kt.call(p,"placeholder")?p:t).placeholder}function r(){var t=p.iteratee||Dc;return t=t===Dc?Da:t,arguments.length?t(arguments[0],arguments[1]):t}function ci(t,e){var o=t.__data__;return function wc(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?o["string"==typeof e?"string":"hash"]:o.map}function Is(t){for(var e=pe(t),o=e.length;o--;){var u=e[o],c=t[u];e[o]=[u,c,fu(c)]}return e}function ir(t,e){var o=function Ii(A,O){return null==A?v:A[O]}(t,e);return ti(o)?o:v}var Rs=ts?function(t){return null==t?[]:(t=zt(t),Qe(ts(t),function(e){return Ma.call(t,e)}))}:Nc,uu=ts?function(t){for(var e=[];t;)Ln(e,Rs(t)),t=Bi(t);return e}:Nc,he=Ae;function lu(t,e,o){for(var u=-1,c=(e=tr(e,t)).length,d=!1;++u<c;){var y=_(e[u]);if(!(d=null!=t&&o(t,y)))break;t=t[y]}return d||++u!=c?d:!!(c=null==t?0:t.length)&&bu(c)&&bn(y,c)&&(mt(t)||pi(t))}function cu(t){return"function"!=typeof t.constructor||fi(t)?{}:xe(Bi(t))}function yc(t){return mt(t)||pi(t)||!!(Ca&&t&&t[Ca])}function bn(t,e){var o=typeof t;return!!(e=null==e?Be:e)&&("number"==o||"symbol"!=o&&Gu.test(t))&&t>-1&&t%1==0&&t<e}function me(t,e,o){if(!Bt(o))return!1;var u=typeof e;return!!("number"==u?ze(o)&&bn(e,o.length):"string"==u&&e in o)&&An(o[e],t)}function zs(t,e){if(mt(t))return!1;var o=typeof t;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=t&&!Ke(t))||Iu.test(t)||!Uu.test(t)||null!=e&&t in zt(e)}function Ds(t){var e=Us(t),o=p[e];if("function"!=typeof o||!(e in bt.prototype))return!1;if(t===o)return!0;var u=Ls(o);return!!u&&t===u[0]}(es&&he(new es(new ArrayBuffer(1)))!=gr||Yr&&he(new Yr)!=ne||ns&&he(ns.resolve())!=kn||wr&&he(new wr)!=$e||Qr&&he(new Qr)!=Lr)&&(he=function(t){var e=Ae(t),o=e==ge?t.constructor:v,u=o?w(o):"";if(u)switch(u){case Sl:return gr;case Ol:return ne;case kl:return kn;case Pl:return $e;case Ll:return Lr}return e});var bc=Di?ar:Hc;function fi(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Gn)}function fu(t){return t==t&&!Bt(t)}function hu(t,e){return function(o){return null!=o&&o[t]===e&&(e!==v||t in zt(o))}}function Mc(t,e,o){return e=Qt(e===v?t.length-1:e,0),function(){for(var u=arguments,c=-1,d=Qt(u.length-e,0),y=Z(d);++c<d;)y[c]=u[e+c];c=-1;for(var x=Z(e+1);++c<e;)x[c]=u[c];return x[e]=o(y),Ce(t,this,x)}}function gu(t,e){return e.length<2?t:Dn(t,Oe(e,0,-1))}function Cc(t,e){for(var o=t.length,u=le(e.length,o),c=Te(t);u--;){var d=e[u];t[u]=bn(d,o)?c[d]:v}return t}function n(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var i=f(uo),s=Al||function(t,e){return re.setTimeout(t,e)},a=f(Ja);function l(t,e,o){var u=e+"";return a(t,function vc(t,e){var o=e.length;if(!o)return t;var u=o-1;return e[u]=(o>1?"& ":"")+e[u],e=e.join(o>2?", ":" "),t.replace(Bs,"{\n/* [wrapped with "+e+"] */\n")}(u,function m(t,e){return Ze(wo,function(o){var u="_."+o[0];e&o[1]&&!ki(t,u)&&t.push(u)}),t.sort()}(function dc(t){var e=t.match(zu);return e?e[1].split(Du):[]}(u),o)))}function f(t){var e=0,o=0;return function(){var u=Zl(),c=16-(u-o);if(o=u,c>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(v,arguments)}}function h(t,e){var o=-1,u=t.length,c=u-1;for(e=e===v?u:e;++o<e;){var d=ys(o,c),y=t[d];t[d]=t[o],t[o]=y}return t.length=e,t}var g=function pu(t){var e=wu(t,function(u){return 500===o.size&&o.clear(),u}),o=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ru,function(o,u,c,d){e.push(c?d.replace(Nu,"$1"):u||o)}),e});function _(t){if("string"==typeof t||Ke(t))return t;var e=t+"";return"0"==e&&1/t==-mn?"-0":e}function w(t){if(null!=t){try{return Fi.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function b(t){if(t instanceof bt)return t.clone();var e=new Xe(t.__wrapped__,t.__chain__);return e.__actions__=Te(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Q=gt(function(t,e){return Kt(t)?ji(t,fe(e,1,Kt,!0)):[]}),k=gt(function(t,e){var o=$(e);return Kt(o)&&(o=v),Kt(t)?ji(t,fe(e,1,Kt,!0),r(o,2)):[]}),S=gt(function(t,e){var o=$(e);return Kt(o)&&(o=v),Kt(t)?ji(t,fe(e,1,Kt,!0),v,o):[]});function V(t,e,o){var u=null==t?0:t.length;if(!u)return-1;var c=null==o?0:yt(o);return c<0&&(c=Qt(u+c,0)),Un(t,r(e,3),c)}function ht(t,e,o){var u=null==t?0:t.length;if(!u)return-1;var c=u-1;return o!==v&&(c=yt(o),c=o<0?Qt(u+c,0):le(c,u-1)),Un(t,r(e,3),c,!0)}function At(t){return null!=t&&t.length?fe(t,1):[]}function vt(t){return t&&t.length?t[0]:v}var P=gt(function(t){var e=Dt(t,lo);return e.length&&e[0]===t[0]?jr(e):[]}),D=gt(function(t){var e=$(t),o=Dt(t,lo);return e===$(o)?e=v:o.pop(),o.length&&o[0]===t[0]?jr(o,r(e,2)):[]}),et=gt(function(t){var e=$(t),o=Dt(t,lo);return(e="function"==typeof e?e:v)&&o.pop(),o.length&&o[0]===t[0]?jr(o,v,e):[]});function $(t){var e=null==t?0:t.length;return e?t[e-1]:v}var ot=gt(F);function F(t,e){return t&&t.length&&e&&e.length?vs(t,e):t}var st=hn(function(t,e){var o=null==t?0:t.length,u=cs(t,e);return Ha(t,Dt(e,function(c){return bn(c,o)?+c:c}).sort(ja)),u});function Ut(t){return null==t?t:El.call(t)}var Pf=gt(function(t){return ln(fe(t,1,Kt,!0))}),Lf=gt(function(t){var e=$(t);return Kt(e)&&(e=v),ln(fe(t,1,Kt,!0),r(e,2))}),Uf=gt(function(t){var e=$(t);return e="function"==typeof e?e:v,ln(fe(t,1,Kt,!0),v,e)});function Sc(t){if(!t||!t.length)return[];var e=0;return t=Qe(t,function(o){if(Kt(o))return e=Qt(o.length,e),!0}),Qo(e,function(o){return Dt(t,Ue(o))})}function jc(t,e){if(!t||!t.length)return[];var o=Sc(t);return null==e?o:Dt(o,function(u){return Ce(e,v,u)})}var Df=gt(function(t,e){return Kt(t)?ji(t,e):[]}),Ff=gt(function(t){return bs(Qe(t,Kt))}),qf=gt(function(t){var e=$(t);return Kt(e)&&(e=v),bs(Qe(t,Kt),r(e,2))}),Nf=gt(function(t){var e=$(t);return e="function"==typeof e?e:v,bs(Qe(t,Kt),v,e)}),Hf=gt(Sc),Wf=gt(function(t){var e=t.length,o=e>1?t[e-1]:v;return o="function"==typeof o?(t.pop(),o):v,jc(t,o)});function tf(t){var e=p(t);return e.__chain__=!0,e}function mu(t,e){return e(t)}var Gf=hn(function(t){var e=t.length,o=e?t[0]:0,u=this.__wrapped__,c=function(d){return cs(d,t)};return!(e>1||this.__actions__.length)&&u instanceof bt&&bn(o)?((u=u.slice(o,+o+(e?1:0))).__actions__.push({func:mu,args:[c],thisArg:v}),new Xe(u,this.__chain__).thru(function(d){return e&&!d.length&&d.push(v),d})):this.thru(c)}),eh=co(function(t,e,o){kt.call(t,o)?++t[o]:yn(t,o,1)}),ih=iu(V),oh=iu(ht);function ef(t,e){return(mt(t)?Ze:Vn)(t,r(e,3))}function nf(t,e){return(mt(t)?Fo:Gl)(t,r(e,3))}var lh=co(function(t,e,o){kt.call(t,o)?t[o].push(e):yn(t,o,[e])}),fh=gt(function(t,e,o){var u=-1,c="function"==typeof e,d=ze(t)?Z(t.length):[];return Vn(t,function(y){d[++u]=c?Ce(e,y,o):no(y,e,o)}),d}),hh=co(function(t,e,o){yn(t,o,e)});function vu(t,e){return(mt(t)?Dt:gs)(t,r(e,3))}var gh=co(function(t,e,o){t[o?0:1].push(e)},function(){return[[],[]]}),Ah=gt(function(t,e){if(null==t)return[];var o=e.length;return o>1&&me(t,e[0],e[1])?e=[]:o>2&&me(e[0],e[1],e[2])&&(e=[e[0]]),Na(t,fe(e,1),[])}),yu=bl||function(){return re.Date.now()};function rf(t,e,o){return e=o?v:e,fn(t,128,v,v,v,v,e=t&&null==e?t.length:e)}function of(t,e){var o;if("function"!=typeof e)throw new Re(Jt);return t=yt(t),function(){return--t>0&&(o=e.apply(this,arguments)),t<=1&&(e=v),o}}var Oc=gt(function(t,e,o){var u=1;if(o.length){var c=we(o,Cr(Oc));u|=32}return fn(t,u,e,o,c)}),sf=gt(function(t,e,o){var u=3;if(o.length){var c=we(o,Cr(sf));u|=32}return fn(e,u,t,o,c)});function lf(t,e,o){var u,c,d,y,x,T,L=0,U=!1,I=!1,q=!0;if("function"!=typeof t)throw new Re(Jt);function j(Vt){var Tn=u,lr=c;return u=c=v,L=Vt,y=t.apply(lr,Tn)}function at(Vt){return L=Vt,x=s(Tt,e),U?j(Vt):y}function ut(Vt){var Tn=Vt-T;return T===v||Tn>=e||Tn<0||I&&Vt-L>=d}function Tt(){var Vt=yu();if(ut(Vt))return Ct(Vt);x=s(Tt,function wt(Vt){var Ef=e-(Vt-T);return I?le(Ef,d-(Vt-L)):Ef}(Vt))}function Ct(Vt){return x=v,q&&u?j(Vt):(u=c=v,y)}function je(){var Vt=yu(),Tn=ut(Vt);if(u=arguments,c=this,T=Vt,Tn){if(x===v)return at(T);if(I)return Qa(x),x=s(Tt,e),j(T)}return x===v&&(x=s(Tt,e)),y}return e=pn(e)||0,Bt(o)&&(U=!!o.leading,d=(I="maxWait"in o)?Qt(pn(o.maxWait)||0,e):d,q="trailing"in o?!!o.trailing:q),je.cancel=function Ve(){x!==v&&Qa(x),L=0,u=T=c=x=v},je.flush=function ke(){return x===v?y:Ct(yu())},je}var Mh=gt(function(t,e){return $l(t,1,e)}),Ch=gt(function(t,e,o){return $l(t,pn(e)||0,o)});function wu(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Re(Jt);var o=function(){var u=arguments,c=e?e.apply(this,u):u[0],d=o.cache;if(d.has(c))return d.get(c);var y=t.apply(this,u);return o.cache=d.set(c,y)||d,y};return o.cache=new(wu.Cache||se),o}function xu(t){if("function"!=typeof t)throw new Re(Jt);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}wu.Cache=se;var Sh=Kc(function(t,e){var o=(e=1==e.length&&mt(e[0])?Dt(e[0],ye(r())):Dt(fe(e,1),ye(r()))).length;return gt(function(u){for(var c=-1,d=le(u.length,o);++c<d;)u[c]=e[c].call(this,u[c]);return Ce(t,this,u)})}),kc=gt(function(t,e){var o=we(e,Cr(kc));return fn(t,32,v,e,o)}),cf=gt(function(t,e){var o=we(e,Cr(cf));return fn(t,64,v,e,o)}),Oh=hn(function(t,e){return fn(t,256,v,v,v,e)});function An(t,e){return t===e||t!=t&&e!=e}var Hh=ai(eo),Bh=ai(function(t,e){return t>=e}),pi=jl(function(){return arguments}())?jl:function(t){return Gt(t)&&kt.call(t,"callee")&&!Ma.call(t,"callee")},mt=Z.isArray,Jh=Nr?ye(Nr):function tc(t){return Gt(t)&&Ae(t)==Ur};function ze(t){return null!=t&&bu(t.length)&&!ar(t)}function Kt(t){return Gt(t)&&ze(t)}var Zr=Tl||Hc,$h=Oi?ye(Oi):function ro(t){return Gt(t)&&Ae(t)==St};function Pc(t){if(!Gt(t))return!1;var e=Ae(t);return e==Lt||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Fs(t)}function ar(t){if(!Bt(t))return!1;var e=Ae(t);return e==qt||e==Je||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ff(t){return"number"==typeof t&&t==yt(t)}function bu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Be}function Bt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Gt(t){return null!=t&&"object"==typeof t}var hf=Ge?ye(Ge):function nc(t){return Gt(t)&&he(t)==ne};function pf(t){return"number"==typeof t||Gt(t)&&Ae(t)==We}function Fs(t){if(!Gt(t)||Ae(t)!=ge)return!1;var e=Bi(t);if(null===e)return!0;var o=kt.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&Fi.call(o)==vl}var Lc=Le?ye(Le):function ps(t){return Gt(t)&&Ae(t)==kr},gf=fa?ye(fa):function rc(t){return Gt(t)&&he(t)==$e};function Au(t){return"string"==typeof t||!mt(t)&&Gt(t)&&Ae(t)==Pr}function Ke(t){return"symbol"==typeof t||Gt(t)&&Ae(t)==mi}var go=ha?ye(ha):function za(t){return Gt(t)&&bu(t.length)&&!!It[Ae(t)]},up=ai(oo),lp=ai(function(t,e){return t<=e});function df(t){if(!t)return[];if(ze(t))return Au(t)?Ie(t):Te(t);if(Gr&&t[Gr])return function pl(A){for(var O,Z=[];!(O=A.next()).done;)Z.push(O.value);return Z}(t[Gr]());var e=he(t);return(e==ne?Ri:e==$e?on:_o)(t)}function ur(t){return t?(t=pn(t))===mn||t===-mn?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function yt(t){var e=ur(t),o=e%1;return e==e?o?e-o:e:0}function _f(t){return t?zn(yt(t),0,Pe):0}function pn(t){if("number"==typeof t)return t;if(Ke(t))return NaN;if(Bt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Bt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ga(t);var o=Ju.test(t);return o||$u.test(t)?al(t.slice(2),o?2:8):Bu.test(t)?NaN:+t}function mf(t){return cn(t,De(t))}function Pt(t){return null==t?"":_e(t)}var fp=Mr(function(t,e){if(fi(e)||ze(e))cn(e,pe(e),t);else for(var o in e)kt.call(e,o)&&Kn(t,o,e[o])}),vf=Mr(function(t,e){cn(e,De(e),t)}),Tu=Mr(function(t,e,o,u){cn(e,De(e),t,u)}),hp=Mr(function(t,e,o,u){cn(e,pe(e),t,u)}),pp=hn(cs),dp=gt(function(t,e){t=zt(t);var o=-1,u=e.length,c=u>2?e[2]:v;for(c&&me(e[0],e[1],c)&&(u=1);++o<u;)for(var d=e[o],y=De(d),x=-1,T=y.length;++x<T;){var L=y[x],U=t[L];(U===v||An(U,Gn[L])&&!kt.call(t,L))&&(t[L]=d[L])}return t}),_p=gt(function(t){return t.push(v,rr),Ce(yf,v,t)});function Uc(t,e,o){var u=null==t?v:Dn(t,e);return u===v?o:u}function Ic(t,e){return null!=t&&lu(t,e,Kl)}var Cp=Cs(function(t,e,o){null!=e&&"function"!=typeof e.toString&&(e=qi.call(e)),t[e]=o},zc(Fe)),Zp=Cs(function(t,e,o){null!=e&&"function"!=typeof e.toString&&(e=qi.call(e)),kt.call(t,e)?t[e].push(o):t[e]=[o]},r),Ep=gt(no);function pe(t){return ze(t)?Vi(t):io(t)}function De(t){return ze(t)?Vi(t,!0):function Fa(t){if(!Bt(t))return function Ac(t){var e=[];if(null!=t)for(var o in zt(t))e.push(o);return e}(t);var e=fi(t),o=[];for(var u in t)"constructor"==u&&(e||!kt.call(t,u))||o.push(u);return o}(t)}var kp=Mr(function(t,e,o){jn(t,e,o)}),yf=Mr(function(t,e,o,u){jn(t,e,o,u)}),Pp=hn(function(t,e){var o={};if(null==t)return o;var u=!1;e=Dt(e,function(d){return d=tr(d,t),u||(u=d.length>1),d}),cn(t,Ps(t),o),u&&(o=oe(o,7,cc));for(var c=e.length;c--;)ii(o,e[c]);return o}),Up=hn(function(t,e){return null==t?{}:function Qc(t,e){return ms(t,e,function(o,u){return Ic(t,u)})}(t,e)});function wf(t,e){if(null==t)return{};var o=Dt(Ps(t),function(u){return[u]});return e=r(e),ms(t,o,function(u,c){return e(u,c[0])})}var xf=Os(pe),bf=Os(De);function _o(t){return null==t?[]:Li(t,pe(t))}var $p=qn(function(t,e,o){return e=e.toLowerCase(),t+(o?Af(e):e)});function Af(t){return Rc(Pt(t).toLowerCase())}function Tf(t){return(t=Pt(t))&&t.replace(Yu,_a).replace(Jn,"")}var Xp=qn(function(t,e,o){return t+(o?"-":"")+e.toLowerCase()}),Kp=qn(function(t,e,o){return t+(o?" ":"")+e.toLowerCase()}),Vp=Ot("toLowerCase"),og=qn(function(t,e,o){return t+(o?"_":"")+e.toLowerCase()}),ag=qn(function(t,e,o){return t+(o?" ":"")+Rc(e)}),mg=qn(function(t,e,o){return t+(o?" ":"")+e.toUpperCase()}),Rc=Ot("toUpperCase");function Mf(t,e,o){return t=Pt(t),(e=o?v:e)===v?function ma(A){return Ro.test(A)}(t)?function _l(A){return A.match(Fr)||[]}(t):function Wo(A){return A.match(Fu)||[]}(t):t.match(e)||[]}var Cf=gt(function(t,e){try{return Ce(t,v,e)}catch(o){return Pc(o)?o:new lt(o)}}),vg=hn(function(t,e){return Ze(e,function(o){o=_(o),yn(t,o,Oc(t[o],t))}),t});function zc(t){return function(){return t}}var bg=fo(),Ag=fo(!0);function Fe(t){return t}function Dc(t){return Da("function"==typeof t?t:oe(t,1))}var Cg=gt(function(t,e){return function(o){return no(o,t,e)}}),Zg=gt(function(t,e){return function(o){return no(t,o,e)}});function Fc(t,e,o){var u=pe(e),c=to(e,u);null==o&&(!Bt(e)||!c.length&&u.length)&&(o=e,e=t,t=this,c=to(e,pe(e)));var d=!(Bt(o)&&"chain"in o&&!o.chain),y=ar(t);return Ze(c,function(x){var T=e[x];t[x]=T,y&&(t.prototype[x]=function(){var L=this.__chain__;if(d||L){var U=t(this.__wrapped__),I=U.__actions__=Te(this.__actions__);return I.push({func:T,args:arguments,thisArg:t}),U.__chain__=L,U}return T.apply(t,Ln([this.value()],arguments))})}),t}function qc(){}var Og=ho(Dt),kg=ho(qo),Pg=ho(Bo);function Zf(t){return zs(t)?Ue(_(t)):function ic(t){return function(e){return Dn(e,t)}}(t)}var Ug=Es(),Ig=Es(!0);function Nc(){return[]}function Hc(){return!1}var Hg=Zs(function(t,e){return t+e},0),Bg=ui("ceil"),Jg=Zs(function(t,e){return t/e},1),Wg=ui("floor"),Vg=Zs(function(t,e){return t*e},1),jg=ui("round"),td=Zs(function(t,e){return t-e},0);return p.after=function Th(t,e){if("function"!=typeof e)throw new Re(Jt);return t=yt(t),function(){if(--t<1)return e.apply(this,arguments)}},p.ary=rf,p.assign=fp,p.assignIn=vf,p.assignInWith=Tu,p.assignWith=hp,p.at=pp,p.before=of,p.bind=Oc,p.bindAll=vg,p.bindKey=sf,p.castArray=function Rh(){if(!arguments.length)return[];var t=arguments[0];return mt(t)?t:[t]},p.chain=tf,p.chunk=function M(t,e,o){e=(o?me(t,e,o):e===v)?1:Qt(yt(e),0);var u=null==t?0:t.length;if(!u||e<1)return[];for(var c=0,d=0,y=Z($i(u/e));c<u;)y[d++]=Oe(t,c,c+=e);return y},p.compact=function E(t){for(var e=-1,o=null==t?0:t.length,u=0,c=[];++e<o;){var d=t[e];d&&(c[u++]=d)}return c},p.concat=function N(){var t=arguments.length;if(!t)return[];for(var e=Z(t-1),o=arguments[0],u=t;u--;)e[u-1]=arguments[u];return Ln(mt(o)?Te(o):[o],fe(e,1))},p.cond=function yg(t){var e=null==t?0:t.length,o=r();return t=e?Dt(t,function(u){if("function"!=typeof u[1])throw new Re(Jt);return[o(u[0]),u[1]]}):[],gt(function(u){for(var c=-1;++c<e;){var d=t[c];if(Ce(d[0],this,u))return Ce(d[1],this,u)}})},p.conforms=function wg(t){return function Jl(t){var e=pe(t);return function(o){return Wl(o,t,e)}}(oe(t,1))},p.constant=zc,p.countBy=eh,p.create=function gp(t,e){var o=xe(t);return null==e?o:ls(o,e)},p.curry=function af(t,e,o){var u=fn(t,8,v,v,v,v,v,e=o?v:e);return u.placeholder=af.placeholder,u},p.curryRight=function uf(t,e,o){var u=fn(t,16,v,v,v,v,v,e=o?v:e);return u.placeholder=uf.placeholder,u},p.debounce=lf,p.defaults=dp,p.defaultsDeep=_p,p.defer=Mh,p.delay=Ch,p.difference=Q,p.differenceBy=k,p.differenceWith=S,p.drop=function z(t,e,o){var u=null==t?0:t.length;return u?Oe(t,(e=o||e===v?1:yt(e))<0?0:e,u):[]},p.dropRight=function R(t,e,o){var u=null==t?0:t.length;return u?Oe(t,0,(e=u-(e=o||e===v?1:yt(e)))<0?0:e):[]},p.dropRightWhile=function X(t,e){return t&&t.length?oi(t,r(e,3),!0,!0):[]},p.dropWhile=function G(t,e){return t&&t.length?oi(t,r(e,3),!0):[]},p.fill=function K(t,e,o,u){var c=null==t?0:t.length;return c?(o&&"number"!=typeof o&&me(t,e,o)&&(o=0,u=c),function Yl(t,e,o,u){var c=t.length;for((o=yt(o))<0&&(o=-o>c?0:c+o),(u=u===v||u>c?c:yt(u))<0&&(u+=c),u=o>u?0:_f(u);o<u;)t[o++]=e;return t}(t,e,o,u)):[]},p.filter=function rh(t,e){return(mt(t)?Qe:Ql)(t,r(e,3))},p.flatMap=function sh(t,e){return fe(vu(t,e),1)},p.flatMapDeep=function ah(t,e){return fe(vu(t,e),mn)},p.flatMapDepth=function uh(t,e,o){return o=o===v?1:yt(o),fe(vu(t,e),o)},p.flatten=At,p.flattenDeep=function ft(t){return null!=t&&t.length?fe(t,mn):[]},p.flattenDepth=function W(t,e){return null!=t&&t.length?fe(t,e=e===v?1:yt(e)):[]},p.flip=function Zh(t){return fn(t,512)},p.flow=bg,p.flowRight=Ag,p.fromPairs=function Mt(t){for(var e=-1,o=null==t?0:t.length,u={};++e<o;){var c=t[e];u[c[0]]=c[1]}return u},p.functions=function Ap(t){return null==t?[]:to(t,pe(t))},p.functionsIn=function Tp(t){return null==t?[]:to(t,De(t))},p.groupBy=lh,p.initial=function H(t){return null!=t&&t.length?Oe(t,0,-1):[]},p.intersection=P,p.intersectionBy=D,p.intersectionWith=et,p.invert=Cp,p.invertBy=Zp,p.invokeMap=fh,p.iteratee=Dc,p.keyBy=hh,p.keys=pe,p.keysIn=De,p.map=vu,p.mapKeys=function Sp(t,e){var o={};return e=r(e,3),wn(t,function(u,c,d){yn(o,e(u,c,d),u)}),o},p.mapValues=function Op(t,e){var o={};return e=r(e,3),wn(t,function(u,c,d){yn(o,c,e(u,c,d))}),o},p.matches=function Tg(t){return ds(oe(t,1))},p.matchesProperty=function Mg(t,e){return qa(t,oe(e,1))},p.memoize=wu,p.merge=kp,p.mergeWith=yf,p.method=Cg,p.methodOf=Zg,p.mixin=Fc,p.negate=xu,p.nthArg=function Sg(t){return t=yt(t),gt(function(e){return _s(e,t)})},p.omit=Pp,p.omitBy=function Lp(t,e){return wf(t,xu(r(e)))},p.once=function Eh(t){return of(2,t)},p.orderBy=function ph(t,e,o,u){return null==t?[]:(mt(e)||(e=null==e?[]:[e]),mt(o=u?v:o)||(o=null==o?[]:[o]),Na(t,e,o))},p.over=Og,p.overArgs=Sh,p.overEvery=kg,p.overSome=Pg,p.partial=kc,p.partialRight=cf,p.partition=gh,p.pick=Up,p.pickBy=wf,p.property=Zf,p.propertyOf=function Lg(t){return function(e){return null==t?v:Dn(t,e)}},p.pull=ot,p.pullAll=F,p.pullAllBy=function nt(t,e,o){return t&&t.length&&e&&e.length?vs(t,e,r(o,2)):t},p.pullAllWith=function rt(t,e,o){return t&&t.length&&e&&e.length?vs(t,e,v,o):t},p.pullAt=st,p.range=Ug,p.rangeRight=Ig,p.rearg=Oh,p.reject=function mh(t,e){return(mt(t)?Qe:Ql)(t,xu(r(e,3)))},p.remove=function dt(t,e){var o=[];if(!t||!t.length)return o;var u=-1,c=[],d=t.length;for(e=r(e,3);++u<d;){var y=t[u];e(y,u,t)&&(o.push(y),c.push(u))}return Ha(t,c),o},p.rest=function kh(t,e){if("function"!=typeof t)throw new Re(Jt);return gt(t,e=e===v?e:yt(e))},p.reverse=Ut,p.sampleSize=function yh(t,e,o){return e=(o?me(t,e,o):e===v)?1:yt(e),(mt(t)?as:Ba)(t,e)},p.set=function Rp(t,e,o){return null==t?t:ao(t,e,o)},p.setWith=function zp(t,e,o,u){return u="function"==typeof u?u:v,null==t?t:ao(t,e,o,u)},p.shuffle=function wh(t){return(mt(t)?us:Wa)(t)},p.slice=function or(t,e,o){var u=null==t?0:t.length;return u?(o&&"number"!=typeof o&&me(t,e,o)?(e=0,o=u):(e=null==e?0:yt(e),o=o===v?u:yt(o)),Oe(t,e,o)):[]},p.sortBy=Ah,p.sortedUniq=function _t(t){return t&&t.length?xs(t):[]},p.sortedUniqBy=function Xt(t,e){return t&&t.length?xs(t,r(e,2)):[]},p.split=function sg(t,e,o){return o&&"number"!=typeof o&&me(t,e,o)&&(e=o=v),(o=o===v?Pe:o>>>0)?(t=Pt(t))&&("string"==typeof e||null!=e&&!Lc(e))&&!(e=_e(e))&&Yt(t)?Fn(Ie(t),0,o):t.split(e,o):[]},p.spread=function Ph(t,e){if("function"!=typeof t)throw new Re(Jt);return e=null==e?0:Qt(yt(e),0),gt(function(o){var u=o[e],c=Fn(o,0,e);return u&&Ln(c,u),Ce(t,this,c)})},p.tail=function hi(t){var e=null==t?0:t.length;return e?Oe(t,1,e):[]},p.take=function Nn(t,e,o){return t&&t.length?Oe(t,0,(e=o||e===v?1:yt(e))<0?0:e):[]},p.takeRight=function Sf(t,e,o){var u=null==t?0:t.length;return u?Oe(t,(e=u-(e=o||e===v?1:yt(e)))<0?0:e,u):[]},p.takeRightWhile=function Of(t,e){return t&&t.length?oi(t,r(e,3),!1,!0):[]},p.takeWhile=function kf(t,e){return t&&t.length?oi(t,r(e,3)):[]},p.tap=function $f(t,e){return e(t),t},p.throttle=function Lh(t,e,o){var u=!0,c=!0;if("function"!=typeof t)throw new Re(Jt);return Bt(o)&&(u="leading"in o?!!o.leading:u,c="trailing"in o?!!o.trailing:c),lf(t,e,{leading:u,maxWait:e,trailing:c})},p.thru=mu,p.toArray=df,p.toPairs=xf,p.toPairsIn=bf,p.toPath=function qg(t){return mt(t)?Dt(t,_):Ke(t)?[t]:Te(g(Pt(t)))},p.toPlainObject=mf,p.transform=function Dp(t,e,o){var u=mt(t),c=u||Zr(t)||go(t);if(e=r(e,4),null==o){var d=t&&t.constructor;o=c?u?new d:[]:Bt(t)&&ar(d)?xe(Bi(t)):{}}return(c?Ze:wn)(t,function(y,x,T){return e(o,y,x,T)}),o},p.unary=function Uh(t){return rf(t,1)},p.union=Pf,p.unionBy=Lf,p.unionWith=Uf,p.uniq=function If(t){return t&&t.length?ln(t):[]},p.uniqBy=function Rf(t,e){return t&&t.length?ln(t,r(e,2)):[]},p.uniqWith=function zf(t,e){return e="function"==typeof e?e:v,t&&t.length?ln(t,v,e):[]},p.unset=function Fp(t,e){return null==t||ii(t,e)},p.unzip=Sc,p.unzipWith=jc,p.update=function qp(t,e,o){return null==t?t:Ga(t,e,As(o))},p.updateWith=function Np(t,e,o,u){return u="function"==typeof u?u:v,null==t?t:Ga(t,e,As(o),u)},p.values=_o,p.valuesIn=function Hp(t){return null==t?[]:Li(t,De(t))},p.without=Df,p.words=Mf,p.wrap=function Ih(t,e){return kc(As(e),t)},p.xor=Ff,p.xorBy=qf,p.xorWith=Nf,p.zip=Hf,p.zipObject=function Bf(t,e){return sc(t||[],e||[],Kn)},p.zipObjectDeep=function Jf(t,e){return sc(t||[],e||[],ao)},p.zipWith=Wf,p.entries=xf,p.entriesIn=bf,p.extend=vf,p.extendWith=Tu,Fc(p,p),p.add=Hg,p.attempt=Cf,p.camelCase=$p,p.capitalize=Af,p.ceil=Bg,p.clamp=function Bp(t,e,o){return o===v&&(o=e,e=v),o!==v&&(o=(o=pn(o))==o?o:0),e!==v&&(e=(e=pn(e))==e?e:0),zn(pn(t),e,o)},p.clone=function zh(t){return oe(t,4)},p.cloneDeep=function Fh(t){return oe(t,5)},p.cloneDeepWith=function qh(t,e){return oe(t,5,e="function"==typeof e?e:v)},p.cloneWith=function Dh(t,e){return oe(t,4,e="function"==typeof e?e:v)},p.conformsTo=function Nh(t,e){return null==e||Wl(t,e,pe(e))},p.deburr=Tf,p.defaultTo=function xg(t,e){return null==t||t!=t?e:t},p.divide=Jg,p.endsWith=function Gp(t,e,o){t=Pt(t),e=_e(e);var u=t.length,c=o=o===v?u:zn(yt(o),0,u);return(o-=e.length)>=0&&t.slice(o,c)==e},p.eq=An,p.escape=function Yp(t){return(t=Pt(t))&&Pu.test(t)?t.replace(qs,Ui):t},p.escapeRegExp=function Qp(t){return(t=Pt(t))&&Eo.test(t)?t.replace(yi,"\\$&"):t},p.every=function nh(t,e,o){var u=mt(t)?qo:Gc;return o&&me(t,e,o)&&(e=v),u(t,r(e,3))},p.find=ih,p.findIndex=V,p.findKey=function mp(t,e){return $o(t,r(e,3),wn)},p.findLast=oh,p.findLastIndex=ht,p.findLastKey=function vp(t,e){return $o(t,r(e,3),Ra)},p.floor=Wg,p.forEach=ef,p.forEachRight=nf,p.forIn=function yp(t,e){return null==t?t:Ia(t,r(e,3),De)},p.forInRight=function wp(t,e){return null==t?t:Xl(t,r(e,3),De)},p.forOwn=function xp(t,e){return t&&wn(t,r(e,3))},p.forOwnRight=function bp(t,e){return t&&Ra(t,r(e,3))},p.get=Uc,p.gt=Hh,p.gte=Bh,p.has=function Mp(t,e){return null!=t&&lu(t,e,Yc)},p.hasIn=Ic,p.head=vt,p.identity=Fe,p.includes=function ch(t,e,o,u){t=ze(t)?t:_o(t),o=o&&!u?yt(o):0;var c=t.length;return o<0&&(o=Qt(c+o,0)),Au(t)?o<=c&&t.indexOf(e,o)>-1:!!c&&rn(t,e,o)>-1},p.indexOf=function C(t,e,o){var u=null==t?0:t.length;if(!u)return-1;var c=null==o?0:yt(o);return c<0&&(c=Qt(u+c,0)),rn(t,e,c)},p.inRange=function Jp(t,e,o){return e=ur(e),o===v?(o=e,e=0):o=ur(o),function Vl(t,e,o){return t>=le(e,o)&&t<Qt(e,o)}(t=pn(t),e,o)},p.invoke=Ep,p.isArguments=pi,p.isArray=mt,p.isArrayBuffer=Jh,p.isArrayLike=ze,p.isArrayLikeObject=Kt,p.isBoolean=function Wh(t){return!0===t||!1===t||Gt(t)&&Ae(t)==Y},p.isBuffer=Zr,p.isDate=$h,p.isElement=function Gh(t){return Gt(t)&&1===t.nodeType&&!Fs(t)},p.isEmpty=function Yh(t){if(null==t)return!0;if(ze(t)&&(mt(t)||"string"==typeof t||"function"==typeof t.splice||Zr(t)||go(t)||pi(t)))return!t.length;var e=he(t);if(e==ne||e==$e)return!t.size;if(fi(t))return!io(t).length;for(var o in t)if(kt.call(t,o))return!1;return!0},p.isEqual=function Qh(t,e){return un(t,e)},p.isEqualWith=function Xh(t,e,o){var u=(o="function"==typeof o?o:v)?o(t,e):v;return u===v?un(t,e,v,o):!!u},p.isError=Pc,p.isFinite=function Kh(t){return"number"==typeof t&&Za(t)},p.isFunction=ar,p.isInteger=ff,p.isLength=bu,p.isMap=hf,p.isMatch=function Vh(t,e){return t===e||hs(t,e,Is(e))},p.isMatchWith=function jh(t,e,o){return o="function"==typeof o?o:v,hs(t,e,Is(e),o)},p.isNaN=function tp(t){return pf(t)&&t!=+t},p.isNative=function ep(t){if(bc(t))throw new lt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ti(t)},p.isNil=function rp(t){return null==t},p.isNull=function np(t){return null===t},p.isNumber=pf,p.isObject=Bt,p.isObjectLike=Gt,p.isPlainObject=Fs,p.isRegExp=Lc,p.isSafeInteger=function ip(t){return ff(t)&&t>=-Be&&t<=Be},p.isSet=gf,p.isString=Au,p.isSymbol=Ke,p.isTypedArray=go,p.isUndefined=function op(t){return t===v},p.isWeakMap=function sp(t){return Gt(t)&&he(t)==Lr},p.isWeakSet=function ap(t){return Gt(t)&&"[object WeakSet]"==Ae(t)},p.join=function B(t,e){return null==t?"":Ml.call(t,e)},p.kebabCase=Xp,p.last=$,p.lastIndexOf=function it(t,e,o){var u=null==t?0:t.length;if(!u)return-1;var c=u;return o!==v&&(c=(c=yt(o))<0?Qt(u+c,0):le(c,u-1)),e==e?function gl(A,O,Z){for(var J=Z+1;J--;)if(A[J]===O)return J;return J}(t,e,c):Un(t,Wn,c,!0)},p.lowerCase=Kp,p.lowerFirst=Vp,p.lt=up,p.lte=lp,p.max=function $g(t){return t&&t.length?sn(t,Fe,eo):v},p.maxBy=function Gg(t,e){return t&&t.length?sn(t,r(e,2),eo):v},p.mean=function Yg(t){return yr(t,Fe)},p.meanBy=function Qg(t,e){return yr(t,r(e,2))},p.min=function Xg(t){return t&&t.length?sn(t,Fe,oo):v},p.minBy=function Kg(t,e){return t&&t.length?sn(t,r(e,2),oo):v},p.stubArray=Nc,p.stubFalse=Hc,p.stubObject=function Rg(){return{}},p.stubString=function zg(){return""},p.stubTrue=function Dg(){return!0},p.multiply=Vg,p.nth=function pt(t,e){return t&&t.length?_s(t,yt(e)):v},p.noConflict=function Eg(){return re._===this&&(re._=yl),this},p.noop=qc,p.now=yu,p.pad=function jp(t,e,o){t=Pt(t);var u=(e=yt(e))?ue(t):0;if(!e||u>=e)return t;var c=(e-u)/2;return Ht(Gi(c),o)+t+Ht($i(c),o)},p.padEnd=function tg(t,e,o){t=Pt(t);var u=(e=yt(e))?ue(t):0;return e&&u<e?t+Ht(e-u,o):t},p.padStart=function eg(t,e,o){t=Pt(t);var u=(e=yt(e))?ue(t):0;return e&&u<e?Ht(e-u,o)+t:t},p.parseInt=function ng(t,e,o){return o||null==e?e=0:e&&(e=+e),Ea(Pt(t).replace(wi,""),e||0)},p.random=function Wp(t,e,o){if(o&&"boolean"!=typeof o&&me(t,e,o)&&(e=o=v),o===v&&("boolean"==typeof e?(o=e,e=v):"boolean"==typeof t&&(o=t,t=v)),t===v&&e===v?(t=0,e=1):(t=ur(t),e===v?(e=t,t=0):e=ur(e)),t>e){var u=t;t=e,e=u}if(o||t%1||e%1){var c=Sa();return le(t+c*(e-t+ua("1e-"+((c+"").length-1))),e)}return ys(t,e)},p.reduce=function dh(t,e,o){var u=mt(t)?Ho:pa,c=arguments.length<3;return u(t,r(e,4),o,c,Vn)},p.reduceRight=function _h(t,e,o){var u=mt(t)?ul:pa,c=arguments.length<3;return u(t,r(e,4),o,c,Gl)},p.repeat=function rg(t,e,o){return e=(o?me(t,e,o):e===v)?1:yt(e),ws(Pt(t),e)},p.replace=function ig(){var t=arguments,e=Pt(t[0]);return t.length<3?e:e.replace(t[1],t[2])},p.result=function Ip(t,e,o){var u=-1,c=(e=tr(e,t)).length;for(c||(c=1,t=v);++u<c;){var d=null==t?v:t[_(e[u])];d===v&&(u=c,d=o),t=ar(d)?d.call(t):d}return t},p.round=jg,p.runInContext=A,p.sample=function vh(t){return(mt(t)?ss:Xc)(t)},p.size=function xh(t){if(null==t)return 0;if(ze(t))return Au(t)?ue(t):t.length;var e=he(t);return e==ne||e==$e?t.size:io(t).length},p.snakeCase=og,p.some=function bh(t,e,o){var u=mt(t)?Bo:$a;return o&&me(t,e,o)&&(e=v),u(t,r(e,3))},p.sortedIndex=function po(t,e){return ni(t,e)},p.sortedIndexBy=function du(t,e,o){return ri(t,e,r(o,2))},p.sortedIndexOf=function sr(t,e){var o=null==t?0:t.length;if(o){var u=ni(t,e);if(u<o&&An(t[u],e))return u}return-1},p.sortedLastIndex=function _u(t,e){return ni(t,e,!0)},p.sortedLastIndexBy=function Zc(t,e,o){return ri(t,e,r(o,2),!0)},p.sortedLastIndexOf=function Ec(t,e){if(null!=t&&t.length){var u=ni(t,e,!0)-1;if(An(t[u],e))return u}return-1},p.startCase=ag,p.startsWith=function ug(t,e,o){return t=Pt(t),o=null==o?0:zn(yt(o),0,t.length),e=_e(e),t.slice(o,o+e.length)==e},p.subtract=td,p.sum=function ed(t){return t&&t.length?Yo(t,Fe):0},p.sumBy=function nd(t,e){return t&&t.length?Yo(t,r(e,2)):0},p.template=function lg(t,e,o){var u=p.templateSettings;o&&me(t,e,o)&&(e=v),t=Pt(t),e=Tu({},e,u,li);var x,T,c=Tu({},e.imports,u.imports,li),d=pe(c),y=Li(c,d),L=0,U=e.interpolate||xi,I="__p += '",q=$r((e.escape||xi).source+"|"+U.source+"|"+(U===Ns?Hu:xi).source+"|"+(e.evaluate||xi).source+"|$","g"),j="//# sourceURL="+(kt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ei+"]")+"\n";t.replace(q,function(ut,Tt,Ct,Ve,ke,je){return Ct||(Ct=Ve),I+=t.slice(L,je).replace(Qu,hl),Tt&&(x=!0,I+="' +\n__e("+Tt+") +\n'"),ke&&(T=!0,I+="';\n"+ke+";\n__p += '"),Ct&&(I+="' +\n((__t = ("+Ct+")) == null ? '' : __t) +\n'"),L=je+ut.length,ut}),I+="';\n";var at=kt.call(e,"variable")&&e.variable;if(at){if(qu.test(at))throw new lt("Invalid `variable` option passed into `_.template`")}else I="with (obj) {\n"+I+"\n}\n";I=(T?I.replace(Eu,""):I).replace(Su,"$1").replace(Ou,"$1;"),I="function("+(at||"obj")+") {\n"+(at?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(x?", __e = _.escape":"")+(T?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+I+"return __p\n}";var wt=Cf(function(){return Et(d,j+"return "+I).apply(v,y)});if(wt.source=I,Pc(wt))throw wt;return wt},p.times=function Fg(t,e){if((t=yt(t))<1||t>Be)return[];var o=Pe,u=le(t,Pe);e=r(e),t-=Pe;for(var c=Qo(u,e);++o<t;)e(o);return c},p.toFinite=ur,p.toInteger=yt,p.toLength=_f,p.toLower=function cg(t){return Pt(t).toLowerCase()},p.toNumber=pn,p.toSafeInteger=function cp(t){return t?zn(yt(t),-Be,Be):0===t?t:0},p.toString=Pt,p.toUpper=function fg(t){return Pt(t).toUpperCase()},p.trim=function hg(t,e,o){if((t=Pt(t))&&(o||e===v))return ga(t);if(!t||!(e=_e(e)))return t;var u=Ie(t),c=Ie(e);return Fn(u,da(u,c),Xo(u,c)+1).join("")},p.trimEnd=function pg(t,e,o){if((t=Pt(t))&&(o||e===v))return t.slice(0,Jr(t)+1);if(!t||!(e=_e(e)))return t;var u=Ie(t);return Fn(u,0,Xo(u,Ie(e))+1).join("")},p.trimStart=function gg(t,e,o){if((t=Pt(t))&&(o||e===v))return t.replace(wi,"");if(!t||!(e=_e(e)))return t;var u=Ie(t);return Fn(u,da(u,Ie(e))).join("")},p.truncate=function dg(t,e){var o=30,u="...";if(Bt(e)){var c="separator"in e?e.separator:c;o="length"in e?yt(e.length):o,u="omission"in e?_e(e.omission):u}var d=(t=Pt(t)).length;if(Yt(t)){var y=Ie(t);d=y.length}if(o>=d)return t;var x=o-ue(u);if(x<1)return u;var T=y?Fn(y,0,x).join(""):t.slice(0,x);if(c===v)return T+u;if(y&&(x+=T.length-x),Lc(c)){if(t.slice(x).search(c)){var L,U=T;for(c.global||(c=$r(c.source,Pt(Js.exec(c))+"g")),c.lastIndex=0;L=c.exec(U);)var I=L.index;T=T.slice(0,I===v?x:I)}}else if(t.indexOf(_e(c),x)!=x){var q=T.lastIndexOf(c);q>-1&&(T=T.slice(0,q))}return T+u},p.unescape=function _g(t){return(t=Pt(t))&&ku.test(t)?t.replace(Zo,Ko):t},p.uniqueId=function Ng(t){var e=++ml;return Pt(t)+e},p.upperCase=mg,p.upperFirst=Rc,p.each=ef,p.eachRight=nf,p.first=vt,Fc(p,function(){var t={};return wn(p,function(e,o){kt.call(p.prototype,o)||(t[o]=e)}),t}(),{chain:!1}),p.VERSION="4.17.21",Ze(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){p[t].placeholder=p}),Ze(["drop","take"],function(t,e){bt.prototype[t]=function(o){o=o===v?1:Qt(yt(o),0);var u=this.__filtered__&&!e?new bt(this):this.clone();return u.__filtered__?u.__takeCount__=le(o,u.__takeCount__):u.__views__.push({size:le(o,Pe),type:t+(u.__dir__<0?"Right":"")}),u},bt.prototype[t+"Right"]=function(o){return this.reverse()[t](o).reverse()}}),Ze(["filter","map","takeWhile"],function(t,e){var o=e+1,u=1==o||3==o;bt.prototype[t]=function(c){var d=this.clone();return d.__iteratees__.push({iteratee:r(c,3),type:o}),d.__filtered__=d.__filtered__||u,d}}),Ze(["head","last"],function(t,e){var o="take"+(e?"Right":"");bt.prototype[t]=function(){return this[o](1).value()[0]}}),Ze(["initial","tail"],function(t,e){var o="drop"+(e?"":"Right");bt.prototype[t]=function(){return this.__filtered__?new bt(this):this[o](1)}}),bt.prototype.compact=function(){return this.filter(Fe)},bt.prototype.find=function(t){return this.filter(t).head()},bt.prototype.findLast=function(t){return this.reverse().find(t)},bt.prototype.invokeMap=gt(function(t,e){return"function"==typeof t?new bt(this):this.map(function(o){return no(o,t,e)})}),bt.prototype.reject=function(t){return this.filter(xu(r(t)))},bt.prototype.slice=function(t,e){t=yt(t);var o=this;return o.__filtered__&&(t>0||e<0)?new bt(o):(t<0?o=o.takeRight(-t):t&&(o=o.drop(t)),e!==v&&(o=(e=yt(e))<0?o.dropRight(-e):o.take(e-t)),o)},bt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},bt.prototype.toArray=function(){return this.take(Pe)},wn(bt.prototype,function(t,e){var o=/^(?:filter|find|map|reject)|While$/.test(e),u=/^(?:head|last)$/.test(e),c=p[u?"take"+("last"==e?"Right":""):e],d=u||/^find/.test(e);!c||(p.prototype[e]=function(){var y=this.__wrapped__,x=u?[1]:arguments,T=y instanceof bt,L=x[0],U=T||mt(y),I=function(Tt){var Ct=c.apply(p,Ln([Tt],x));return u&&q?Ct[0]:Ct};U&&o&&"function"==typeof L&&1!=L.length&&(T=U=!1);var q=this.__chain__,j=!!this.__actions__.length,at=d&&!q,wt=T&&!j;if(!d&&U){y=wt?y:new bt(this);var ut=t.apply(y,x);return ut.__actions__.push({func:mu,args:[I],thisArg:v}),new Xe(ut,q)}return at&&wt?t.apply(this,x):(ut=this.thru(I),at?u?ut.value()[0]:ut.value():ut)})}),Ze(["pop","push","shift","sort","splice","unshift"],function(t){var e=zi[t],o=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",u=/^(?:pop|shift)$/.test(t);p.prototype[t]=function(){var c=arguments;if(u&&!this.__chain__){var d=this.value();return e.apply(mt(d)?d:[],c)}return this[o](function(y){return e.apply(mt(y)?y:[],c)})}}),wn(bt.prototype,function(t,e){var o=p[e];if(o){var u=o.name+"";kt.call(xr,u)||(xr[u]=[]),xr[u].push({name:e,func:o})}}),xr[si(v,2).name]=[{name:"wrapper",func:v}],bt.prototype.clone=function Ul(){var t=new bt(this.__wrapped__);return t.__actions__=Te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Te(this.__views__),t},bt.prototype.reverse=function Il(){if(this.__filtered__){var t=new bt(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},bt.prototype.value=function Rl(){var t=this.__wrapped__.value(),e=this.__dir__,o=mt(t),u=e<0,c=o?t.length:0,d=function gc(t,e,o){for(var u=-1,c=o.length;++u<c;){var d=o[u],y=d.size;switch(d.type){case"drop":t+=y;break;case"dropRight":e-=y;break;case"take":e=le(e,t+y);break;case"takeRight":t=Qt(t,e-y)}}return{start:t,end:e}}(0,c,this.__views__),y=d.start,x=d.end,T=x-y,L=u?x:y-1,U=this.__iteratees__,I=U.length,q=0,j=le(T,this.__takeCount__);if(!o||!u&&c==T&&j==T)return Ya(t,this.__actions__);var at=[];t:for(;T--&&q<j;){for(var wt=-1,ut=t[L+=e];++wt<I;){var Tt=U[wt],Ve=Tt.type,ke=(0,Tt.iteratee)(ut);if(2==Ve)ut=ke;else if(!ke){if(1==Ve)continue t;break t}}at[q++]=ut}return at},p.prototype.at=Gf,p.prototype.chain=function Yf(){return tf(this)},p.prototype.commit=function Qf(){return new Xe(this.value(),this.__chain__)},p.prototype.next=function Xf(){this.__values__===v&&(this.__values__=df(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?v:this.__values__[this.__index__++]}},p.prototype.plant=function Vf(t){for(var e,o=this;o instanceof rs;){var u=b(o);u.__index__=0,u.__values__=v,e?c.__wrapped__=u:e=u;var c=u;o=o.__wrapped__}return c.__wrapped__=t,e},p.prototype.reverse=function jf(){var t=this.__wrapped__;if(t instanceof bt){var e=t;return this.__actions__.length&&(e=new bt(this)),(e=e.reverse()).__actions__.push({func:mu,args:[Ut],thisArg:v}),new Xe(e,this.__chain__)}return this.thru(Ut)},p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=function th(){return Ya(this.__wrapped__,this.__actions__)},p.prototype.first=p.prototype.head,Gr&&(p.prototype[Gr]=function Kf(){return this}),p}();re._=Wr,(dn=function(){return Wr}.call(gn,jt,gn,Mn))!==v&&(Mn.exports=dn)}.call(this)},1397:function(Mn){Mn.exports=function(){"use strict";function dn({id:tt,step:ct,marginTop:xt}){const{index:ee,height:Wt}=ct,ae=`scrollama__debug-step--${tt}-${ee}`;let $t=document.querySelector(`.${ae}`);$t||($t=function jt(tt){const ct=document.createElement("div");ct.className=`scrollama__debug-step ${tt}`,ct.style.position="fixed",ct.style.left="0",ct.style.width="100%",ct.style.zIndex="9999",ct.style.borderTop="2px solid black",ct.style.borderBottom="2px solid black";const xt=document.createElement("p");return xt.style.position="absolute",xt.style.left="0",xt.style.height="1px",xt.style.width="100%",xt.style.borderTop="1px dashed black",ct.appendChild(xt),document.body.appendChild(ct),ct}(ae)),$t.style.top=-1*xt+"px",$t.style.height=`${Wt}px`,$t.querySelector("p").style.top=Wt/2+"px"}function cr(tt){console.error(`scrollama error: ${tt}`)}function tn(tt){return+tt.getAttribute("data-scrollama-index")}function Jt(tt){if("string"==typeof tt&&tt.indexOf("px")>0){const ct=+tt.replace("px","");return isNaN(ct)?(err("offset value must be in 'px' format. Fallback to 0.5."),{format:"percent",value:.5}):{format:"pixels",value:ct}}return"number"!=typeof tt&&isNaN(+tt)?null:(tt>1&&err("offset value is greater than 1. Fallback to 1."),tt<0&&err("offset value is lower than 0. Fallback to 0."),{format:"percent",value:Math.min(Math.max(0,tt),1)})}function Er(tt){const{top:ct}=tt.getBoundingClientRect();return ct+window.pageYOffset-(document.body.clientTop||0)}let qe,_n,te;function Cn(tt){const ct=tt?tt.scrollTop:window.pageYOffset;qe!==ct&&(qe=ct,qe>_n?te="down":qe<_n&&(te="up"),_n=qe)}return function en(){let ee,Wt,tt={},ct=function v(){const tt="abcdefghijklmnopqrstuvwxyz",ct=Date.now(),xt=[];for(let ee=0;ee<6;ee+=1){const Wt=tt[Math.floor(Math.random()*tt.length)];xt.push(Wt)}return`${xt.join("")}${ct}`}(),xt=[],ae=0,$t=!1,Me=!1,He=!1,Hn=!1,Zn=[];function Sr(){tt={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},Zn=[]}function pr(Y){Y&&!$t&&On(),!Y&&$t&&Or(),$t=Y}function Bn(Y,St){const Zt=tn(Y),Lt=xt[Zt];void 0!==St&&(Lt.progress=St),"enter"===Lt.state&&tt.stepProgress({element:Y,index:Zt,progress:St,direction:te})}function vo([Y]){const St=tn(Y.target),Zt=xt[St],Lt=Y.target.offsetHeight;Lt!==Zt.height&&(Zt.height=Lt,Be(Zt),_i(Zt),En(Zt))}function di([Y]){Cn(Wt);const{isIntersecting:St,target:Zt}=Y;St?function mo(Y,St=!0){const Zt=tn(Y),Lt=xt[Zt],qt={element:Y,index:Zt,direction:te};Lt.direction=te,Lt.state="enter",Zn[Zt]||tt.stepEnter(qt),Hn&&(Zn[Zt]=!0)}(Zt):function gi(Y,St=!0){const Zt=tn(Y),Lt=xt[Zt];if(!Lt.state)return!1;const qt={element:Y,index:Zt,direction:te};Me&&("down"===te&&Lt.progress<1?Bn(Y,1):"up"===te&&Lt.progress>0&&Bn(Y,0)),Lt.direction=te,Lt.state="exit",tt.stepExit(qt)}(Zt)}function mn([Y]){const St=tn(Y.target),Zt=xt[St],{isIntersecting:Lt,intersectionRatio:qt,target:Je}=Y;Lt&&"enter"===Zt.state&&Bn(Je,qt)}function Be({observers:Y}){Object.keys(Y).map(St=>{Y[St].disconnect()})}function Or(){xt.forEach(Be)}function En(Y){const St=new ResizeObserver(vo);St.observe(Y.node),Y.observers.resize=St}function _i(Y){const St=window.innerHeight,Zt=Y.offset||ee,qt=Zt.value*("pixels"===Zt.format?1:St),Je=Y.height/2-qt,ne=Y.height/2-(St-qt),kn=new IntersectionObserver(di,{rootMargin:`${Je}px 0px ${ne}px 0px`,threshold:.5});kn.observe(Y.node),Y.observers.step=kn,He&&dn({id:ct,step:Y,marginTop:Je,marginBottom:ne})}function wo(Y){const St=window.innerHeight,Zt=Y.offset||ee,qt=Zt.value*("pixels"===Zt.format?1:St),We=`${-qt+Y.height}px 0px ${qt-St}px 0px`,vn=function fr(tt,ct){const xt=Math.ceil(tt/ct),ee=[],Wt=1/xt;for(let ae=0;ae<xt+1;ae+=1)ee.push(ae*Wt);return ee}(Y.height,ae),kn=new IntersectionObserver(mn,{rootMargin:We,threshold:vn});kn.observe(Y.node),Y.observers.progress=kn}function On(){Or(),function Pe(){xt.forEach(En)}(),function yo(){xt.forEach(_i)}(),Me&&function Sn(){xt.forEach(wo)}()}const Nt={setup:({step:Y,parent:St,offset:Zt=.5,threshold:Lt=4,progress:qt=!1,once:Je=!1,debug:ne=!1,container:We})=>(function Ne(tt){qe=0,_n=0,document.addEventListener("scroll",()=>Cn(tt))}(We),xt=function gn(tt,ct=document){return"string"==typeof tt?Array.from(ct.querySelectorAll(tt)):tt instanceof Element?[tt]:tt instanceof NodeList?Array.from(tt):tt instanceof Array?tt:[]}(Y,St).map((vn,ge)=>({index:ge,direction:void 0,height:vn.offsetHeight,node:vn,observers:{},offset:Jt(vn.dataset.offset),top:Er(vn),progress:0,state:void 0})),xt.length?(Me=qt,Hn=Je,He=ne,ae=Math.max(1,+Lt),ee=Jt(Zt),Wt=We,Sr(),function hr(tt){tt.forEach(ct=>ct.node.setAttribute("data-scrollama-index",ct.index))}(xt),pr(!0),Nt):(cr("no step elements"),Nt)),enable:()=>(pr(!0),Nt),disable:()=>(pr(!1),Nt),destroy:()=>(pr(!1),Sr(),Nt),resize:()=>(On(),Nt),offset:Y=>null==Y?ee.value:(ee=Jt(Y),On(),Nt),onStepEnter:Y=>("function"==typeof Y?tt.stepEnter=Y:cr("onStepEnter requires a function"),Nt),onStepExit:Y=>("function"==typeof Y?tt.stepExit=Y:cr("onStepExit requires a function"),Nt),onStepProgress:Y=>("function"==typeof Y?tt.stepProgress=Y:cr("onStepProgress requires a function"),Nt)};return Nt}}()}}]);