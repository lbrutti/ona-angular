(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1679],{1679:(dn,Bt,et)=>{"use strict";et.r(Bt),et.d(Bt,{HomePageModule:()=>ps});var Vt=et(9808),Kt=et(5649),Ht=et(3075),Tt=et(6114),ge=et(655),At=et(1397);function He(){}function Gt(t){return null==t?He:function(){return this.querySelector(t)}}function Dt(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function ft(){return[]}function Wt(t){return null==t?ft:function(){return this.querySelectorAll(t)}}function M(t){return function(){return this.matches(t)}}function q(t){return function(e){return e.matches(t)}}var U=Array.prototype.find;function ht(){return this.firstElementChild}var dt=Array.prototype.filter;function jt(){return Array.from(this.children)}function ee(t){return new Array(t.length)}function Mt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Ie(t){return function(){return t}}function Re(t,e,r,i,o,a){for(var c,s=0,l=e.length,f=a.length;s<f;++s)(c=e[s])?(c.__data__=a[s],i[s]=c):r[s]=new Mt(t,a[s]);for(;s<l;++s)(c=e[s])&&(o[s]=c)}function $e(t,e,r,i,o,a,s){var c,l,x,f=new Map,h=e.length,v=a.length,y=new Array(h);for(c=0;c<h;++c)(l=e[c])&&(y[c]=x=s.call(l,l.__data__,c,e)+"",f.has(x)?o[c]=l:f.set(x,l));for(c=0;c<v;++c)x=s.call(t,a[c],c,a)+"",(l=f.get(x))?(i[c]=l,l.__data__=a[c],f.delete(x)):r[c]=new Mt(t,a[c]);for(c=0;c<h;++c)(l=e[c])&&f.get(y[c])===l&&(o[c]=l)}function Fe(t){return t.__data__}function _e(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Be(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Mt.prototype={constructor:Mt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var R="http://www.w3.org/1999/xhtml";const K={svg:"http://www.w3.org/2000/svg",xhtml:R,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function lt(t){var e=t+="",r=e.indexOf(":");return r>=0&&"xmlns"!==(e=t.slice(0,r))&&(t=t.slice(r+1)),K.hasOwnProperty(e)?{space:K[e],local:t}:t}function kt(t){return function(){this.removeAttribute(t)}}function Pt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yt(t,e){return function(){this.setAttribute(t,e)}}function Lt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function St(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function hr(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function gn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function dr(t){return function(){this.style.removeProperty(t)}}function gr(t,e,r){return function(){this.style.setProperty(t,e,r)}}function mr(t,e,r){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,r)}}function It(t,e){return t.style.getPropertyValue(e)||gn(t).getComputedStyle(t,null).getPropertyValue(e)}function _r(t){return function(){delete this[t]}}function yr(t,e){return function(){this[t]=e}}function wr(t,e){return function(){var r=e.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function mn(t){return t.trim().split(/^|\s+/)}function Ke(t){return t.classList||new vn(t)}function vn(t){this._node=t,this._names=mn(t.getAttribute("class")||"")}function _n(t,e){for(var r=Ke(t),i=-1,o=e.length;++i<o;)r.add(e[i])}function yn(t,e){for(var r=Ke(t),i=-1,o=e.length;++i<o;)r.remove(e[i])}function xr(t){return function(){_n(this,t)}}function Tr(t){return function(){yn(this,t)}}function Ar(t,e){return function(){(e.apply(this,arguments)?_n:yn)(this,t)}}function Mr(){this.textContent=""}function kr(t){return function(){this.textContent=t}}function Cr(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Er(){this.innerHTML=""}function Pr(t){return function(){this.innerHTML=t}}function Lr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function zr(){this.nextSibling&&this.parentNode.appendChild(this)}function Ur(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hr(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===R&&e.documentElement.namespaceURI===R?e.createElement(t):e.createElementNS(r,t)}}function Dr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function wn(t){var e=lt(t);return(e.local?Dr:Hr)(e)}function Ir(){return null}function $r(){var t=this.parentNode;t&&t.removeChild(this)}function Qr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xr(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Kr(t){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function Gr(t){return function(){var e=this.__on;if(e){for(var a,r=0,i=-1,o=e.length;r<o;++r)a=e[r],t.type&&a.type!==t.type||a.name!==t.name?e[++i]=a:this.removeEventListener(a.type,a.listener,a.options);++i?e.length=i:delete this.__on}}}function Wr(t,e,r){return function(){var o,i=this.__on,a=function Vr(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var s=0,c=i.length;s<c;++s)if((o=i[s]).type===t.type&&o.name===t.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=r),void(o.value=e);this.addEventListener(t.type,a,r),o={type:t.type,name:t.name,value:e,listener:a,options:r},i?i.push(o):this.__on=[o]}}function bn(t,e,r){var i=gn(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,r):(o=i.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function ti(t,e){return function(){return bn(this,t,e)}}function ei(t,e){return function(){return bn(this,t,e.apply(this,arguments))}}vn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var xn=[null];function ut(t,e){this._groups=t,this._parents=e}function Tn(){return new ut([[document.documentElement]],xn)}ut.prototype=Tn.prototype={constructor:ut,select:function Zt(t){"function"!=typeof t&&(t=Gt(t));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var l,f,a=e[o],s=a.length,c=i[o]=new Array(s),h=0;h<s;++h)(l=a[h])&&(f=t.call(l,l.__data__,h,a))&&("__data__"in l&&(f.__data__=l.__data__),c[h]=f);return new ut(i,this._parents)},selectAll:function Je(t){t="function"==typeof t?function De(t){return function(){return Dt(t.apply(this,arguments))}}(t):Wt(t);for(var e=this._groups,r=e.length,i=[],o=[],a=0;a<r;++a)for(var l,s=e[a],c=s.length,f=0;f<c;++f)(l=s[f])&&(i.push(t.call(l,l.__data__,f,s)),o.push(l));return new ut(i,o)},selectChild:function pt(t){return this.select(null==t?ht:function G(t){return function(){return U.call(this.children,t)}}("function"==typeof t?t:q(t)))},selectChildren:function ve(t){return this.selectAll(null==t?jt:function me(t){return function(){return dt.call(this.children,t)}}("function"==typeof t?t:q(t)))},filter:function te(t){"function"!=typeof t&&(t=M(t));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var l,a=e[o],s=a.length,c=i[o]=[],f=0;f<s;++f)(l=a[f])&&t.call(l,l.__data__,f,a)&&c.push(l);return new ut(i,this._parents)},data:function Qe(t,e){if(!arguments.length)return Array.from(this,Fe);var r=e?$e:Re,i=this._parents,o=this._groups;"function"!=typeof t&&(t=Ie(t));for(var a=o.length,s=new Array(a),c=new Array(a),l=new Array(a),f=0;f<a;++f){var h=i[f],v=o[f],y=v.length,x=_e(t.call(h,h&&h.__data__,f,i)),F=x.length,X=c[f]=new Array(F),g=s[f]=new Array(F),d=l[f]=new Array(y);r(h,v,X,g,d,x,e);for(var L,z,Z=0,w=0;Z<F;++Z)if(L=X[Z]){for(Z>=w&&(w=Z+1);!(z=g[w])&&++w<F;);L._next=z||null}}return(s=new ut(s,i))._enter=c,s._exit=l,s},enter:function Jt(){return new ut(this._enter||this._groups.map(ee),this._parents)},exit:function ye(){return new ut(this._exit||this._groups.map(ee),this._parents)},join:function we(t,e,r){var i=this.enter(),o=this,a=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(o=e(o))&&(o=o.selection()),null==r?a.remove():r(a),i&&o?i.merge(o).order():o},merge:function Xe(t){for(var e=t.selection?t.selection():t,r=this._groups,i=e._groups,o=r.length,s=Math.min(o,i.length),c=new Array(o),l=0;l<s;++l)for(var x,f=r[l],h=i[l],v=f.length,y=c[l]=new Array(v),F=0;F<v;++F)(x=f[F]||h[F])&&(y[F]=x);for(;l<o;++l)c[l]=r[l];return new ut(c,this._parents)},selection:function ii(){return this},order:function be(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var s,i=t[e],o=i.length-1,a=i[o];--o>=0;)(s=i[o])&&(a&&4^s.compareDocumentPosition(a)&&a.parentNode.insertBefore(s,a),a=s);return this},sort:function Ye(t){function e(v,y){return v&&y?t(v.__data__,y.__data__):!v-!y}t||(t=Be);for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a){for(var f,s=r[a],c=s.length,l=o[a]=new Array(c),h=0;h<c;++h)(f=s[h])&&(l[h]=f);l.sort(e)}return new ut(o,this._parents).order()},call:function Ve(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function ne(){return Array.from(this)},node:function Y(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i=t[e],o=0,a=i.length;o<a;++o){var s=i[o];if(s)return s}return null},size:function b(){let t=0;for(const e of this)++t;return t},empty:function I(){return!this.node()},each:function N(t){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var c,o=e[r],a=0,s=o.length;a<s;++a)(c=o[a])&&t.call(c,c.__data__,a,o);return this},attr:function pr(t,e){var r=lt(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==e?r.local?Pt:kt:"function"==typeof e?r.local?hr:St:r.local?Lt:yt)(r,e))},style:function vr(t,e,r){return arguments.length>1?this.each((null==e?dr:"function"==typeof e?mr:gr)(t,e,null==r?"":r)):It(this.node(),t)},property:function br(t,e){return arguments.length>1?this.each((null==e?_r:"function"==typeof e?wr:yr)(t,e)):this.node()[t]},classed:function Zr(t,e){var r=mn(t+"");if(arguments.length<2){for(var i=Ke(this.node()),o=-1,a=r.length;++o<a;)if(!i.contains(r[o]))return!1;return!0}return this.each(("function"==typeof e?Ar:e?xr:Tr)(r,e))},text:function Or(t){return arguments.length?this.each(null==t?Mr:("function"==typeof t?Cr:kr)(t)):this.node().textContent},html:function Sr(t){return arguments.length?this.each(null==t?Er:("function"==typeof t?Lr:Pr)(t)):this.node().innerHTML},raise:function qr(){return this.each(zr)},lower:function Nr(){return this.each(Ur)},append:function Jr(t){var e="function"==typeof t?t:wn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function Rr(t,e){var r="function"==typeof t?t:wn(t),i=null==e?Ir:"function"==typeof e?e:Gt(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Fr(){return this.each($r)},clone:function Yr(t){return this.select(t?Xr:Qr)},datum:function Br(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function jr(t,e,r){var o,s,i=Kr(t+""),a=i.length;if(!(arguments.length<2)){for(c=e?Wr:Gr,o=0;o<a;++o)this.each(c(i[o],e,r));return this}var c=this.node().__on;if(c)for(var h,l=0,f=c.length;l<f;++l)for(o=0,h=c[l];o<a;++o)if((s=i[o]).type===h.type&&s.name===h.name)return h.value},dispatch:function ni(t,e){return this.each(("function"==typeof e?ei:ti)(t,e))},[Symbol.iterator]:function*ri(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var s,i=t[e],o=0,a=i.length;o<a;++o)(s=i[o])&&(yield s)}};const re=Tn;var oi={value:()=>{}};function An(){for(var i,t=0,e=arguments.length,r={};t<e;++t){if(!(i=arguments[t]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new xe(r)}function xe(t){this._=t}function si(t,e){return t.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");if(o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}function ai(t,e){for(var o,r=0,i=t.length;r<i;++r)if((o=t[r]).name===e)return o.value}function Zn(t,e,r){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=oi,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:e,value:r}),t}xe.prototype=An.prototype={constructor:xe,on:function(t,e){var o,r=this._,i=si(t+"",r),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(o=(t=i[a]).type)r[o]=Zn(r[o],t.name,e);else if(null==e)for(o in r)r[o]=Zn(r[o],t.name,null);return this}for(;++a<s;)if((o=(t=i[a]).type)&&(o=ai(r[o],t.name)))return o},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new xe(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var o,a,r=new Array(o),i=0;i<o;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,o=(a=this._[t]).length;i<o;++i)a[i].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,a=i.length;o<a;++o)i[o].value.apply(e,r)}};const ci=An;var Te,se,Rt=0,ie=0,oe=0,Ae=0,zt=0,Ze=0,ae="object"==typeof performance&&performance.now?performance:Date,kn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ge(){return zt||(kn(li),zt=ae.now()+Ze)}function li(){zt=0}function Me(){this._call=this._time=this._next=null}function Cn(t,e,r){var i=new Me;return i.restart(t,e,r),i}function On(){zt=(Ae=ae.now())+Ze,Rt=ie=0;try{!function ui(){Ge(),++Rt;for(var e,t=Te;t;)(e=zt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Rt}()}finally{Rt=0,function hi(){for(var t,r,e=Te,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:Te=r);se=t,We(i)}(),zt=0}}function fi(){var t=ae.now(),e=t-Ae;e>1e3&&(Ze-=e,Ae=t)}function We(t){Rt||(ie&&(ie=clearTimeout(ie)),t-zt>24?(t<1/0&&(ie=setTimeout(On,t-ae.now()-Ze)),oe&&(oe=clearInterval(oe))):(oe||(Ae=ae.now(),oe=setInterval(fi,1e3)),Rt=1,kn(On)))}function En(t,e,r){var i=new Me;return i.restart(o=>{i.stop(),t(o+e)},e=null==e?0:+e,r),i}Me.prototype=Cn.prototype={constructor:Me,restart:function(t,e,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?Ge():+r)+(null==e?0:+e),!this._next&&se!==this&&(se?se._next=this:Te=this,se=this),this._call=t,this._time=r,We()},stop:function(){this._call&&(this._call=null,this._time=1/0,We())}};var pi=ci("start","end","cancel","interrupt"),di=[];function Oe(t,e,r,i,o,a){var s=t.__transition;if(s){if(r in s)return}else t.__transition={};!function gi(t,e,r){var o,i=t.__transition;function s(f){var h,v,y,x;if(1!==r.state)return l();for(h in i)if((x=i[h]).name===r.name){if(3===x.state)return En(s);4===x.state?(x.state=6,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete i[h]):+h<e&&(x.state=6,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete i[h])}if(En(function(){3===r.state&&(r.state=4,r.timer.restart(c,r.delay,r.time),c(f))}),r.state=2,r.on.call("start",t,t.__data__,r.index,r.group),2===r.state){for(r.state=3,o=new Array(y=r.tween.length),h=0,v=-1;h<y;++h)(x=r.tween[h].value.call(t,t.__data__,r.index,r.group))&&(o[++v]=x);o.length=v+1}}function c(f){for(var h=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(l),r.state=5,1),v=-1,y=o.length;++v<y;)o[v].call(t,h);5===r.state&&(r.on.call("end",t,t.__data__,r.index,r.group),l())}function l(){for(var f in r.state=6,r.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=r,r.timer=Cn(function a(f){r.state=1,r.timer.restart(s,r.delay,r.time),r.delay<=f&&s(f-r.delay)},0,r.time)}(t,r,{name:e,index:i,group:o,on:pi,tween:di,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function en(t,e){var r=gt(t,e);if(r.state>0)throw new Error("too late; already scheduled");return r}function vt(t,e){var r=gt(t,e);if(r.state>3)throw new Error("too late; already running");return r}function gt(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Ct(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var Ee,zn=180/Math.PI,nn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qn(t,e,r,i,o,a){var s,c,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*r+e*i)&&(r-=t*l,i-=e*l),(c=Math.sqrt(r*r+i*i))&&(r/=c,i/=c,l/=c),t*i<e*r&&(t=-t,e=-e,l=-l,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*zn,skewX:Math.atan(l)*zn,scaleX:s,scaleY:c}}function Un(t,e,r,i){function o(f){return f.length?f.pop()+" ":""}return function(f,h){var v=[],y=[];return f=t(f),h=t(h),function a(f,h,v,y,x,F){if(f!==v||h!==y){var X=x.push("translate(",null,e,null,r);F.push({i:X-4,x:Ct(f,v)},{i:X-2,x:Ct(h,y)})}else(v||y)&&x.push("translate("+v+e+y+r)}(f.translateX,f.translateY,h.translateX,h.translateY,v,y),function s(f,h,v,y){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),y.push({i:v.push(o(v)+"rotate(",null,i)-2,x:Ct(f,h)})):h&&v.push(o(v)+"rotate("+h+i)}(f.rotate,h.rotate,v,y),function c(f,h,v,y){f!==h?y.push({i:v.push(o(v)+"skewX(",null,i)-2,x:Ct(f,h)}):h&&v.push(o(v)+"skewX("+h+i)}(f.skewX,h.skewX,v,y),function l(f,h,v,y,x,F){if(f!==v||h!==y){var X=x.push(o(x)+"scale(",null,",",null,")");F.push({i:X-4,x:Ct(f,v)},{i:X-2,x:Ct(h,y)})}else(1!==v||1!==y)&&x.push(o(x)+"scale("+v+","+y+")")}(f.scaleX,f.scaleY,h.scaleX,h.scaleY,v,y),f=h=null,function(x){for(var g,F=-1,X=y.length;++F<X;)v[(g=y[F]).i]=g.x(x);return v.join("")}}}var wi=Un(function _i(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?nn:qn(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),bi=Un(function yi(t){return null!=t&&(Ee||(Ee=document.createElementNS("http://www.w3.org/2000/svg","g")),Ee.setAttribute("transform",t),t=Ee.transform.baseVal.consolidate())?qn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):nn},", ",")",")");function xi(t,e){var r,i;return function(){var o=vt(this,t),a=o.tween;if(a!==r)for(var s=0,c=(i=r=a).length;s<c;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}o.tween=i}}function Ti(t,e,r){var i,o;if("function"!=typeof r)throw new Error;return function(){var a=vt(this,t),s=a.tween;if(s!==i){o=(i=s).slice();for(var c={name:e,value:r},l=0,f=o.length;l<f;++l)if(o[l].name===e){o[l]=c;break}l===f&&o.push(c)}a.tween=o}}function rn(t,e,r){var i=t._id;return t.each(function(){var o=vt(this,i);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return gt(o,i).value[e]}}function on(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Nn(t,e){var r=Object.create(t.prototype);for(var i in e)r[i]=e[i];return r}function ce(){}var Pe=1/.7,$t="\\s*([+-]?\\d+)\\s*",ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zi=/^#([0-9a-f]{3,8})$/,Mi=new RegExp(`^rgb\\(${$t},${$t},${$t}\\)$`),ki=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),Ci=new RegExp(`^rgba\\(${$t},${$t},${$t},${ue}\\)$`),Oi=new RegExp(`^rgba\\(${_t},${_t},${_t},${ue}\\)$`),Ei=new RegExp(`^hsl\\(${ue},${_t},${_t}\\)$`),Pi=new RegExp(`^hsla\\(${ue},${_t},${_t},${ue}\\)$`),Hn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Dn(){return this.rgb().formatHex()}function Jn(){return this.rgb().formatRgb()}function fe(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Zi.exec(t))?(r=e[1].length,e=parseInt(e[1],16),6===r?In(e):3===r?new ot(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===r?Le(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===r?Le(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Mi.exec(t))?new ot(e[1],e[2],e[3],1):(e=ki.exec(t))?new ot(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ci.exec(t))?Le(e[1],e[2],e[3],e[4]):(e=Oi.exec(t))?Le(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ei.exec(t))?Fn(e[1],e[2]/100,e[3]/100,1):(e=Pi.exec(t))?Fn(e[1],e[2]/100,e[3]/100,e[4]):Hn.hasOwnProperty(t)?In(Hn[t]):"transparent"===t?new ot(NaN,NaN,NaN,0):null}function In(t){return new ot(t>>16&255,t>>8&255,255&t,1)}function Le(t,e,r,i){return i<=0&&(t=e=r=NaN),new ot(t,e,r,i)}function zi(t){return t instanceof ce||(t=fe(t)),t?new ot((t=t.rgb()).r,t.g,t.b,t.opacity):new ot}function Se(t,e,r,i){return 1===arguments.length?zi(t):new ot(t,e,r,null==i?1:i)}function ot(t,e,r,i){this.r=+t,this.g=+e,this.b=+r,this.opacity=+i}function Rn(){return`#${Ut(this.r)}${Ut(this.g)}${Ut(this.b)}`}function $n(){const t=ze(this.opacity);return`${1===t?"rgb(":"rgba("}${qt(this.r)}, ${qt(this.g)}, ${qt(this.b)}${1===t?")":`, ${t})`}`}function ze(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ut(t){return((t=qt(t))<16?"0":"")+t.toString(16)}function Fn(t,e,r,i){return i<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new mt(t,e,r,i)}function Qn(t){if(t instanceof mt)return new mt(t.h,t.s,t.l,t.opacity);if(t instanceof ce||(t=fe(t)),!t)return new mt;if(t instanceof mt)return t;var e=(t=t.rgb()).r/255,r=t.g/255,i=t.b/255,o=Math.min(e,r,i),a=Math.max(e,r,i),s=NaN,c=a-o,l=(a+o)/2;return c?(s=e===a?(r-i)/c+6*(r<i):r===a?(i-e)/c+2:(e-r)/c+4,c/=l<.5?a+o:2-a-o,s*=60):c=l>0&&l<1?0:s,new mt(s,c,l,t.opacity)}function mt(t,e,r,i){this.h=+t,this.s=+e,this.l=+r,this.opacity=+i}function Xn(t){return(t=(t||0)%360)<0?t+360:t}function qe(t){return Math.max(0,Math.min(1,t||0))}function sn(t,e,r){return 255*(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)}function Yn(t,e,r,i,o){var a=t*t,s=a*t;return((1-3*t+3*a-s)*e+(4-6*a+3*s)*r+(1+3*t+3*a-3*s)*i+s*o)/6}on(ce,fe,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Dn,formatHex:Dn,formatHex8:function Li(){return this.rgb().formatHex8()},formatHsl:function Si(){return Qn(this).formatHsl()},formatRgb:Jn,toString:Jn}),on(ot,Se,Nn(ce,{brighter(t){return t=null==t?Pe:Math.pow(Pe,t),new ot(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new ot(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ot(qt(this.r),qt(this.g),qt(this.b),ze(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rn,formatHex:Rn,formatHex8:function qi(){return`#${Ut(this.r)}${Ut(this.g)}${Ut(this.b)}${Ut(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:$n,toString:$n})),on(mt,function Ui(t,e,r,i){return 1===arguments.length?Qn(t):new mt(t,e,r,null==i?1:i)},Nn(ce,{brighter(t){return t=null==t?Pe:Math.pow(Pe,t),new mt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new mt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,o=2*r-i;return new ot(sn(t>=240?t-240:t+120,o,i),sn(t,o,i),sn(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new mt(Xn(this.h),qe(this.s),qe(this.l),ze(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ze(this.opacity);return`${1===t?"hsl(":"hsla("}${Xn(this.h)}, ${100*qe(this.s)}%, ${100*qe(this.l)}%${1===t?")":`, ${t})`}`}}));const Bn=t=>()=>t;function Kn(t,e){var r=e-t;return r?function Vn(t,e){return function(r){return t+r*e}}(t,r):Bn(isNaN(t)?e:t)}const Gn=function t(e){var r=function Ji(t){return 1==(t=+t)?Kn:function(e,r){return r-e?function Di(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(i){return Math.pow(t+i*e,r)}}(e,r,t):Bn(isNaN(e)?r:e)}}(e);function i(o,a){var s=r((o=Se(o)).r,(a=Se(a)).r),c=r(o.g,a.g),l=r(o.b,a.b),f=Kn(o.opacity,a.opacity);return function(h){return o.r=s(h),o.g=c(h),o.b=l(h),o.opacity=f(h),o+""}}return i.gamma=t,i}(1);function Wn(t){return function(e){var s,c,r=e.length,i=new Array(r),o=new Array(r),a=new Array(r);for(s=0;s<r;++s)c=Se(e[s]),i[s]=c.r||0,o[s]=c.g||0,a[s]=c.b||0;return i=t(i),o=t(o),a=t(a),c.opacity=1,function(l){return c.r=i(l),c.g=o(l),c.b=a(l),c+""}}}Wn(function Ni(t){var e=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[i],a=t[i+1];return Yn((r-i/e)*e,i>0?t[i-1]:2*o-a,o,a,i<e-1?t[i+2]:2*a-o)}}),Wn(function Hi(t){var e=t.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*e);return Yn((r-i/e)*e,t[(i+e-1)%e],t[i%e],t[(i+1)%e],t[(i+2)%e])}});var an=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cn=new RegExp(an.source,"g");function $i(t,e){var i,o,a,r=an.lastIndex=cn.lastIndex=0,s=-1,c=[],l=[];for(t+="",e+="";(i=an.exec(t))&&(o=cn.exec(e));)(a=o.index)>r&&(a=e.slice(r,a),c[s]?c[s]+=a:c[++s]=a),(i=i[0])===(o=o[0])?c[s]?c[s]+=o:c[++s]=o:(c[++s]=null,l.push({i:s,x:Ct(i,o)})),r=cn.lastIndex;return r<e.length&&(a=e.slice(r),c[s]?c[s]+=a:c[++s]=a),c.length<2?l[0]?function Ri(t){return function(e){return t(e)+""}}(l[0].x):function Ii(t){return function(){return t}}(e):(e=l.length,function(f){for(var v,h=0;h<e;++h)c[(v=l[h]).i]=v.x(f);return c.join("")})}function jn(t,e){var r;return("number"==typeof e?Ct:e instanceof fe?Gn:(r=fe(e))?(e=r,Gn):$i)(t,e)}function Fi(t){return function(){this.removeAttribute(t)}}function Qi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xi(t,e,r){var i,a,o=r+"";return function(){var s=this.getAttribute(t);return s===o?null:s===i?a:a=e(i=s,r)}}function Yi(t,e,r){var i,a,o=r+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?a:a=e(i=s,r)}}function Bi(t,e,r){var i,o,a;return function(){var s,l,c=r(this);return null==c?void this.removeAttribute(t):(s=this.getAttribute(t))===(l=c+"")?null:s===i&&l===o?a:(o=l,a=e(i=s,c))}}function Vi(t,e,r){var i,o,a;return function(){var s,l,c=r(this);return null==c?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local))===(l=c+"")?null:s===i&&l===o?a:(o=l,a=e(i=s,c))}}function Gi(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function Wi(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function ji(t,e){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Wi(t,a)),r}return o._value=e,o}function to(t,e){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Gi(t,a)),r}return o._value=e,o}function no(t,e){return function(){en(this,t).delay=+e.apply(this,arguments)}}function ro(t,e){return e=+e,function(){en(this,t).delay=e}}function oo(t,e){return function(){vt(this,t).duration=+e.apply(this,arguments)}}function so(t,e){return e=+e,function(){vt(this,t).duration=e}}function co(t,e){if("function"!=typeof e)throw new Error;return function(){vt(this,t).ease=e}}function mo(t,e,r){var i,o,a=function go(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||"start"===e})}(e)?en:vt;return function(){var s=a(this,t),c=s.on;c!==i&&(o=(i=c).copy()).on(e,r),s.on=o}}var xo=re.prototype.constructor;function tr(t){return function(){this.style.removeProperty(t)}}function Oo(t,e,r){return function(i){this.style.setProperty(t,e.call(this,i),r)}}function Eo(t,e,r){var i,o;function a(){var s=e.apply(this,arguments);return s!==o&&(i=(o=s)&&Oo(t,s,r)),i}return a._value=e,a}function qo(t){return function(e){this.textContent=t.call(this,e)}}function Uo(t){var e,r;function i(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&qo(o)),e}return i._value=t,i}var Jo=0;function wt(t,e,r,i){this._groups=t,this._parents=e,this._name=r,this._id=i}function er(){return++Jo}var bt=re.prototype;wt.prototype=function Io(t){return re().transition(t)}.prototype={constructor:wt,select:function wo(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=Gt(t));for(var i=this._groups,o=i.length,a=new Array(o),s=0;s<o;++s)for(var h,v,c=i[s],l=c.length,f=a[s]=new Array(l),y=0;y<l;++y)(h=c[y])&&(v=t.call(h,h.__data__,y,c))&&("__data__"in h&&(v.__data__=h.__data__),f[y]=v,Oe(f[y],e,r,y,f,gt(h,r)));return new wt(a,this._parents,e,r)},selectAll:function bo(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=Wt(t));for(var i=this._groups,o=i.length,a=[],s=[],c=0;c<o;++c)for(var h,l=i[c],f=l.length,v=0;v<f;++v)if(h=l[v]){for(var x,y=t.call(h,h.__data__,v,l),F=gt(h,r),X=0,g=y.length;X<g;++X)(x=y[X])&&Oe(x,e,r,X,y,F);a.push(y),s.push(h)}return new wt(a,s,e,r)},selectChild:bt.selectChild,selectChildren:bt.selectChildren,filter:function ho(t){"function"!=typeof t&&(t=M(t));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var l,a=e[o],s=a.length,c=i[o]=[],f=0;f<s;++f)(l=a[f])&&t.call(l,l.__data__,f,a)&&c.push(l);return new wt(i,this._parents,this._name,this._id)},merge:function po(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,i=e.length,a=Math.min(i,r.length),s=new Array(i),c=0;c<a;++c)for(var y,l=e[c],f=r[c],h=l.length,v=s[c]=new Array(h),x=0;x<h;++x)(y=l[x]||f[x])&&(v[x]=y);for(;c<i;++c)s[c]=e[c];return new wt(s,this._parents,this._name,this._id)},selection:function To(){return new xo(this._groups,this._parents)},transition:function Ho(){for(var t=this._name,e=this._id,r=er(),i=this._groups,o=i.length,a=0;a<o;++a)for(var l,s=i[a],c=s.length,f=0;f<c;++f)if(l=s[f]){var h=gt(l,e);Oe(l,t,r,f,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new wt(i,this._parents,t,r)},call:bt.call,nodes:bt.nodes,node:bt.node,size:bt.size,empty:bt.empty,each:bt.each,on:function vo(t,e){var r=this._id;return arguments.length<2?gt(this.node(),r).on.on(t):this.each(mo(r,t,e))},attr:function Ki(t,e){var r=lt(t),i="transform"===r?bi:jn;return this.attrTween(t,"function"==typeof e?(r.local?Vi:Bi)(r,i,rn(this,"attr."+t,e)):null==e?(r.local?Qi:Fi)(r):(r.local?Yi:Xi)(r,i,e))},attrTween:function eo(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;var i=lt(t);return this.tween(r,(i.local?ji:to)(i,e))},style:function Co(t,e,r){var i="transform"==(t+="")?wi:jn;return null==e?this.styleTween(t,function Ao(t,e){var r,i,o;return function(){var a=It(this,t),s=(this.style.removeProperty(t),It(this,t));return a===s?null:a===r&&s===i?o:o=e(r=a,i=s)}}(t,i)).on("end.style."+t,tr(t)):"function"==typeof e?this.styleTween(t,function Mo(t,e,r){var i,o,a;return function(){var s=It(this,t),c=r(this),l=c+"";return null==c&&(this.style.removeProperty(t),l=c=It(this,t)),s===l?null:s===i&&l===o?a:(o=l,a=e(i=s,c))}}(t,i,rn(this,"style."+t,e))).each(function ko(t,e){var r,i,o,c,a="style."+e,s="end."+a;return function(){var l=vt(this,t),f=l.on,h=null==l.value[a]?c||(c=tr(e)):void 0;(f!==r||o!==h)&&(i=(r=f).copy()).on(s,o=h),l.on=i}}(this._id,t)):this.styleTween(t,function Zo(t,e,r){var i,a,o=r+"";return function(){var s=It(this,t);return s===o?null:s===i?a:a=e(i=s,r)}}(t,i,e),r).on("end.style."+t,null)},styleTween:function Po(t,e,r){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Eo(t,e,null==r?"":r))},text:function zo(t){return this.tween("text","function"==typeof t?function So(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(rn(this,"text",t)):function Lo(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function No(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Uo(t))},remove:function yo(){return this.on("end.remove",function _o(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function Ai(t,e){var r=this._id;if(t+="",arguments.length<2){for(var s,i=gt(this.node(),r).tween,o=0,a=i.length;o<a;++o)if((s=i[o]).name===t)return s.value;return null}return this.each((null==e?xi:Ti)(r,t,e))},delay:function io(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?no:ro)(e,t)):gt(this.node(),e).delay},duration:function ao(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?oo:so)(e,t)):gt(this.node(),e).duration},ease:function lo(t){var e=this._id;return arguments.length?this.each(co(e,t)):gt(this.node(),e).ease},easeVarying:function fo(t){if("function"!=typeof t)throw new Error;return this.each(function uo(t,e){return function(){var r=e.apply(this,arguments);if("function"!=typeof r)throw new Error;vt(this,t).ease=r}}(this._id,t))},end:function Do(){var t,e,r=this,i=r._id,o=r.size();return new Promise(function(a,s){var c={value:s},l={value:function(){0==--o&&a()}};r.each(function(){var f=vt(this,i),h=f.on;h!==t&&((e=(t=h).copy())._.cancel.push(c),e._.interrupt.push(c),e._.end.push(l)),f.on=e}),0===o&&a()})},[Symbol.iterator]:bt[Symbol.iterator]};var $o={time:null,delay:0,duration:250,ease:function Ro(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Fo(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}re.prototype.interrupt=function vi(t){return this.each(function(){!function mi(t,e){var i,o,s,r=t.__transition,a=!0;if(r){for(s in e=null==e?null:e+"",r)(i=r[s]).name===e?(o=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete r[s]):a=!1;a&&delete t.__transition}}(this,t)})},re.prototype.transition=function Qo(t){var e,r;t instanceof wt?(e=t._id,t=t._name):(e=er(),(r=$o).time=Ge(),t=null==t?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var l,s=i[a],c=s.length,f=0;f<c;++f)(l=s[f])&&Oe(l,t,e,f,s,r||Fo(l,e));return new wt(i,this._parents,t,e)};Math;function he(t){return{type:t}}function jo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function pn(t){return(e,r)=>function ts(t,e){return fetch(t,e).then(jo)}(e,r).then(i=>(new DOMParser).parseFromString(i,t))}["w","e"].map(he),["n","s"].map(he),["n","w","e","s","nw","ne","sw","se"].map(he);const Ot=pn("application/xml");function st(t){return"string"==typeof t?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],xn)}function Xt(t,e,r){this.k=t,this.x=e,this.y=r}pn("text/html"),pn("image/svg+xml"),Xt.prototype={constructor:Xt,scale:function(t){return 1===t?this:new Xt(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Xt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Xt(1,0,0);var n=et(2096),cr=et(5719);function cs(t,e){1&t&&(n.TgZ(0,"img-comparison-slider",81),n._UZ(1,"img",82)(2,"img",83),n.qZA())}function ls(t,e){1&t&&(n.TgZ(0,"img-comparison-slider",84),n._UZ(1,"img",82)(2,"img",83),n.qZA())}const us=function(t,e){return{"scrolly-sticky-side":t,"scrolly-overlay":e}},fs=[{path:"",component:(()=>{class t{constructor(r){this.platform=r,this.sliderDirection="horizontal",this.barrierCount=0,this.sliderDirection=this.platform.is("mobile")?"vertical":"horizontal"}ngAfterViewInit(){return(0,ge.mG)(this,void 0,void 0,function*(){var r=st("main"),i=r.select("#healthy_rivers"),o=i.select("figure"),s=i.select("article").selectAll(".step"),c=r.select("#river_connectivities"),l=c.select("figure"),h=c.select("article").selectAll(".step");let v=yield Ot("assets/imgs/svg/connectivity/connectivity.svg");v.documentElement.setAttribute("width","auto"),v.documentElement.setAttribute("height","auto"),st(v.documentElement).style("height","100%"),c.select("#connectivity_image").node().append(v.documentElement);var y=r.select("#anthropogenic_threats"),x=y.select("figure"),X=y.select("article").selectAll(".step");yield this.loadThreatsCharts(y);var g=At(),d=At(),Z=At();function z(P){h.classed("is-active",function(u,_){return _===P.index});let D=l.selectAll(".river_connectivity_animation"),H=st("#connectivity_image svg"),S=P.index+1;H.select("#base").classed("active",()=>1==S),H.select("#longitudinal1").classed("active",()=>2==S),H.select("#longitudinal2").classed("active",()=>2==S),H.select("#lateral1").classed("active",()=>3==S),H.select("#lateral2").classed("active",()=>3==S),H.select("#vertical1").classed("active",()=>4==S),H.select("#vertical2").classed("active",()=>4==S),H.select("#temporal1").classed("active",()=>5==S),H.select("#temporal2").classed("active",()=>5==S),D.each(function(){let u=this.dataset.step.split(","),_="all"===u[0]||u.includes(""+S);this.classList.toggle("active",_)})}function J(P){console.log(P),s.classed("is-active",function(S,u){return u===P.index});let D=o.selectAll("img"),H=P.index+1;D.each(function(){let S=this.dataset.step.split(","),u="all"===S[0]||S.includes(""+H);this.classList.toggle("active",u)})}function nt(P){console.log(P),X.classed("is-active",function(S,u){return u===P.index});let D=x.selectAll(".anthropogenic_threats"),H=P.index+1;D.each(function(){let S=this.dataset.step.split(","),u=this.dataset.transitionStep||1/0,_="all"===S[0]||S.includes(""+H),p=16!==H&&H>=+u,m=this.dataset.foregroundStep==H;this.classList.toggle("active",_),this.classList.toggle("transitioned",p),x.style("z-index",m&&_?1e3:0)})}function Q(P){P.element.classList.remove("is-active"),console.log("exit : ",P)}return At(),function rt(){return function L(){var P=Math.floor(.5*window.innerHeight);h.style("height",P+"px"),s.style("height",P+"px"),X.style("height",P+"px");var D=window.innerHeight;l.style("height",D+"px").style("top","0px"),o.style("height",D+"px").style("top","0px"),x.style("height",D+"px").style("top","0px"),d.resize(),g.resize(),Z.resize()}(),d.setup({step:"#river_connectivities article .step",offset:.5,debug:!1}).onStepEnter(z).onStepExit(Q),g.setup({step:"#healthy_rivers article .step",offset:.5,debug:!1}).onStepEnter(J).onStepExit(Q),Z.setup({step:"#anthropogenic_threats article .step",offset:.5,debug:!1}).onStepEnter(nt).onStepExit(Q),Promise.resolve()}()})}loadThreatsCharts(r){return(0,ge.mG)(this,void 0,void 0,function*(){let i=yield Ot("assets/imgs/svg/map_eu/2.map_eu_dams.svg"),o=yield Ot("assets/imgs/svg/map_eu/2.map_eu_ramps.svg"),a=yield Ot("assets/imgs/svg/map_eu/2.map_eu_weirs.svg"),s=yield Ot("assets/imgs/svg/map_eu/2.map_eu_culverts.svg"),c=yield Ot("assets/imgs/svg/map_eu/2.map_eu_sluices.svg"),l=yield Ot("assets/imgs/svg/map_eu/2.map_eu_fords_other.svg"),f=yield Ot("assets/imgs/svg/map_eu/2.map_eu_count_wgs84_more_data.svg");i.documentElement.setAttribute("width","auto"),i.documentElement.setAttribute("height","auto"),o.documentElement.setAttribute("width","auto"),o.documentElement.setAttribute("height","auto"),a.documentElement.setAttribute("width","auto"),a.documentElement.setAttribute("height","auto"),s.documentElement.setAttribute("width","auto"),s.documentElement.setAttribute("height","auto"),c.documentElement.setAttribute("width","auto"),c.documentElement.setAttribute("height","auto"),l.documentElement.setAttribute("width","auto"),l.documentElement.setAttribute("height","auto"),f.documentElement.setAttribute("width","auto"),f.documentElement.setAttribute("height","auto"),st(i.documentElement).style("height","100%"),st(o.documentElement).style("height","100%"),st(a.documentElement).style("height","100%"),st(s.documentElement).style("height","100%"),st(c.documentElement).style("height","100%"),st(l.documentElement).style("height","100%"),st(f.documentElement).style("height","100%"),r.select("#anthropogenic_threats_dams").node().append(i.documentElement),r.select("#anthropogenic_threats_ramps").node().append(o.documentElement),r.select("#anthropogenic_threats_weirs").node().append(a.documentElement),r.select("#anthropogenic_threats_culverts").node().append(s.documentElement),r.select("#anthropogenic_threats_sluices").node().append(c.documentElement),r.select("#anthropogenic_threats_others").node().append(l.documentElement),r.select("#anthropogenic_threats_hex_bin").node().append(f.documentElement),r.selectAll("#anthropogenic_threats_hex_bin #eu_barrier_count .hex").each(function(){st(this).on("mouseenter",function(){st(this).classed("focused",!0)}),st(this).on("mouseleave",function(){st(this).classed("focused",!1)})})})}}return t.\u0275fac=function(r){return new(r||t)(n.Y36(Kt.t4))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-home"]],decls:257,vars:134,consts:[[3,"fullscreen"],["id","container"],["id","header"],[1,"centered_text_block"],[1,"intro__hed"],["id","intro",1,"centered_text_block"],["id","breadcrumb"],["id","healthy_rivers",1,"scrolly","scrolly-overlay"],["src","assets/imgs/svg/map_global_rivers/1.map_global_rivers_land.svg","id","map_global_rivers_land","data-step","all",1,"stacked_img","map_global_rivers","active"],["src","assets/imgs/svg/map_global_rivers/1.map_global_rivers_all.svg","id","map_global_rivers_all","data-step","1",1,"stacked_img","map_global_rivers","active"],["src","assets/imgs/svg/map_global_rivers/1.map_global_rivers_not.svg","id","map_global_rivers_not","data-step","2,7",1,"stacked_img","map_global_rivers"],["src","assets/imgs/svg/map_global_rivers/1.map_global_rivers_ffr.svg","id","map_global_rivers_ffr","data-step","3,4,5,6,7",1,"stacked_img","map_global_rivers"],["data-step","1","data-offset","0.5",1,"step"],[3,"innerHTML"],["data-step","2",1,"step"],["data-step","3",1,"step"],["data-step","4",1,"step"],["data-step","5",1,"step"],["data-step","6",1,"step"],["data-step","7",1,"step","separator"],["id","river-connectivities-title",1,"centered_text_block"],["id","river_connectivities",1,"scrolly",3,"ngClass"],["id","connectivity_image","data-step","1,2,3,4,5",1,"stacked_img","river_connectivity_animation"],["data-step","1",1,"step"],["id","free_flowing_rivers_text",1,"centered_text_block"],["id","anthropogenic_threats-title",1,"centered_text_block"],["id","anthropogenic_threats",1,"scrolly","scrolly-overlay"],["id","barrier_counter"],["id","anthropogenic_threats_figure"],["src","assets/imgs/gif/dam.gif","id","anthropogenic_threats_dam_background","data-step","1,2",1,"stacked_img","anthropogenic_threats"],["src","assets/imgs/svg/map_eu/2.map_eu_land.svg","id","anthropogenic_threats_land","data-step","3,4,5,6,7,8,9,10,11,12,13,14,15,16",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_dams","data-step","4,5,6,7,8,9,10,11,12,13,14,15,16","data-transition-step","7",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_ramps","data-step","7,8,9,10,11,12,13,14,15,16","data-transition-step","9",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_weirs","data-step","9,10,11,12,13,14,15,16","data-transition-step","11",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_culverts","data-step","11,12,13,14,15,16","data-transition-step","13",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_sluices","data-step","13,14,15,16","data-transition-step","15",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_others","data-step","15,16","data-offset","0.5",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_hex_bin","data-step","17,18","data-foreground-step","17",1,"stacked_img","anthropogenic_threats"],["id","anthropogenic_threats_article"],["data-step","5",1,"step","separator"],["data-step","7",1,"step"],["data-step","8",1,"step","separator"],["data-step","9",1,"step"],["data-step","10",1,"step","separator"],["data-step","11",1,"step"],["data-step","12",1,"step","separator"],["data-step","13",1,"step"],["data-step","14",1,"step","separator"],["data-step","15",1,"step"],["data-step","16",1,"step","separator"],["data-step","17",1,"step","separator"],["data-step","18",1,"step"],["id","anthropogenic_threats_text",1,"centered_text_block"],["src","assets/imgs/gif/foto7.gif"],["src","assets/imgs/jpg/foto15.jpeg"],["src","assets/imgs/jpg/foto16.jpeg"],["id","canalizzazione",1,"centered_text_block"],["direction","vertical",4,"ngIf"],["direction","horizontal",4,"ngIf"],["src","assets/imgs/jpg/foto11.jpeg"],["id","ecosystem_impacts_title",1,"centered_text_block"],["id","ecosystem_impacts_text",1,"centered_text_block"],["href","https://livingplanet.panda.org/freshwater","target","_blank"],["id","freshwater_index_chart_container"],["autoplay","","autoPlay","","muted","","loop","","playsinline","","controls",""],["src","assets/video/video3.mp4","type","video/mp4"],["src","assets/video/video3.webm","type","video/webm"],["href","https://onlinelibrary.wiley.com/doi/full/10.1002/rra.3386","target","_blank"],["id","ecosystem_impacts_viz",1,"scrolly","scrolly-overlay"],["id","ecosystem_impacts_viz_figure"],["id","ecosystem_impacts_viz_figure_chart","data-step","1","data-transition-step","",1,"stacked_img","ecosystem_impacts_viz"],["id","ecosystem_impacts_viz_article"],["data-step","1",1,"step",3,"innerHTML"],["data-step","2",1,"step",3,"innerHTML"],["data-step","3",1,"step",3,"innerHTML"],["data-step","4",1,"step",3,"innerHTML"],["data-step","5",1,"step",3,"innerHTML"],["data-step","6",1,"step",3,"innerHTML"],["data-step","7",1,"step",3,"innerHTML"],["data-step","8",1,"step",3,"innerHTML"],["data-step","9",1,"step",3,"innerHTML"],["direction","vertical"],["slot","first","src","assets/imgs/png/foto9.png"],["slot","second","src","assets/imgs/png/foto10.png"],["direction","horizontal"]],template:function(r,i){1&r&&(n.TgZ(0,"ion-content",0)(1,"div",1)(2,"main")(3,"section",2)(4,"div",3)(5,"h1",4),n._uU(6),n.ALo(7,"transloco"),n.qZA(),n.TgZ(8,"h4",4),n._uU(9),n.ALo(10,"transloco"),n.qZA()()(),n.TgZ(11,"section",5)(12,"p"),n._uU(13," Rivers are complex systems whose dynamics shape life on Earth as we know it. They are home to a wide range of freshwater species. They transport sediments and nutrients. They form wetlands, deltas, and floodplains which nurture flora, fauna, and human communities and protect us from floods and droughts and other natural disasters. They collect water from the atmosphere and land and replenish groundwater systems, which are key for our survival. "),n.qZA(),n.TgZ(14,"p"),n._uU(15," To provide these essential ecosystem services, rivers must be able to flow freely, moving unobstructed in multiple directions. However, only a small fraction of the world\u2019s rivers can still do so: a myriad of human-made works fragment, deviate, constrict, and regulate river flow, dramatically impacting natural functions and surrounding ecosystems. Understanding how rivers work, the threats they face, and the alarming consequences of altered river processes, warns us of how restoring our watercourses is not only possible, but crucial. "),n.qZA(),n.TgZ(16,"p"),n._uU(17," Understanding how rivers should flow is crucial to comprehend their current bleak situation and alarming consequences. Restoring and protecting these natural systems is yet possible and necessary for people and nature. "),n.qZA()(),n.TgZ(18,"section",6)(19,"div")(20,"span"),n._uU(21,"Healthy Rivers"),n.qZA(),n.TgZ(22,"span"),n._uU(23,"Anthropogenic Threats"),n.qZA(),n.TgZ(24,"span"),n._uU(25,"Ecosystem Impacts"),n.qZA(),n.TgZ(26,"span"),n._uU(27,"Possible Futures"),n.qZA(),n.TgZ(28,"span"),n._uU(29,"About the project"),n.qZA()()(),n.TgZ(30,"section",7)(31,"figure"),n._UZ(32,"img",8)(33,"img",9)(34,"img",10)(35,"img",11),n.qZA(),n.TgZ(36,"article")(37,"div",12),n._UZ(38,"div",13),n.ALo(39,"transloco"),n.qZA(),n.TgZ(40,"div",14),n._UZ(41,"div",13),n.ALo(42,"transloco"),n.qZA(),n.TgZ(43,"div",15),n._UZ(44,"div",13),n.ALo(45,"transloco"),n.qZA(),n.TgZ(46,"div",16),n._UZ(47,"div",13),n.ALo(48,"transloco"),n.qZA(),n.TgZ(49,"div",17),n._UZ(50,"div",13),n.ALo(51,"transloco"),n.qZA(),n.TgZ(52,"div",18),n._UZ(53,"div",13),n.ALo(54,"transloco"),n.qZA(),n.TgZ(55,"div",19),n._UZ(56,"div",13),n.ALo(57,"transloco"),n.qZA()()(),n.TgZ(58,"section",20)(59,"h1"),n._uU(60,"THE FOUR DIMENSIONS OF CONNECTIVITY"),n.qZA()(),n.TgZ(61,"section",21)(62,"figure"),n._UZ(63,"div",22),n.qZA(),n.TgZ(64,"article")(65,"div",23),n._UZ(66,"div",13),n.ALo(67,"transloco"),n.qZA(),n.TgZ(68,"div",14),n._UZ(69,"div",13),n.ALo(70,"transloco"),n.qZA(),n.TgZ(71,"div",15),n._UZ(72,"div",13),n.ALo(73,"transloco"),n.qZA(),n.TgZ(74,"div",16),n._UZ(75,"div",13),n.ALo(76,"transloco"),n.qZA(),n.TgZ(77,"div",17),n._UZ(78,"div",13),n.ALo(79,"transloco"),n.qZA()()(),n.TgZ(80,"section",24)(81,"p")(82,"em"),n._uU(83,"Free-flowing rivers"),n.qZA(),n._uU(84," are those in which all four types of connectivity are present. There are, however, many potential threats to maintaining a free-flowing status from the headwaters to the outlet. For example, barriers like dams impact longitudinal and temporal connectivity, while bank protection and levees hinder lateral connectivity. "),n.qZA(),n.TgZ(85,"p"),n._uU(86," The human pressures that impact a river\u2019s flow and dynamics are multiple, often linked to urbanization, agriculture, roads and infrastructure built in riparian areas, water abstraction and energy production - to name a few. "),n.qZA()(),n.TgZ(87,"section",25)(88,"h1"),n._uU(89,"THE FOUR DIMENSIONS OF CONNECTIVITY"),n.qZA()(),n.TgZ(90,"section",26)(91,"div",27)(92,"h5"),n._uU(93),n.ALo(94,"transloco"),n.qZA(),n.TgZ(95,"h5"),n._uU(96),n.qZA()(),n.TgZ(97,"figure",28),n._UZ(98,"img",29)(99,"img",30)(100,"div",31)(101,"div",32)(102,"div",33)(103,"div",34)(104,"div",35)(105,"div",36)(106,"div",37),n.qZA(),n.TgZ(107,"article",38)(108,"div",23),n._UZ(109,"div",13),n.ALo(110,"transloco"),n.qZA(),n.TgZ(111,"div",14),n._UZ(112,"div",13),n.ALo(113,"transloco"),n.qZA(),n.TgZ(114,"div",15),n._UZ(115,"div",13),n.ALo(116,"transloco"),n.qZA(),n.TgZ(117,"div",16),n._UZ(118,"div",13),n.ALo(119,"transloco"),n.qZA(),n.TgZ(120,"div",39),n._UZ(121,"div",13),n.ALo(122,"transloco"),n.qZA(),n.TgZ(123,"div",18),n._UZ(124,"div",13),n.ALo(125,"transloco"),n.qZA(),n.TgZ(126,"div",40),n._UZ(127,"div",13),n.ALo(128,"transloco"),n.qZA(),n.TgZ(129,"div",41),n._UZ(130,"div",13),n.ALo(131,"transloco"),n.qZA(),n.TgZ(132,"div",42),n._UZ(133,"div",13),n.ALo(134,"transloco"),n.qZA(),n.TgZ(135,"div",43),n._UZ(136,"div",13),n.ALo(137,"transloco"),n.qZA(),n.TgZ(138,"div",44),n._UZ(139,"div",13),n.ALo(140,"transloco"),n.qZA(),n.TgZ(141,"div",45),n._UZ(142,"div",13),n.ALo(143,"transloco"),n.qZA(),n.TgZ(144,"div",46),n._UZ(145,"div",13),n.ALo(146,"transloco"),n.qZA(),n.TgZ(147,"div",47),n._UZ(148,"div",13),n.ALo(149,"transloco"),n.qZA(),n.TgZ(150,"div",48),n._UZ(151,"div",13),n.ALo(152,"transloco"),n.qZA(),n.TgZ(153,"div",49),n._UZ(154,"div",13),n.ALo(155,"transloco"),n.qZA(),n.TgZ(156,"div",50),n._UZ(157,"div",13),n.ALo(158,"transloco"),n.qZA(),n.TgZ(159,"div",51),n._UZ(160,"div",13),n.ALo(161,"transloco"),n.qZA()()(),n.TgZ(162,"section",52)(163,"p"),n._uU(164," These barriers mostly impact "),n.TgZ(165,"em"),n._uU(166,"longitudinal connectivity"),n.qZA(),n._uU(167,", blocking or limiting the passage of fish and sediments. "),n.qZA(),n.TgZ(168,"p"),n._uU(169," Some obstacles, like dams, also impact "),n.TgZ(170,"em"),n._uU(171,"temporal connectivity"),n.qZA(),n._uU(172,", as they regulate the flow of water and sediments according to human needs rather than allowing the river to follow its natural seasonal patterns. "),n.qZA(),n.TgZ(173,"figure"),n._UZ(174,"img",53),n.qZA(),n.TgZ(175,"p"),n._uU(176," Other types of human interventions put pressure on lateral connectivity, for example artificial levees and bank protection works. Such barriers are built in the floodplains and run parallel to the river. Levees are used to stop water from flooding the nearby land but, depending on how far they are from the river channel, they could still allow for some lateral movements. Bank protection works, on the other hand, are made specifically to prevent the river channel from shifting its path sideways, although they don\u2019t necessarily block the river\u2019s waters from reaching the floodplains, for example if they are built with rocks that let water pass through. "),n.qZA(),n.TgZ(177,"figure"),n._UZ(178,"img",54),n.TgZ(179,"figcaption"),n._uU(180,"loren ipsum"),n.qZA()(),n.TgZ(181,"figure"),n._UZ(182,"img",55),n.TgZ(183,"figcaption"),n._uU(184,"loren ipsum"),n.qZA()()(),n.TgZ(185,"section",56)(186,"div")(187,"p"),n._uU(188," Rivers with lateral barriers quickly become channels that follow a strict path, rather than live elements that weave in the environment and change shape over time. This can cause catastrophic floods when rivers overflow embankments and also increases flood risk further downstream. "),n.qZA()(),n.YNc(189,cs,3,0,"img-comparison-slider",57),n.YNc(190,ls,3,0,"img-comparison-slider",58),n.TgZ(191,"div")(192,"p"),n._uU(193," Lateral obstacles are less likely to be noticed as they are deeply ingrained in the anthropized landscape, but they are even more numerous than the shocking number of longitudinal obstacles like dams, weirs, ramps, and sluices. "),n.qZA(),n.TgZ(194,"p"),n._uU(195," Lastly, human interventions hinder the vertical connectivity of the riverbed. Activities like paving, dredging, or clogging with fine sediments limit the exchange between surface and groundwater. "),n.qZA()(),n.TgZ(196,"figure"),n._UZ(197,"img",59),n.TgZ(198,"figcaption"),n._uU(199,"lorem ipsum"),n.qZA()()(),n.TgZ(200,"section",60)(201,"h1"),n._uU(202,"The ecological impacts of the loss of connectivity"),n.qZA()(),n.TgZ(203,"section",61)(204,"div")(205,"p"),n._uU(206," As rivers encounter man-made barriers to their free flow, the complex habitats they sustain are degraded or lost and animal species become increasingly vulnerable. Freshwater biodiversity is taking the hardest hit, declining at a faster rate than that of oceans and forests, according to WWF\u2019s "),n.TgZ(207,"a",62),n._uU(208,"Living Planet Index."),n.qZA()(),n.TgZ(209,"p"),n._uU(210,"Freshwater species have declined by 84% on average across monitored species compared to 1970. "),n.qZA(),n.TgZ(211,"div",63)(212,"h1"),n._uU(213,"METTERE QUI GRAFICO D3"),n.qZA()(),n.TgZ(214,"p"),n._uU(215," The reasons why freshwater species are declining are multiple, from overfishing to rising water temperatures. The loss of river connectivity impacts biodiversity in many ways. Barriers block rivers\u2019 longitudinal and lateral movements, fragmenting habitats and making entire portions inaccessible. For example, migratory fish might get cut off from their breeding areas, but even non-migratory fish species are impacted, as they can\u2019t reach sheltered or nutrient-rich areas of the river that are critical to their survival. "),n.qZA(),n.TgZ(216,"figure")(217,"video",64),n._UZ(218,"source",65)(219,"source",66),n.qZA(),n.TgZ(220,"figcaption"),n._uU(221,"loren ipsum"),n.qZA()(),n.TgZ(222,"p"),n._uU(223," Fish get caught in dam turbines as they move downstream, or get stuck and disoriented as they move upstream and in reservoirs. In short, the negative impact of river fragmentation on the survival of fish species is great, and has been "),n.TgZ(224,"a",67),n._uU(225,"documented and quantified"),n.qZA(),n._uU(226,". "),n.qZA(),n.TgZ(227,"p"),n._uU(228," Barriers also transform the physical and chemical characteristics of rivers and negatively impact a wide range of freshwater species. Sediments of different sizes, especially the coarser ones, get trapped, leading to riverbed erosion. The latter, together with the altered water flows due to barriers, is linked to more salty water from the sea penetrating the river. Such change in salinity affects species\u2019 distribution, behavior, and limits the reproduction rate. "),n.qZA(),n.TgZ(229,"p"),n._uU(230," Lateral barriers such as bank protection works have an impact on floodplain habitats and cause the loss of wetlands by preventing natural-occurring inundations and sediment redistribution and reducing the exchange with the groundwater. "),n.qZA(),n.TgZ(231,"p"),n._uU(232," Migratory birds face growing challenges as they lose access to wetlands, which offer safe havens of food and habitat throughout their journeys. Critical nesting habitat such as gravel bed bars and islands can disappear due to altered river flows. "),n.qZA()()(),n.TgZ(233,"section",68)(234,"h1"),n._uU(235,"METTERE QUI mettere WAFFLE chart con animazioni"),n.qZA(),n.TgZ(236,"figure",69),n._UZ(237,"div",70),n.qZA(),n.TgZ(238,"article",71),n._UZ(239,"div",72),n.ALo(240,"transloco"),n._UZ(241,"div",73),n.ALo(242,"transloco"),n._UZ(243,"div",74),n.ALo(244,"transloco"),n._UZ(245,"div",75),n.ALo(246,"transloco"),n._UZ(247,"div",76),n.ALo(248,"transloco"),n._UZ(249,"div",77),n.ALo(250,"transloco"),n._UZ(251,"div",78),n.ALo(252,"transloco"),n._UZ(253,"div",79),n.ALo(254,"transloco"),n._UZ(255,"div",80),n.ALo(256,"transloco"),n.qZA()()()()()),2&r&&(n.Q6J("fullscreen",!0),n.xp6(6),n.Oqu(n.lcZ(7,47,"introTitle")),n.xp6(3),n.Oqu(n.lcZ(10,49,"introSubtitle")),n.xp6(29),n.Q6J("innerHTML",n.lcZ(39,51,"healthyRivers.step-1"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(42,53,"healthyRivers.step-2"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(45,55,"healthyRivers.step-3"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(48,57,"healthyRivers.step-4"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(51,59,"healthyRivers.step-5"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(54,61,"healthyRivers.step-6"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(57,63,"healthyRivers.step-7"),n.oJD),n.xp6(5),n.Q6J("ngClass",n.WLB(131,us,i.platform.is("desktop"),i.platform.is("mobile"))),n.xp6(5),n.Q6J("innerHTML",n.lcZ(67,65,"connectivity.step-1"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(70,67,"connectivity.step-2"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(73,69,"connectivity.step-3"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(76,71,"connectivity.step-4"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(79,73,"connectivity.step-5"),n.oJD),n.xp6(15),n.Oqu(n.lcZ(94,75,"anthropogenicThreats.barrierCounterTitle")),n.xp6(3),n.Oqu(i.barrierCount),n.xp6(13),n.Q6J("innerHTML",n.lcZ(110,77,"anthropogenicThreats.step-1"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(113,79,"anthropogenicThreats.step-2"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(116,81,"anthropogenicThreats.step-3"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(119,83,"anthropogenicThreats.step-4"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(122,85,"anthropogenicThreats.step-5"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(125,87,"anthropogenicThreats.step-6"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(128,89,"anthropogenicThreats.step-7"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(131,91,"anthropogenicThreats.step-8"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(134,93,"anthropogenicThreats.step-9"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(137,95,"anthropogenicThreats.step-10"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(140,97,"anthropogenicThreats.step-11"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(143,99,"anthropogenicThreats.step-12"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(146,101,"anthropogenicThreats.step-13"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(149,103,"anthropogenicThreats.step-14"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(152,105,"anthropogenicThreats.step-15"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(155,107,"anthropogenicThreats.step-16"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(158,109,"anthropogenicThreats.step-17"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(161,111,"anthropogenicThreats.step-18"),n.oJD),n.xp6(29),n.Q6J("ngIf",i.platform.is("mobile")),n.xp6(1),n.Q6J("ngIf",i.platform.is("desktop")),n.xp6(49),n.Q6J("innerHTML",n.lcZ(240,113,"ecosystemImpacts.step-1"),n.oJD),n.xp6(2),n.Q6J("innerHTML",n.lcZ(242,115,"ecosystemImpacts.step-2"),n.oJD),n.xp6(2),n.Q6J("innerHTML",n.lcZ(244,117,"ecosystemImpacts.step-3"),n.oJD),n.xp6(2),n.Q6J("innerHTML",n.lcZ(246,119,"ecosystemImpacts.step-4"),n.oJD),n.xp6(2),n.Q6J("innerHTML",n.lcZ(248,121,"ecosystemImpacts.step-5"),n.oJD),n.xp6(2),n.Q6J("innerHTML",n.lcZ(250,123,"ecosystemImpacts.step-6"),n.oJD),n.xp6(2),n.Q6J("innerHTML",n.lcZ(252,125,"ecosystemImpacts.step-7"),n.oJD),n.xp6(2),n.Q6J("innerHTML",n.lcZ(254,127,"ecosystemImpacts.step-8"),n.oJD),n.xp6(2),n.Q6J("innerHTML",n.lcZ(256,129,"ecosystemImpacts.step-9"),n.oJD))},directives:[Kt.W2,Vt.mk,Vt.O5],pipes:[cr.Ot],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0}body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;min-height:1280px;color:#3b3b3b;font-size:24px}p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{margin:0;font-weight:400}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:teal;text-decoration:none;border-bottom:2px solid currentColor}nav[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between;background:#f3f3f3;padding:1rem 5rem 1rem 1rem;flex-wrap:wrap}.nav__examples[_ngcontent-%COMP%]{display:flex;align-items:baseline;flex-wrap:wrap;margin-top:1rem}#outro[_ngcontent-%COMP%]{height:640px}@media (min-width: 840px){.nav__examples[_ngcontent-%COMP%]{margin-top:0;margin-left:2rem}}  .hex[data-quantile="1"]{fill:#ffd8cd}  .hex[data-quantile="2"]{fill:#e48f87}  .hex[data-quantile="3"]{fill:#b65752}  .hex[data-quantile="4"]{fill:#812a27}  .hex[data-quantile="5"]{fill:#4f0000}  #connectivity #base,   #connectivity #longitudinal1,   #connectivity #longitudinal2,   #connectivity #lateral1,   #connectivity #lateral2,   #connectivity #vertical1,   #connectivity #vertical2,   #connectivity #temporal1,   #connectivity #temporal2{opacity:0}  #connectivity #base.active,   #connectivity #longitudinal1.active,   #connectivity #longitudinal2.active,   #connectivity #lateral1.active,   #connectivity #lateral2.active,   #connectivity #vertical1.active,   #connectivity #vertical2.active,   #connectivity #temporal1.active,   #connectivity #temporal2.active{opacity:1}  #connectivity #longitudinal2,   #connectivity #lateral2,   #connectivity #vertical2,   #connectivity #temporal2{animation:blinker 1s step-end infinite}  #connectivity #longitudinal1,   #connectivity #lateral1,   #connectivity #vertical1,   #connectivity #temporal1{animation:blinker 1s step-start infinite}@keyframes blinker{50%{opacity:0}}[_ngcontent-%COMP%]:root{--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: #f3f3f3;--ion-color-primary-contrast-rgb: 243, 243, 243;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61, 194, 255;--ion-color-secondary-contrast: #f3f3f3;--ion-color-secondary-contrast-rgb: 243, 243, 243;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82, 96, 255;--ion-color-tertiary-contrast: #f3f3f3;--ion-color-tertiary-contrast-rgb: 243, 243, 243;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #f3f3f3;--ion-color-success-contrast-rgb: 243, 243, 243;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #f3f3f3;--ion-color-danger-contrast-rgb: 243, 243, 243;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #f3f3f3;--ion-color-dark-contrast-rgb: 243, 243, 243;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #f3f3f3;--ion-color-medium-contrast-rgb: 243, 243, 243;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9}@media (prefers-color-scheme: _dark){body[_ngcontent-%COMP%]{--ion-color-primary: #428cff;--ion-color-primary-rgb: 66,140,255;--ion-color-primary-contrast: #f3f3f3;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3a7be0;--ion-color-primary-tint: #5598ff;--ion-color-secondary: #50c8ff;--ion-color-secondary-rgb: 80,200,255;--ion-color-secondary-contrast: #f3f3f3;--ion-color-secondary-contrast-rgb: 255,255,255;--ion-color-secondary-shade: #46b0e0;--ion-color-secondary-tint: #62ceff;--ion-color-tertiary: #6a64ff;--ion-color-tertiary-rgb: 106,100,255;--ion-color-tertiary-contrast: #f3f3f3;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #5d58e0;--ion-color-tertiary-tint: #7974ff;--ion-color-success: #2fdf75;--ion-color-success-rgb: 47,223,117;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #29c467;--ion-color-success-tint: #44e283;--ion-color-warning: #ffd534;--ion-color-warning-rgb: 255,213,52;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0bb2e;--ion-color-warning-tint: #ffd948;--ion-color-danger: #ff4961;--ion-color-danger-rgb: 255,73,97;--ion-color-danger-contrast: #f3f3f3;--ion-color-danger-contrast-rgb: 255,255,255;--ion-color-danger-shade: #e04055;--ion-color-danger-tint: #ff5b71;--ion-color-dark: #f4f5f8;--ion-color-dark-rgb: 244,245,248;--ion-color-dark-contrast: #000000;--ion-color-dark-contrast-rgb: 0,0,0;--ion-color-dark-shade: #d7d8da;--ion-color-dark-tint: #f5f6f9;--ion-color-medium: #989aa2;--ion-color-medium-rgb: 152,154,162;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #86888f;--ion-color-medium-tint: #a2a4ab;--ion-color-light: #222428;--ion-color-light-rgb: 34,36,40;--ion-color-light-contrast: #f3f3f3;--ion-color-light-contrast-rgb: 255,255,255;--ion-color-light-shade: #1e2023;--ion-color-light-tint: #383a3e}.ios[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{--ion-background-color: #000000;--ion-background-color-rgb: 0,0,0;--ion-text-color: #f3f3f3;--ion-text-color-rgb: 255,255,255;--ion-color-step-50: #0d0d0d;--ion-color-step-100: #1a1a1a;--ion-color-step-150: #262626;--ion-color-step-200: #333333;--ion-color-step-250: #404040;--ion-color-step-300: #4d4d4d;--ion-color-step-350: #595959;--ion-color-step-400: #666666;--ion-color-step-450: #737373;--ion-color-step-500: #808080;--ion-color-step-550: #8c8c8c;--ion-color-step-600: #999999;--ion-color-step-650: #a6a6a6;--ion-color-step-700: #b3b3b3;--ion-color-step-750: #bfbfbf;--ion-color-step-800: #cccccc;--ion-color-step-850: #d9d9d9;--ion-color-step-900: #e6e6e6;--ion-color-step-950: #f2f2f2;--ion-item-background: #000000;--ion-card-background: #1c1c1d}.ios[_ngcontent-%COMP%]   ion-modal[_ngcontent-%COMP%]{--ion-background-color: var(--ion-color-step-100);--ion-toolbar-background: var(--ion-color-step-150);--ion-toolbar-border-color: var(--ion-color-step-250)}.md[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{--ion-background-color: #121212;--ion-background-color-rgb: 18,18,18;--ion-text-color: #f3f3f3;--ion-text-color-rgb: 255,255,255;--ion-border-color: #222222;--ion-color-step-50: #1e1e1e;--ion-color-step-100: #2a2a2a;--ion-color-step-150: #363636;--ion-color-step-200: #414141;--ion-color-step-250: #4d4d4d;--ion-color-step-300: #595959;--ion-color-step-350: #656565;--ion-color-step-400: #717171;--ion-color-step-450: #7d7d7d;--ion-color-step-500: #898989;--ion-color-step-550: #949494;--ion-color-step-600: #a0a0a0;--ion-color-step-650: #acacac;--ion-color-step-700: #b8b8b8;--ion-color-step-750: #c4c4c4;--ion-color-step-800: #d0d0d0;--ion-color-step-850: #dbdbdb;--ion-color-step-900: #e7e7e7;--ion-color-step-950: #f3f3f3;--ion-item-background: #1e1e1e;--ion-toolbar-background: #1f1f1f;--ion-tab-bar-background: #1f1f1f;--ion-card-background: #1e1e1e}}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.centered_text_block[_ngcontent-%COMP%]{margin-left:20vw;margin-right:20vw}.centered_text_block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.centered_text_block[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;justify-content:center;flex-direction:column}#breadcrumb[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2000}#breadcrumb[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;flex-wrap:nowrap}#breadcrumb[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin:auto}.stacked_img[_ngcontent-%COMP%]{position:absolute}section[_ngcontent-%COMP%]{position:relative;background-color:var(--ion-color-primary-contrast);padding:1rem}section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{position:relative;max-width:80vw}section[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{position:sticky;width:95vw;margin:auto;transform:translate(0);z-index:0}section[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;padding:1rem;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:8rem;font-weight:900;color:var(--ion-color-primary-contrast)}section[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{margin:0 auto 2rem;color:#3b3b3b;font-size:5rem;text-align:center;opacity:0;transition-duration:.5s;transition-property:opacity;background-color:#f3f3f380;display:flex}section[_ngcontent-%COMP%]   .step.separator[_ngcontent-%COMP%]{background-color:transparent}section[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}section[_ngcontent-%COMP%]   .step.is-active[_ngcontent-%COMP%]{opacity:1}section[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:last-child{margin-bottom:0}section[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;padding:1rem;font-size:1.5rem}.scrolly-sticky-side[_ngcontent-%COMP%]{display:flex}.scrolly-sticky-side[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin:0}.scrolly-sticky-side[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{font-size:2rem}.scrolly-sticky-side[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{flex:1}.scrolly-sticky-side[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{padding:0 1rem}.scrolly-overlay[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{padding:0;margin:0 auto}.scrolly-overlay[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{left:0}.scrolly-overlay[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:#3b3b3b}#healthy_rivers[_ngcontent-%COMP%]   .map_global_rivers[_ngcontent-%COMP%]{top:10vh;height:calc(100% - 20vh);width:100%;opacity:0;transition-property:opacity;transition-duration:.5s}#healthy_rivers[_ngcontent-%COMP%]   .map_global_rivers.active[_ngcontent-%COMP%]{opacity:1}#river_connectivities[_ngcontent-%COMP%]   .river_connectivity_animation[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transition-duration:.5s;margin-top:25%;margin-left:12.5%;margin-right:12.5%}#river_connectivities[_ngcontent-%COMP%]   .river_connectivity_animation.active[_ngcontent-%COMP%]{opacity:1}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats[_ngcontent-%COMP%]{top:10vh;width:100%;height:calc(100% - 20vh);opacity:0;transition-duration:.5s}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats[_ngcontent-%COMP%]     svg{width:100%}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats.active[_ngcontent-%COMP%]{opacity:1}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats.active[_ngcontent-%COMP%]:not(#anthropogenic_threats_hex_bin)  svg path{fill:#db7870;transition:fill .5s}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats.active#anthropogenic_threats_hex_bin[_ngcontent-%COMP%]  svg path.focused{stroke:#000!important;stroke-width:1px!important}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100%}#anthropogenic_threats[_ngcontent-%COMP%]   .anthropogenic_threats.transitioned[_ngcontent-%COMP%]:not(#anthropogenic_threats_hex_bin)  svg path{fill:#1e0e04;fill-opacity:.5}#anthropogenic_threats[_ngcontent-%COMP%]   #barrier_counter[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#fefefe;color:#8b0000;z-index:20}']}),t})()}];let hs=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[Tt.Bz.forChild(fs)],Tt.Bz]}),t})();et(7596);let ps=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[Vt.ez,Ht.u5,Kt.Pc,hs,cr.y4]]}),t})()},1397:function(dn){dn.exports=function(){"use strict";function Vt({id:M,step:q,marginTop:U}){const{index:G,height:ht}=q,pt=`scrollama__debug-step--${M}-${G}`;let dt=document.querySelector(`.${pt}`);dt||(dt=function et(M){const q=document.createElement("div");q.className=`scrollama__debug-step ${M}`,q.style.position="fixed",q.style.left="0",q.style.width="100%",q.style.zIndex="9999",q.style.borderTop="2px solid black",q.style.borderBottom="2px solid black";const U=document.createElement("p");return U.style.position="absolute",U.style.left="0",U.style.height="1px",U.style.width="100%",U.style.borderTop="1px dashed black",q.appendChild(U),document.body.appendChild(q),q}(pt)),dt.style.top=-1*U+"px",dt.style.height=`${ht}px`,dt.querySelector("p").style.top=ht/2+"px"}function Ht(M){console.error(`scrollama error: ${M}`)}function Tt(M){return+M.getAttribute("data-scrollama-index")}function At(M){if("string"==typeof M&&M.indexOf("px")>0){const q=+M.replace("px","");return isNaN(q)?(err("offset value must be in 'px' format. Fallback to 0.5."),{format:"percent",value:.5}):{format:"pixels",value:q}}return"number"!=typeof M&&isNaN(+M)?null:(M>1&&err("offset value is greater than 1. Fallback to 1."),M<0&&err("offset value is lower than 0. Fallback to 0."),{format:"percent",value:Math.min(Math.max(0,M),1)})}function Gt(M){const{top:q}=M.getBoundingClientRect();return q+window.pageYOffset-(document.body.clientTop||0)}let Zt,Dt,ft;function Wt(M){const q=M?M.scrollTop:window.pageYOffset;Zt!==q&&(Zt=q,Zt>Dt?ft="down":Zt<Dt&&(ft="up"),Dt=Zt)}return function Je(){let G,ht,M={},q=function Kt(){const M="abcdefghijklmnopqrstuvwxyz",q=Date.now(),U=[];for(let G=0;G<6;G+=1){const ht=M[Math.floor(Math.random()*M.length)];U.push(ht)}return`${U.join("")}${q}`}(),U=[],pt=0,dt=!1,jt=!1,me=!1,ve=!1,te=[];function ee(){M={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},te=[]}function Jt(b){b&&!dt&&ne(),!b&&dt&&ye(),dt=b}function Mt(b,I){const N=Tt(b),R=U[N];void 0!==I&&(R.progress=I),"enter"===R.state&&M.stepProgress({element:b,index:N,progress:I,direction:ft})}function $e([b]){const I=Tt(b.target),N=U[I],R=b.target.offsetHeight;R!==N.height&&(N.height=R,_e(N),be(N),we(N))}function Fe([b]){Wt(ht);const{isIntersecting:I,target:N}=b;I?function Ie(b,I=!0){const N=Tt(b),R=U[N],K={element:b,index:N,direction:ft};R.direction=ft,R.state="enter",te[N]||M.stepEnter(K),ve&&(te[N]=!0)}(N):function Re(b,I=!0){const N=Tt(b),R=U[N];if(!R.state)return!1;const K={element:b,index:N,direction:ft};jt&&("down"===ft&&R.progress<1?Mt(b,1):"up"===ft&&R.progress>0&&Mt(b,0)),R.direction=ft,R.state="exit",M.stepExit(K)}(N)}function Qe([b]){const I=Tt(b.target),N=U[I],{isIntersecting:R,intersectionRatio:K,target:lt}=b;R&&"enter"===N.state&&Mt(lt,K)}function _e({observers:b}){Object.keys(b).map(I=>{b[I].disconnect()})}function ye(){U.forEach(_e)}function we(b){const I=new ResizeObserver($e);I.observe(b.node),b.observers.resize=I}function be(b){const I=window.innerHeight,N=b.offset||G,K=N.value*("pixels"===N.format?1:I),lt=b.height/2-K,kt=b.height/2-(I-K),St=new IntersectionObserver(Fe,{rootMargin:`${lt}px 0px ${kt}px 0px`,threshold:.5});St.observe(b.node),b.observers.step=St,me&&Vt({id:q,step:b,marginTop:lt,marginBottom:kt})}function Be(b){const I=window.innerHeight,N=b.offset||G,K=N.value*("pixels"===N.format?1:I),Pt=`${-K+b.height}px 0px ${K-I}px 0px`,yt=function ge(M,q){const U=Math.ceil(M/q),G=[],ht=1/U;for(let pt=0;pt<U+1;pt+=1)G.push(pt*ht);return G}(b.height,pt),St=new IntersectionObserver(Qe,{rootMargin:Pt,threshold:yt});St.observe(b.node),b.observers.progress=St}function ne(){ye(),function Xe(){U.forEach(we)}(),function Ye(){U.forEach(be)}(),jt&&function Ve(){U.forEach(Be)}()}const Y={setup:({step:b,parent:I,offset:N=.5,threshold:R=4,progress:K=!1,once:lt=!1,debug:kt=!1,container:Pt})=>(function De(M){Zt=0,Dt=0,document.addEventListener("scroll",()=>Wt(M))}(Pt),U=function Bt(M,q=document){return"string"==typeof M?Array.from(q.querySelectorAll(M)):M instanceof Element?[M]:M instanceof NodeList?Array.from(M):M instanceof Array?M:[]}(b,I).map((yt,Lt)=>({index:Lt,direction:void 0,height:yt.offsetHeight,node:yt,observers:{},offset:At(yt.dataset.offset),top:Gt(yt),progress:0,state:void 0})),U.length?(jt=K,ve=lt,me=kt,pt=Math.max(1,+R),G=At(N),ht=Pt,ee(),function He(M){M.forEach(q=>q.node.setAttribute("data-scrollama-index",q.index))}(U),Jt(!0),Y):(Ht("no step elements"),Y)),enable:()=>(Jt(!0),Y),disable:()=>(Jt(!1),Y),destroy:()=>(Jt(!1),ee(),Y),resize:()=>(ne(),Y),offset:b=>null==b?G.value:(G=At(b),ne(),Y),onStepEnter:b=>("function"==typeof b?M.stepEnter=b:Ht("onStepEnter requires a function"),Y),onStepExit:b=>("function"==typeof b?M.stepExit=b:Ht("onStepExit requires a function"),Y),onStepProgress:b=>("function"==typeof b?M.stepProgress=b:Ht("onStepProgress requires a function"),Y)};return Y}}()}}]);